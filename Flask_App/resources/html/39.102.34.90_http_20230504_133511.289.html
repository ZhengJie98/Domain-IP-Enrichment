HTTP/1.1 200 OK
Date: Thu, 04 May 2023 05:35:12 GMT
Content-Type: text/html; charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
Vary: Accept-Encoding
Vary: Accept-Encoding
X-Powered-By: PHP/7.1.8

<!DOCTYPE html>
<html lang="">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="" />
    <meta http-equiv="X-UA-Compatible" content="IE=9;IE=8;ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SmartChat智能对话</title>
    <meta name="keywords" content="SmartChat智能对话" />
    <meta name="Description" content="SmartChat智能对话" />
    <link rel="shortcut icon" href="./favicon.ico" />
    <style>
      html {
        font-family: "Helvetica Neue", Helvetica, STHeiTi, Arial, sans-serif;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
        height: 100%;
      }

      footer {
        display: block;
      }

      a {
        background: transparent;
        text-decoration: none;
        -webkit-tap-highlight-color: transparent;
      }

      a:active {
        outline: 0;
      }

      img {
        border: 0;
        vertical-align: middle;
      }

      button {
        color: inherit;
        font: inherit;
        margin: 0;
        overflow: visible;
        text-transform: none;
        -webkit-appearance: button;
        cursor: pointer;
      }

      button[disabled],
      html input[disabled] {
        cursor: default;
      }

      button::-moz-focus-inner {
        border: 0;
        padding: 0;
      }

      ol,
      ul,
      li,
      div {
        margin: 0;
        padding: 0;
        border: 0;
        list-style: none;
        vertical-align: baseline;
      }

      .clear {
        clear: both;
      }

      a:link,
      a:visited {
        color: #fff;
        text-decoration: none;
      }

      * {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      body {
        margin: 0;
        color: #333333;
        background: #f7f8fa;
        -webkit-overflow-scrolling: touch;
        font-family: "Helvetica Neue";
        height: 100%;
        min-width: 1200px;
        max-width: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        background: url("./imgs/bg.jpg") no-repeat center top;
        background-attachment: fixed;
        background-size: cover;
      }

      .main {
        min-height: 100%;
        max-width: 1200px;
        margin: 0 auto;
      }

      .wrapper {
        padding-bottom: 100px;
      }

      .header {
        padding: 40px 0;
      }

      .header-logo {
        text-decoration: none;
        color: #fff;
      }

      .content {
        text-align: center;
      }

      .slogan {
        display: block;
        margin: 100px auto 0;
        font-size: 50px;
        color: #fff;
      }

      .download {
        display: inline-block;
        margin-top: 40px;
      }

      .changelog {
        margin-top: 60px;
        text-align: center;
      }

      .changelog span {
        margin: 0 8px;
        font-size: 14px;
        line-height: 2;
        color: #fff;
      }

      .feat-list {
        position: relative;
        margin-top: 80px;
        overflow: hidden;
      }

      .feat-item {
        float: left;
        width: 33.333333%;
      }

      .footer {
        width: 100%;
        height: auto;
        padding: 40px 0 20px;
        text-align: center;
        color: #fff;
        font-size: 14px;
        margin-top: -100px;
      }

      .footer a:link {
        color: #fff;
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      .footer a:visited {
        color: #fff;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="wrapper">
        <div class="header">
          <a href="./" target="_self" class="header-logo">
            <img width="25" src="./imgs/logo.png" alt="logo" />
            <span>SmartChat智能对话</span>
          </a>
        </div>
        <div class="content">
          <p class="slogan">SmartChat智能对话</p>
          <a href="./" class="download">
            <img src="./imgs/btn-download.png" alt="download" />
          </a>
          <div class="changelog">
            <span class="os"
              >支持系统：<span class="os-info">Windows 10/11</span></span
            >
            <span class="version"
              >最新版本：<span class="version-info">1.1000.0220.001</span></span
            >
            <span class="date"
              >更新时间：<span class="date-info">2023-02-20</span></span
            >
          </div>
          <!-- <ul class="feat-list">
            <li class="feat-item">
              <img src="" alt="fast">
            </li>
            <li class="feat-item"><img src="" alt="hd"></li>
            <li class="feat-item">
              <img src="" alt="easy">
            </li>
          </ul> -->
        </div>
      </div>
    </div>
    <div class="footer">
      <ul>
        <li class="beian-subject">版权所有：天津微极智科技有限公司</li>
        <li>
          <a href="http://beian.miit.gov.cn/" class="beian" target="_blank">津ICP备2022004637号-1</a>
        </li>
      </ul>
    </div>
    <script>
      window.onload = function () {
        getUpdateVersion();
      };

      function getUpdateVersion() {
        jsonp({
          url: "/index/nowVersion",
          jsonp: "jsonpCallback",
          data: {},
          success: function (res) {
            handelRes(res);
          },
          error: function (error) {
            console.log(error);
          },
        });
      }

      function handelRes(data) {
        if (data.errno === 0) {
          getElementsByClassName("download")[0].setAttribute(
            "href",
            data.data.downUrl || ""
          );
          getElementsByClassName("os-info")[0].innerText =
            data.data.supportOS || "";
          getElementsByClassName("version-info")[0].innerText =
            data.data.outVersion || "";
          getElementsByClassName("date-info")[0].innerText =
            data.data.updateTime || "";
        }
      }

      function getElementsByClassName(clsName) {
        if (document.getElementsByClassName) {
          return document.getElementsByClassName(clsName);
        }
        var retnode = [];
        var element = document.getElementsByTagName("*");
        for (var i = 0; i < element.length; i++) {
          if (
            (" " + element[i].className + " ").indexOf(" " + clsName + " ") > -1
          ) {
            retnode.push(element[i]);
          }
        }
        return retnode;
      }

      function jsonp(params) {
        //创建script标签并加入到页面中
        var callbackName = params.jsonp;
        var head = document.getElementsByTagName("head")[0];
        // 设置传递给后台的回调参数名
        params.data["callback"] = callbackName;
        var data = formatParams(params.data);
        var script = document.createElement("script");
        head.appendChild(script);
        //创建jsonp回调函数
        window[callbackName] = function (json) {
          head.removeChild(script);
          clearTimeout(script.timer);
          window[callbackName] = null;
          params.success && params.success(json);
        };
        //发送请求
        script.src = params.url + "?" + data;
        //为了得知此次请求是否成功，设置超时处理
        if (params.time) {
          script.timer = setTimeout(function () {
            window[callbackName] = null;
            head.removeChild(script);
            params.error &&
              params.error({
                message: "超时",
              });
          }, time);
        }
        //格式化参数
        function formatParams(data) {
          var arr = [];
          for (var name in data) {
            arr.push(
              encodeURIComponent(name) + "=" + encodeURIComponent(data[name])
            );
          }
          // 添加一个随机数，防止缓存
          arr.push("v=" + random());
          return arr.join("&");
        }
        // 获取随机数
        function random() {
          return Math.floor(Math.random() * 10000 + 500);
        }
      }
    </script>
  </body>
</html>
