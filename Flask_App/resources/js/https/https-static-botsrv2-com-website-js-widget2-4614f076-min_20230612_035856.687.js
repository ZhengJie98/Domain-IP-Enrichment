!function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[r]={exports:{}};e[r][0].call(c.exports,(function(t){return i(e[r][1][t]||t)}),c,c.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=d(t("url-parse")),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=c(e);if(o&&o.has(t))return o.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var r=i?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}n.default=t,o&&o.set(t,n);return n}(t("dot-object")),a=d(t("js-cookie")),r=d(t("./store")),s=d(t("exit-intent-mobile")),u=d(t("tinycon")),l=d(t("../../../server/public/quriobot/assets/js/QuriobotWidget"));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(c=function(t){return t?o:e})(t)}function d(t){return t&&t.__esModule?t:{default:t}}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},writable:!0,configurable:!0}),l.default.URL=n.default,l.default.dotObject=i,l.default.store=r.default,l.default.Cookies=a.default,l.default.exitIntent=s.default,l.default.Tinycon=u.default;const p=(t,e,o,n,i)=>{let a=o?"POST":"GET";i&&(i.useProxy&&(o={url:t,data:o,headers:n},t="/api/proxy"),i.method&&(a=i.method));try{var r=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");i&&i.withCredentials&&(r.withCredentials=!0),r.open(a,t,1),(n=n||{})["Content-Type"]||(n["Content-Type"]="application/json"),Object.keys(n).forEach((t=>{r.setRequestHeader(t,n[t])})),r.onreadystatechange=function(){r.readyState>3&&e&&e(r.responseText,r)},r.send((Object.toJSON||JSON.stringify)(o))}catch(t){window.console&&console.log(t)}};l.default.ajax=p;const f=l.default.init;l.default.init=t=>{const e="width=device-width, initial-scale=1";for(var o=window.document.getElementsByTagName("meta"),a=!1,r=0;r<o.length;r++){var s=o[r];if("viewport"===s.name){var u=s.getAttribute("content");(!u||-1===u.indexOf(e)&&-1===u.indexOf("width"))&&s.setAttribute("content",e),a=!0;break}}if(!a){var c=window.document.createElement("meta");c.setAttribute("name","viewport"),c.setAttribute("content",e),window.document.head.appendChild(c)}let d=i.dot(t.context||{}),h=Object.keys(d),g=new n.default(window.location.href,!0);t.api||(t.api={});for(let e=0;e<h.length;e++){const o=h[e],n=`qb.${o}`,a=n.replace(/\./g,"_");let r=d[o];void 0!==g.query[n]&&(r=JSON.parse(g.query[n]),i.str(o,r,t.context)),t.api[a]=function(t,e,o,n){n({base:o.html,content:e},!0)}.bind(void 0,o,r)}var v={onSave:function(t,e,o,n){if(e){var i=l.default.options.saveUrl;if(t.responseId=e,n&&window.navigator&&window.navigator.sendBeacon){var a=new Blob([(Object.toJSON||JSON.stringify)(t)],{type:"text/plain"});window.navigator.sendBeacon(i,a),o&&o()}else p(i,(function(){o&&o()}),t,{"Content-Type":"application/json"})}else o&&o()},onUpdate:function(t,e,o){if(e){var n=l.default.options.updateUrl;t.responseId=e,p(n,(function(){o&&o()}),t,{"Content-Type":"application/json"})}else o&&o()}};for(let e in t)"onSave"!==e&&"onUpdate"!==e&&v[e]||(v[e]=t[e]);t.onSave&&!t.onUpdate&&delete v.onUpdate,f(v)};var h=l.default;o.default=h},{"../../../server/public/quriobot/assets/js/QuriobotWidget":4,"./store":2,"dot-object":6,"exit-intent-mobile":7,"js-cookie":8,tinycon:18,"url-parse":19}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=l(t("store/src/store-engine")),i=l(t("store/storages/localStorage")),a=l(t("store/storages/cookieStorage")),r=l(t("store/storages/memoryStorage")),s=l(t("store/plugins/defaults")),u=l(t("store/plugins/expire"));function l(t){return t&&t.__esModule?t:{default:t}}const c=[i.default,a.default,r.default],d=[s.default,u.default],p=n.default.createStore(c,d);p.addPlugin((function(){return{set:function(t,e,o){try{return t()}catch(e){return this.clearAll(),t()}}}}));var f=p;o.default=f},{"store/plugins/defaults":11,"store/plugins/expire":12,"store/src/store-engine":13,"store/storages/cookieStorage":15,"store/storages/localStorage":16,"store/storages/memoryStorage":17}],3:[function(require,module,exports){(function(qbBaseURL){(function(){"use strict";var _quriobot=_interopRequireDefault(require("./common/scripts/quriobot"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}if(void 0!==window.quriobot)throw new Error("Script is included twice!");window.botsrv=window.quriobot=_quriobot.default;const ready=function(t){if("complete"===window.document.readyState)return t();window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent?window.attachEvent("onload",t):window.onload=t},init=_quriobot.default.init;window.quriobot.init=qbOptions=>{!qbOptions&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=window.qbOptions[window.qbOptions.length-1]);let path="object"==typeof qbOptions&&qbOptions&&qbOptions.use;if(!path&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=Object.assign(qbOptions,window.qbOptions[window.qbOptions.length-1],qbOptions),path=qbOptions.use),!path){const t="path is not provided nor can be obtained from the last element of window.qbOptions!";return void console.error(t)}const baseURL=qbBaseURL,dataURL=new window.quriobot.URL(`${baseURL}/qb/data2/${path}`,!0),currentURL=new window.quriobot.URL(window.location.href,!0);if(dataURL.query=currentURL.query,dataURL.query.qbReferer=window.location.href,dataURL.query.qbVersion=(new Date).getTime(),!dataURL.query.lang&&qbOptions.language&&(dataURL.query.lang=qbOptions.language),!dataURL.query.lang){var lang=window.quriobot.store.get(`qbLang-${path}`);if(!lang){if(window.google&&window.google.translate&&window.google.translate.TranslateElement&&window.google.translate.TranslateElement.getInstance){const t=window.google.translate.TranslateElement.getInstance();if(t){const e=t.j;!e||t.B&&t.B[e]||(lang=e)}}const t=_quriobot.default.Cookies.get("googtrans");!lang&&t&&(lang=t.split("/").pop())}lang&&(dataURL.query.lang=lang)}const dataURLString=dataURL.toString();window.quriobot.ajax(dataURLString,((responseText,request)=>{if(200!==request.status)return void console.error("Error getting the widget data:",request.status);const qbDATA=JSON.parse(responseText),fromServer=qbDATA;let options=fromServer.widgetOptions;if("object"==typeof options)if(_quriobot.default.inited)console.error("Widget is already initialized, make sure that the trigger conditions for the included bots are mutially exclusive!");else{if(options.initOptions&&options.initOptions.trim())try{const initOptions=eval(`(${options.initOptions})`);options=Object.assign(options,initOptions||"{}")}catch(t){console.error("Error evaluating the init options",t)}if("object"==typeof qbOptions&&qbOptions)for(let t in qbOptions)options[t]=qbOptions[t];options.dataUrl=dataURLString,options.loadStyles=!0,init(options)}}),null,null,{withCredentials:!0})},ready((()=>{Array.isArray(window.qbOptions)||(window.qbOptions=[]);for(let t=0;t<window.qbOptions.length;t++){const e=window.qbOptions[t];if(e.onScriptLoad)try{window[e.onScriptLoad]()}catch(t){console.error(t)}"explicit"!==e.init&&setTimeout((()=>{window.quriobot.init(e||{})}),e.delay||0)}}))}).call(this)}).call(this,"https://botsrv2.com")},{"./common/scripts/quriobot":1}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;const n=t("cross-safe-eval")(),i={options:{use:null,url:"/qb/data2/",baseUrl:"",saveUrl:"",updateUrl:"",startUrl:"",uploadUrl:"",staticUrl:"",liveChatUrl:"",createFeedbackUrl:"",knowledgeBaseSearchUrl:"",getStepOptionsUrl:"",getVariableUrl:"",startButtonTitle:"Start chatbot",language:"en",isRtl:!1,wrapper:"botwrapper",button:"botbutton",autoStart:3e3,autoStartCount:0,maxAutoStartCount:0,restoreState:!0,restartAfterClose:!0,showCloseButton:!0,autoExit:!0,version:"dev",mode:"default",position:"right",positionRtl:"right",preventExitIfIncomplete:!1,widgetCss:null,widgetBaseCss:null,widgetCustomCss:null,visitor:null,whiteLabel:!1,avatarImage:"",viewMode:"unboxed",botOffset:{top:null,bottom:null},stickyAvatarOffset:{bottom:null},stickyAvatarPopup:{showAfterClose:!1,image:null,avatar:null,showOnExitIntent:null,showOnExitIntentMobile:null,showOnExitIntentTimeout:null,showOnExitIntentTimeoutMobile:null,faviconBubble:!0},soundNotifications:{},liveChat:null,openOnExitIntent:null,openOnExitIntentMobile:null,openOnExitIntentTimeout:null,openOnExitIntentTimeoutMobile:null,recaptchaSiteKey:null,loadStyles:!0,init:null,onScriptLoad:null,context:null,botData:null,showStickyAvatar:"always",ga:!1,gaEvents:!1,gtmEvents:!1,preload:!1,branding:{},disableRedo:!1,removeHistoryOnRedo:!1,disableFeedback:!1,expiryTimeout:1,visitorTimeout:14,useDynamicTranslation:!1,i18n:{accessibility:{button:"Press this button to turn on accessibility mode"},branding:{title:"Create your own quriobot",url:"https://quriobot.com?utm_source=qb_widget"},foldOut:{close:"Close"},footer:{close:{title:"Close"},more:{title:"More"},restart:{title:"Restart"},settings:{botPosition:{center:"Center",full_width:"Full width",label:"Position",left:"Left",right:"Right"},botResponds:"Bot responds",title:"Settings"},terms:{title:"Terms and conditions"}},notification:{preview:{title:"Preview mode"}},redo:{button:{title:"Redo"}}},entryPoint:null,onAnswer:function(t,e,o){},onAnswerRedo:function(t,e,o){},onExit:function(t){},onFinish:function(t){},onLeave:function(t){},onRedo:function(t,e,o){},onReturn:function(t){},onValidate:function(t,e){e(!0)},onSave:function(t,e,o){o()},onUpdate:function(t,e,o){o()},onLoad:function(t){},onQuestion:function(t,e){},onLiveChat:function(t,e){},onLiveChatMessageCreated:function(t){},onInit:function(){},onStart:function(t){},onSoftStart:function(){},onHide:function(){},onShow:function(){}},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},preventAutoStart:function(){i.autoallowed=!1},allowAutoStart:function(){i.autoallowed=!0,i.autostart()},setCookie:function(t,e,o,n){t=t+"-"+this.options.use;var a=this.options.visitor;!n&&a&&a.id&&(t=t+"-"+a.id),i.store.get(t)!==e&&i.store.set(t,e,o)},deleteCookie:function(t){t=t+"-"+this.options.use;var e=this.options.visitor;e&&e.id&&(t=t+"-"+e.id),i.store.remove(t)},getCookie:function(t,e,o){if(t=t+"-"+this.options.use,!o){var n=this.options.visitor;n&&n.id&&(t=t+"-"+n.id)}return i.store.defaults({[t]:e}),i.store.get(t)},shouldAutoStart:function(t){var e=parseInt(i.getCookie("qbStartCount","0",!0)),o=i.getCookie("qbClosed",!1,!0),n=i.getCookie("qbPopupClosed",!1,!0);i.autoStart=("number"==typeof i.options.autoStart||"boolean"==typeof i.options.autoStart&&i.options.autoStart||t)&&(!i.options.autoStartCount||e>=i.options.autoStartCount)&&(!i.options.maxAutoStartCount||e<i.options.maxAutoStartCount)&&(i.options.restartAfterClose||!o&&!n);var a=i.getRestoreData();return(i.autoStart||i.shouldRestoreState(a)&&a&&!i.isMobile()&&(a.followRedirect||a.isOpen&&a.answers&&a.answers.length))&&!i.hasstarted&&i.autoallowed},autoStartCount:function(){var t=parseInt(i.getCookie("qbStartCount","0",!0));t++,i.setVisitorCookie("qbStartCount",t,!0)},autostart:function(){if("outOfQuota"!==i.options.mode){if(i.options.openOnExitIntent||i.options.openOnExitIntentMobile){i.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:i.options.openOnExitIntent?i.options.openOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:i.options.openOnExitIntentMobile?i.options.openOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:()=>{i.shouldAutoStart(!0)&&(i.autoStartCount(),i.soundNotification("start"),i.start())},debug:!1})}if(i.shouldAutoStart()){var t=!0===i.options.autoStart?1500:i.options.autoStart;setTimeout((function(){i.shouldAutoStart()&&(i.autoStartCount(),i.soundNotification("start"),i.start())}),t)}}},buttonstart:function(){var t=i.button;if(!1!==i.options.button){i.isMobile();var e=i.options.stickyAvatarPopup.showOnHover;e||t.addEventListener("click",(function(e){t.classList.contains("showPopup")||e.target.id!==i.options.button||i.start()})),i.popupButton&&i.popupButton.addEventListener("click",(function(o){"quriobotPopupButton"===o.target.id&&(i.start(),i.button.classList.contains("showPopup")&&(t.classList.remove("showPopup"),i.button.setAttribute("aria-expanded",!1)),e&&t.classList.add("hoverModeOn"),i.popupClose&&!i.isMobile()&&(i.popupClose.parentNode.removeChild(i.popupClose),i.popupClose=void 0))}))}},avatarPopupClose:function(){var t=i.button;i.popupClose&&i.popupClose.addEventListener("click",(function(){i.setVisitorCookie("qbPopupClosed",!0,!0),t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1),setTimeout((function(){i.options.stickyAvatarPopup.showOnHover&&t.classList.add("hoverModeOn"),!i.isMobile()&&i.popupClose&&(i.popupClose.parentNode.removeChild(i.popupClose),i.popupClose=void 0)}),1e3)}))},popupAutoShown:!1,showPopup:function(t){this.onPopup(t),i.button.classList.add("showPopup"),t&&i.button.classList.remove("hoverModeOn"),i.button.setAttribute("aria-expanded",!0),i.Tinycon&&!1!==i.options.stickyAvatarPopup.faviconBubble&&i.Tinycon.setBubble(i.liveChatMessageUnread+1)},popupAutoShow:function(){i.show(!0);var t=i.options.stickyAvatarPopup,e=i.button,o=i.getCookie("qbPopupClosed",!1,!0),n=i.getCookie("qbClosed",!1,!0);if(t.autoShow&&e.classList.contains("show")&&(t.showAfterClose||!o&&!n)&&setTimeout((function(){i.showPopup(!0)}),void 0===t.autoShowTimeout?3e3:t.autoShowTimeout),t.showOnExitIntent||t.showOnExitIntentMobile){i.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:t.showOnExitIntent?t.showOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:t.showOnExitIntentMobile?t.showOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:function(){i.showPopup(!0)},debug:!1})}},showPopupHandle:function(){var t=i.button,e=i.options.stickyAvatarPopup.showOnHover;if(!1!==i.options.button&&e)if(i.isMobile())t.addEventListener("click",(function(e){t.classList.contains("showPopup")||"quriobotPopupClose"===e.target.id||i.showPopup()}));else{function o(e){!t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&i.showPopup()}t.addEventListener("mouseenter",o),t.addEventListener("click",o),t.addEventListener("mouseleave",(function(e){t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&(t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1))}))}},getLangStorageKey:function(){var t="qbLang-"+this.options.use,e=this.options.visitor;return e&&(t=t+"-"+e.id),t},changePosition:function(t){switch(i.button.classList.remove("position--left"),i.container.classList.remove("position--left"),i.button.classList.remove("position--center"),i.container.classList.remove("position--center"),i.button.classList.remove("position--full_width"),i.container.classList.remove("position--full_width"),t){case"left":i.button.classList.add("position--left"),i.container.classList.add("position--left");break;case"center":i.button.classList.add("position--center"),i.container.classList.add("position--center");break;case"full_width":i.button.classList.add("position--full_width"),i.container.classList.add("position--full_width")}i.message.send("changePosition",t)},modal:function(t){i.container.className=t?i.container.className+" modal--opened":i.container.className.replace(/\s*modal--opened/g,""),i.message.send("modal",t)},addOffset:function(){if(i.options.botOffset){var t=i.options.botOffset.top,e=i.options.botOffset.bottom,o=i.container;(t||e)&&(o.style.setProperty("top",t?t.value+t.units:0,"important"),o.style.setProperty("bottom",e?e.value+e.units:0,"important"),o.style.setProperty("height","auto","important"))}},addAvatarOffset:function(){if(i.options.stickyAvatarOffset&&i.button){var t=i.options.stickyAvatarOffset.bottom,e=window.innerHeight-100;t&&i.button.style.setProperty("bottom",(t.value+100>e?e:t.value)+t.units,"important")}},load:{styles:function(){var t;i.options.loadStyles&&(document.head.insertAdjacentHTML("beforeend",i.options.widgetBaseCss),i.children.push(document.head.lastChild),i.options.widgetCustomCss&&((t=document.createElement("style")).innerHTML=i.options.widgetCustomCss,i.children.push(t),document.head.appendChild(t)),i.options.widgetCss&&((t=document.createElement("link")).type="text/css",t.rel="stylesheet",t.href=i.options.baseUrl+i.options.widgetCss+"?v="+i.options.version,i.children.push(t),document.head.appendChild(t)));if(i.options.avatarImage||i.options.stickyAvatarPopup.image){var e=document.createElement("style");i.options.avatarImage&&(e.innerHTML+=".quriobotWidgetButton:before { background-image: url('"+i.options.avatarImage+"') !important; }\n"),i.options.stickyAvatarPopup.image&&(e.innerHTML+=".fold-out__avatar { background-image: url('"+i.options.avatarImage+"') !important; }\n",e.innerHTML+=".#content #message a.use-bot span { background-image: url('"+i.options.avatarImage+"') !important; }\n"),document.head.appendChild(e)}},constAllowIframe:"accelerometer; autoplay; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; magnetometer; microphone; midi; payment; picture-in-picture; usb; xr-spatial-tracking",widget:function(){var t=document.body,e=document.createElement("div");switch(e.id="quriobotWidgetContainer",e.className="quriobotWidgetContainer",e.style.setProperty("opacity",0),e.setAttribute("aria-hidden",!0),"boxed"===i.options.viewMode&&(e.className+=" viewMode--boxed"),i.options.position){case"left":e.className+=" position--left";break;case"center":e.className+=" position--center";break;case"full_width":e.className+=" position--full_width"}if("outOfQuota"!==i.options.mode){var o=document.createElement("div");o.insertAdjacentHTML("beforeend",i.options.dll);var n=document.createElement("script");n.type=o.lastChild.type,n.src=o.lastChild.src,n.innerHTML=o.lastChild.innerHTML,n.setAttribute("integrity",o.lastChild.getAttribute("integrity")),n.setAttribute("crossorigin",o.lastChild.getAttribute("crossorigin")),n.onload=function(){var o=document.createElement("iframe");if(o.id=i.options.wrapper,o.className="quriobotWidget",o.src=i.options.baseUrl+"/bot",i.options.staticUrl){var n=new i.URL(o.src,!0);n.query.staticURL=i.options.staticUrl,n.query.lang=i.options.language,o.src=n.toString()}o.setAttribute("frameborder","0"),o.setAttribute("aria-hidden","true"),o.setAttribute("role","dialog"),o.setAttribute("allow",this.constAllowIframe),e.appendChild(o);var a,r=i.options.language,s=i.numeral.locales;if(s&&s[r])a=r;else{var u=r&&r.split("-")[0];s&&s[u]&&(a=u)}if(a&&i.numeral.locale(a),t.appendChild(e),i.children.push(e),i.wrapper=document.getElementById(i.options.wrapper),i.container=e,i.options.useDynamicTranslation){var l=document.querySelectorAll("#gtranslate_wrapper .switcher .selected, .goog-te-menu-value")[0];l&&l.addEventListener("DOMSubtreeModified",(function(){i.inited&&(i.inited=!1,setTimeout((function(){var t;i.destroy();var e=window.google.translate.TranslateElement.getInstance();if(e){var o=e.j;!o||e.B&&e.B[o]||(t=o)}i.init({language:t})}),1e3))}))}i.load.foldOut(),i.addOffset()}.bind(this),document.head.appendChild(n)}},button:function(){if(!1!==i.options.button){var t=i.options.stickyAvatarPopup,e=t&&t.button,o=document.createElement(e?"div":"button");o.id=i.options.button,o.className="quriobotWidgetButton",o.style.setProperty("display","none"),i.options.startButtonTitle&&o.setAttribute("aria-label",i.options.startButtonTitle),o.setAttribute("tabindex","0"),e?(o.setAttribute("role","button"),o.setAttribute("aria-haspopup","dialog"),o.setAttribute("aria-expanded",!1)):o.setAttribute("role","button");var n=document.createElement("div");if(e&&(n.id=n.className="quriobotWidgetPopup",n.textContent=t.button,o.appendChild(n)),t&&t.showOnHover&&(o.className+=" hoverModeOn"),t&&t.title){var a=document.createElement("p");a.className="quriobotWidgetPopup--title",a.innerHTML=t.title,n.appendChild(a)}if(e){var r=document.createElement("button");r.className="quriobotWidgetPopup--button",r.id="quriobotPopupButton",r.textContent=t.button,r.setAttribute("role","button"),r.setAttribute("tabindex","0"),n.appendChild(r);try{n.childNodes[0].nodeValue=null}catch(t){}}if(t&&(t.autoShow||i.isMobile()||t.showOnExitIntent||t.showOnExitIntentMobile)){var s=document.createElement("button");s.className="quriobotWidgetPopup--close",s.id="quriobotPopupClose",s.setAttribute("aria-label",i.options.i18n.foldOut.close),n.appendChild(s)}switch(i.options.position){case"left":o.className+=" position--left";break;case"center":o.className+=" position--center";break;case"full_width":o.className+=" position--full_width"}i.children.push(o),document.body.appendChild(o),e&&(i.popupButton=document.getElementById("quriobotPopupButton"),i.popupClose=document.getElementById("quriobotPopupClose")),i.button=document.getElementById(i.options.button)}},videoIframe:function(){var t=i.options.background&&i.options.background.video;if(t&&document.getElementById("videoIframe")){var e=document.getElementById("wallpaper"),o=t.id,n=t.dimensions,a=n.width/n.height;i.ytPlayer=new window.YT.Player("videoIframe",{videoId:o,playerVars:{autoplay:1,controls:0,loop:1,rel:0,playlist:o,playsinline:1},events:{onReady:function(t){r(),t.target.mute(),t.target.playVideo()},onStateChange:function(t){switch(t.data){case-1:e.classList.remove("loading");break;case 1:setTimeout((function(){e.classList.add("loading")}),1e3)}}}});var r=function(){var t=window.innerWidth,e=window.innerHeight,o=t/e>a,n=o?t:e*a,r=o?t/a:e;i.ytPlayer.setSize(n,r)};window.addEventListener("resize",r)}},foldOut:function(){var t='<div class="fold-out" id="quriobotWidgetFoldOut">    <div class="fold-out__wrapper">        <div class="fold-out__header">            <div class="fold-out__avatar"></div>            <a class="fold-out__title" target="_blank" rel="noopener noreferrer"></a>            <button type="button" class="fold-out__close" title="'+i.options.i18n.foldOut.close+'"></button>        </div>        <div class="fold-out__iframe-wrapper">            <iframe class="fold-out__iframe" allow="'+this.constAllowIframe+'"></iframe>        </div>    </div></div>';document.getElementById("quriobotWidgetContainer").insertAdjacentHTML("beforeend",t)},whiteLabel:function(){var t=i.options.whiteLabel,e=i.options.stickyAvatarPopup;if(!t&&e&&!i.options.branding.url&&!i.options.branding.title){var o=document.createElement("a"),n=document.getElementById("quriobotWidgetPopup");n&&(o.className="brandingLabel",o.href=i.options.branding&&i.options.branding.url||i.options.i18n.branding.url,o.target="_blank",o.rel="noopener noreferrer",o.textContent=i.options.branding&&i.options.branding.title||i.options.i18n.branding.title,n.appendChild(o))}},warning:function(){console&&console.log&&console.log("Your browser is outdated, please use a modern one of the recent version.")}},setOptions:function(t){if(t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i.options[e]=t[e])},handleUserAction:function(t){var e=i.storedData.start?i.storedData.start:(new Date).toISOString(),o=["finish","liveChat"],n=o.indexOf(t.type)>-1?(new Date).toISOString():null;if(i.storedData={answers:t.answers,info:t.info,user:Object.assign({},i.options.visitor,{language:i.options.language}),name:i.options.use,isComplete:t.isComplete,hasLiveChat:t.hasLiveChat,start:e,stop:n,responseId:t.responseId},t.variables&&(this.variables=t.variables),"validate"===t.type)this.options.onValidate(i.storedData,(function(t,e,o){i.message.send("validate",{valid:t,errors:e,responses:o})}));else if(o.indexOf(t.type)>-1&&!i.exited){i.exited=!0;var a=function(){i.clearSavedBot(),i.message.send(t.type,{type:t.type})};this.options.onSave.length>2?this.options.onSave(i.storedData,t.responseId,a):(this.options.onSave(i.storedData,t.responseId),setTimeout((function(){a()}),0))}else{var r=t.type.toString();r="on"+r.substr(0,1).toUpperCase()+r.substr(1);try{i[r](i.storedData,t.question,t.answer)}catch(t){console&&console.warn(t)}}},handleExit:function(t,e){if(i.hasstarted){var o=i.storedData;if(o.answers&&o.answers.length&&!o.isComplete&&i.options.preventExitIfIncomplete&&!i.redirect&&!e&&i.isOpen&&o&&null!==o.answers&&!i.switched)return t&&(t.returnValue="Changes that you made may not be saved."),void(i.container.className.indexOf("show")<0&&i.show_frame());if(o.stop=o.stop?o.stop:(new Date).toISOString(),i.storedData=o,!(o.isComplete||i.exited||i.followRedirect||i.options.restoreState)){i.exited=!0;var n=function(){try{i.onExit(o)}catch(t){console.log(t)}i.message.send("exit")};this.options.onSave.length>2?this.options.onSave(o,o.responseId,n,e):(this.options.onSave(o,o.responseId),setTimeout((function(){n()}),0))}i.followRedirect=!1}},reportGA:function(t,e){var o,n;if(i.options.ga){var a="/virtual/"+i.options.use+"/"+t;if(window.ga&&"function"==typeof window.ga.getAll&&(o=window.ga.getAll()))for(n=o.length-1;n>=0;n--)o[n].send({hitType:"pageview",page:a});window.gtag&&"function"==typeof window.gtag&&window.gtag("event","page_view",{page_location:a,page_path:a,page_title:t})}if(i.options.gaEvents){if(window.ga&&"function"==typeof window.ga.getAll&&(o=window.ga.getAll()))for(n=o.length-1;n>=0;n--){var r={hitType:"event",eventCategory:"QB",eventAction:t,eventLabel:i.options.use};if(e&&e.value&&("number"==typeof e.value.value&&Number.isInteger(e.value.value)&&(r.eventValue=e.value.value),"string"==typeof e.value.value)){var s=parseInt(e.value.value,10);Number.isInteger(s)&&(r.eventValue=s)}o[n].send(r)}if(window.gtag&&"function"==typeof window.gtag){r={bot:i.options.use,action:t};e&&(r.answer=e),window.gtag("event","QB",r)}}if(i.options.gtmEvents){var u=[].filter.call(document.getElementsByTagName("script"),(function(t){return t.src&&t.src.startsWith("https://www.googletagmanager.com")}));if(u.length){var l=new i.URL(u[0].src,!0).query.l||"dataLayer";if(l&&window[l]){r={event:"QB",bot:i.options.use,action:t};e&&(r.answer=e),window[l].push(r)}}}window.parent!==window&&window.parent.postMessage&&window.parent.postMessage({sentinel:"amp",type:"qb",qb:{name:t,path:i.options.use}},"*")},onLoad:function(t){this.reportGA("Load"),this.variables=t.variables,this.landingPage=t.landing_page,this.options.botData=t;try{i.options.onLoad(t)}catch(t){console.log(t)}},onInit:function(){this.reportGA("Init");try{i.options.onInit()}catch(t){console.log(t)}},onPopup:function(t){t&&(this.popupAutoShown=!0,this.soundNotification("popup")),this.reportGA("SoftStart");try{i.options.onSoftStart()}catch(t){console&&console.warn(t)}},onShow:function(){this.reportGA("Show");try{i.options.onShow()}catch(t){console&&console.warn(t)}},onHide:function(){this.reportGA("Hide");try{i.options.onHide()}catch(t){console&&console.warn(t)}},onStart:function(t){this.handleStart(),this.saveResponseId(t.responseId),i.switched&&(this.switched=!1,this.initLandingPage()),i.ytPlayer&&i.landingPage.background&&i.landingPage.background.video&&(i.landingPage.background.video.muted?i.ytPlayer.mute():i.ytPlayer.unMute()),this.reportGA("Start");try{i.options.onStart(t)}catch(t){console&&console.warn(t)}},onQuestion:function(t,e){this.reportGA("Question/"+e.code_name);try{i.options.onQuestion(t,e)}catch(t){console&&console.warn(t)}},onAnswer:function(t,e,o){if(e){this.reportGA("Answer/"+e.code_name,o),e.type&&"message"!==e.type.name&&this.soundNotification("answer");try{i.options.onAnswer(t,e,o)}catch(t){console&&console.warn(t)}}this.options.onUpdate(i.storedData,i.storedData.responseId,(function(){}))},onAnswerRedo:function(t,e,o){this.reportGA("Answer_edit_finish/"+e.code_name);try{i.options.onAnswerRedo(t,e,o)}catch(t){console&&console.warn(t)}},onFinish:function(t){this.reportGA("Finish");try{i.options.onFinish(t)}catch(t){console&&console.warn(t)}},onLeave:function(t){this.reportGA("Leave");try{i.options.onLeave(t)}catch(t){console&&console.warn(t)}},onRedo:function(t,e,o){this.reportGA("Answer_edit_start/"+e.code_name);try{i.options.onRedo(t,e,o)}catch(t){console&&console.warn(t)}},onReturn:function(t){this.reportGA("Return");try{i.options.onReturn(t)}catch(t){console&&console.warn(t)}},onExit:function(){this.reportGA("Exit");try{i.options.onExit()}catch(t){console&&console.warn(t)}},onLiveChat:function(t){this.reportGA("LiveChat");try{i.options.onLiveChat(t)}catch(t){console&&console.warn(t)}},getRestoreStorageKey:function(t,e){t||(t=i.options.use);var o="qbStoredData-"+t,n=i.options.visitor;return n&&(o=o+"-"+n.id),e&&(o=o+"-"+e),o},saveResponseId:function(t){i.setCookie("qbResponseId",t),i.options.visitor||(i.options.visitor={}),i.options.visitor.id||(i.setCookie("qbVisitorId",t),i.options.visitor.id=t,i.setCookie("qbResponseId",t))},getStoredResponseId:function(){return i.getCookie("qbResponseId")||""},getStoredVisitorId:function(){return i.getCookie("qbVisitorId",void 0,!0)},clearSavedResponseId:function(){i.deleteCookie("qbResponseId")},saveLiveChat:function(t){i.setCookie("qbLiveChat",!0)},liveChatCreated:function(t){i.setCookie("qbLiveChatId",t.id)},liveChatMessageUnread:0,liveChatMessageCreated:function(t){i.tabIsVisible||(i.liveChatMessageUnread++,i.Tinycon.setBubble(i.liveChatMessageUnread)),i.onLiveChatMessageCreated(t)},onLiveChatMessageCreated:function(t){this.reportGA("LiveChatMessageCreated");try{i.options.onLiveChatMessageCreated(t)}catch(t){console.log(t)}},attachTabVisibility:function(){var t,e,o={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(let n in o)if(n in document){e=n,t=o[n];break}document.addEventListener(t,this.handleTabVisibility.bind(this,e))},tabIsVisible:!0,handleTabVisibility:function(t,e){i.tabIsVisible=!e.target[t],i.tabIsVisible&&(i.liveChatMessageUnread=0,i.Tinycon&&i.Tinycon.reset())},getStoredLiveChatId:function(){return i.getCookie("qbLiveChatId")||""},getStoredLiveChat:function(){return i.getCookie("qbLiveChat")},clearSavedLiveChat:function(){i.deleteCookie("qbLiveChat"),i.deleteCookie("qbLiveChatId"),i.clearSavedResponseId()},shouldLiveChat:function(t){return"preview"!==i.options.mode&&Boolean(i.getStoredResponseId()&&i.getStoredLiveChat())},hasStoredBot:function(){return Boolean(i.store.get(i.getRestoreStorageKey()))},saveBot:function(t){var e=new Date(Date.now()+60*i.options.expiryTimeout*60*1e3).valueOf();t.isOpen=i.isOpen,t.language=i.options.language,t.hasSwitchedLanguage=i.hasSwitchedLanguage,i.store.set(i.getRestoreStorageKey(t.use),t,e)},getRestoreData:function(){return i.store.get(i.getRestoreStorageKey())},clearSavedBot:function(){if(i.store)try{i.store.remove(i.getRestoreStorageKey())}catch(t){console.log(t)}},message:{receive:function(t){if("string"==typeof t.data&&t.data){var e;try{e=JSON.parse(t.data)}catch(t){return}switch(e.action){case"checkNestedFrameRequest":i.checkNestedFrameRequest(t.origin);break;case"checkNestedFrameResponse":i.checkNestedFrameResponse();break;case"api":i.handleApiCall(e);break;case"hide":try{i.onLeave(i.storedData)}catch(t){console.log(t)}i.hide_frame();break;case"clearSavedBot":i.clearSavedBot();break;case"clearSavedLiveChat":i.clearSavedLiveChat();break;case"stop":case"done":try{i.onFinish(i.storedData)}catch(t){console.log(t)}i.hide_frame(),i.clearSavedLiveChat(),setTimeout((function(){i.message.send("purge"),i.activebot=null}),500);break;case"botHasData":i.botStatus.hasData=!0;try{i.onLoad(e.data)}catch(t){console.log(t)}break;case"botIsReady":i.botStatus.isReady=!0,i.message.send("requestNewBot");break;case"changePosition":i.changePosition(e.data);break;case"modal":i.modal(e.data);break;case"foldOutOpen":i.foldOutOpen(!0,e.data);break;case"foldOutClose":i.foldOutClose(e.data);break;case"navigate":parent.location.href=e.url;break;case"user":i.handleUserAction(e.data);break;case"redirect":i.handleRedirect(e.data);break;case"switch":e.data.language&&(i.hasSwitchedLanguage=!0),i.start(e.data.use,e.data.language);break;case"change":i.change(e);break;case"execute":i.execute(e);break;case"populateValues":i.populateValues(e.data);break;case"populateURL":i.requestPopulateURL(e.data);break;case"getStepOptions":i.getStepOptions(e.data.script,e.data.input,(function(t){i.message.send("getStepOptions",t)}));break;case"validateAnswer":i.validateAnswer(e.data.script,e.data.answer,(function(t){i.message.send("validateAnswer",t)}));break;case"getStepSettingsScript":i.getStepSettingsScript(e.data.script,(function(t){i.message.send("getStepSettingsScript",t)}));break;case"saveBot":i.saveBot(e.data);break;case"liveChat":i.saveLiveChat(e.data);break;case"liveChatCreated":i.liveChatCreated(e.data);break;case"liveChatMessageCreated":i.liveChatMessageCreated(e.data)}}},send:function(t,e){var o;switch(t){case"requestNewBot":o={action:"newBot",options:(Object.toJSON||JSON.stringify)(i.options)};break;case"startBot":o={action:"startBot",data:e};break;case"changePosition":o={action:"changePosition",data:e};break;case"modal":o={action:"modal",data:e};break;case"api":o={action:"api",data:e};break;case"goto":o={action:"goto",key:e};break;case"validate":o={action:"validate",data:e};break;case"reload":o={action:"reload",data:e};break;case"exit":o={action:"exit"};break;case"purge":o={action:"purge"};break;case"finish":o={action:"finish",data:e};break;case"liveChat":o={action:"liveChat",data:e};break;case"getStepOptions":o={action:"getStepOptions",data:e};break;case"validateAnswer":o={action:"validateAnswer",data:e};break;case"populateValues":o={action:"populateValues",data:e};break;case"populateURL":o={action:"populateURL",data:e};break;case"getStepSettingsScript":o={action:"getStepSettingsScript",data:e};break;case"foldOutClosed":o={action:"foldOutClosed"}}i.wrapper&&i.wrapper.contentWindow&&i.wrapper.contentWindow.postMessage((Object.toJSON||JSON.stringify)(o),"*")}},goto:function(t){i.message.send("goto",t)},handleStart:function(){i.hasstarted=!0,i.exited=!1,i.completed=!1},hasSelectedLanguage:function(){return i.hasSwitchedLanguage||i.store.get(this.getLangStorageKey())},restoreVisitor:function(){i.options.visitor||(i.options.visitor={}),i.options.visitor.id||(i.options.visitor.id=i.getStoredVisitorId())},start:function(t,e,o,n){e&&i.store.set(this.getLangStorageKey(),e),i.options.hasSelectedLanguage=i.hasSelectedLanguage(),i.options.hasSwitchedLanguage=i.hasSwitchedLanguage;var a=Boolean(t&&t!==i.options.use);o&&!a&&(i.options.entryPoint=o),i.button&&i.button.classList.add("loading");var r=i.hasstarted&&!i.switched;if(i.handleStart(),"outOfQuota"!==i.options.mode){if(i.options.useDynamicTranslation&&(i.options.documentLanguage=document.documentElement.lang),i.initBot(),i.options.language=e||i.options.language,a||e)return t=t||i.options.use,void i.switch(t,n,Boolean(e),o);if(i.options.use=t||i.options.use,i.botStatus.isReady&&i.botStatus.hasData)return clearTimeout(i.startRetry),i.container.className.indexOf("show")<0?i.activebot===i.options.use?(i.show_frame(r),void(o&&i.goto(o))):(i.completed=!1,i.activebot&&null!=i.activebot?void(i.activebot==i.options.use||i.switch(i.options.use,n,null,o)):(i.activebot=i.options.use,i.show_frame(),void(o&&i.goto(o)))):i.activebot!==i.options.use?void i.switch(i.options.use,n,null,o):void(o&&i.goto(o));i.startRetry=setTimeout((function(){i.start(t,e,o)}),50)}else window.location.href="https://quriobot.com"},hasSwitchedLanguage:!1,switch:function(t,e,o,n){var a={};if(i.switched=!0,!1!==e&&(this.handleExit(a),a.returnValue)){if(!confirm(a.returnValue))return;this.handleExit(a,!0)}this.hide_frame(),i.container&&(i.container.className=i.container.className+" switch"),i.botStatus.isReady=!1,i.botStatus.hasData=!1,i.load.styles();var r=i.options.use;t&&(i.options.botData=null,i.options.use=t,i.options.id=t.split("/")[1],i.activebot=t),setTimeout((function(){if(o&&i.wrapper){var t=new i.URL(i.wrapper.src,!0);t.query.lang=i.options.language,i.wrapper.src=t.toString()}else i.message.send("reload",{isComplete:e,use:r});setTimeout((function(){i.start(null,null,n)}),100)}),0)},restart:function(){this.switch()},shouldRestoreState:function(t){return"preview"!==i.options.mode&&!i.hasSwitchedLanguage&&(t&&(t.followRedirect||i.options.restoreState))},initLandingPage:function(){i.landingPage&&i.landingPage.background&&(i.landingPage.background.image||i.landingPage.background.video)&&i.change({what:"wallpaper",to:i.landingPage.background})},setVisitorCookie:function(t,e,o){var n=i.options.visitorTimeout,a=new Date(Date.now()+24*n*60*60*1e3).valueOf();i.setCookie(t,e,a,o)},show_frame:function(t){if(i.hasstarted){i.followRedirect=!1,i.isOpen=!0;var e=i.getRestoreData();e&&i.saveBot(e),i.setVisitorCookie("qbClosed",!1,!0),!1!==i.options.button&&(i.button.className=i.button.className.replace(/\s*show\b/g,""),i.button.classList.remove("loading"),i.button.setAttribute("aria-hidden",!0)),i.container.className=i.container.className.replace(/\s*switch/g,"")+" show",i.container.setAttribute("aria-hidden",!1),document.body&&document.body.oldBackgroundImage&&this.change({what:"wallpaper",to:{image:document.body.oldBackgroundImage.slice(5).slice(0,-2)}}),setTimeout((function(){if(!t){var e=i.getRestoreData();e&&(i.variables=e.variables,e.language&&(i.options.language=e.language,i.hasSwitchedLanguage||(i.hasSwitchedLanguage=e.hasSwitchedLanguage))),i.message.send("startBot",{restoreState:i.shouldRestoreState(e),restoreData:e,liveChat:i.shouldLiveChat(),liveChatId:i.getStoredLiveChatId(),responseId:i.getStoredResponseId()})}i.wrapper.focus()}),0);try{Bots.show()}catch(t){return}this.onShow()}else console.log("bot has not started yet!")},isOpen:!1,hide_frame:function(){i.isOpen=!1;var t=i.getRestoreData();t&&i.saveBot(t),i.setVisitorCookie("qbClosed",!0,!0),!1!==i.options.button&&i.button&&("never"!==i.options.showStickyAvatar&&(i.button.className=i.button.className+" show",i.button.setAttribute("aria-hidden",!1)),i.button.classList.contains("showPopup")&&(i.button.classList.remove("showPopup"),i.button.setAttribute("aria-expanded",!1)),i.options.stickyAvatarPopup.showOnHover&&!i.isMobile()&&i.button.classList.add("hoverModeOn")),i.container&&(i.container.className=i.container.className.replace(/\s*show/g,""),i.container.setAttribute("aria-hidden",!0));try{Bots.hide()}catch(t){}this.onHide()},foldOutClose:function(t){if("iframe"===t.type){var e=document.getElementsByClassName("fold-out")[0],o=document.getElementsByClassName("fold-out__iframe")[0];e.classList.remove("fold-out_mode_display"),o.setAttribute("src","about:blank")}i.container.classList.remove("foldOutMode"),i.message.send("foldOutClosed")},requestPopulateURL:function(t){this.populateURL(t,function(e){this.sendPopulatedURL(t,e)}.bind(this))},populateURL:function(t,e){i.async.mapSeries(["Source","Medium","Campaign","Term","Content","Custom"],function(t,e){var o="utm"+t;if(!i.options[o])return e(null,{item:void 0});i.populateValues(i.options[o],(function(o,n){return e(null,{item:t,value:n})}))}.bind(this),function(o,n){if(!o&&t){var a=new i.URL(t,!0);n.forEach((function(t){if(t.item)if("Custom"===t.item&&t.value){var e=new i.URL("?"+t.value,!0);Object.keys(e.query).forEach((function(t){a.query[t]=e.query[t]}))}else{var o="utm_"+t.item.toLowerCase();!a.query[o]&&t.value&&(a.query[o]=t.value)}})),e(a.toString())}else e(t)}.bind(this))},sendPopulatedURL:function(t,e){i.message.send("populateURL",{url:t,result:e})},handleRedirect:function(t){i.redirect=!0,i.followRedirect=Boolean(t.follow);var e=i.getRestoreData();e&&i.saveBot(e),this.populateURL(t.url,function(e){window.location.href!==e&&(window.open(e,t.target)||(window.location.href=e))}.bind(this))},foldOutOpen:function(t,e){if(i.container.classList.add("foldOutMode"),"iframe"===e.type){var o=document.getElementsByClassName("fold-out")[0],n=document.getElementsByClassName("fold-out__close")[0],a=document.getElementsByClassName("fold-out__wrapper")[0],r=document.getElementsByClassName("fold-out__iframe")[0],s=document.getElementsByClassName("fold-out__title")[0];if(n&&t&&n.addEventListener("click",function(){this.foldOutClose(e)}.bind(this),!1),e.data){var u=document.createTextNode(e.title||"");a.classList.add("fold-out_show_iframe"),this.populateURL(e.data,function(t){r.setAttribute("src",t),e.isTitleLinkDisabled?(s.removeAttribute("href"),s.removeAttribute("target")):s.setAttribute("href",t),s.innerHTML="",s.appendChild(u),setTimeout(function(){o.classList.add("fold-out_mode_display")}.bind(this),500)}.bind(this))}}},change:function(t){switch(t.what){case"wallpaper":var e=document.getElementById("wallpaper");if(e&&t.to){var o=t.to.image,n=t.to.video;n&&i.ytPlayer?(n.muted?i.ytPlayer.mute():i.ytPlayer.unMute(),i.ytPlayer.loadVideoById(n.id)):(e.classList.add("loading"),setTimeout((function(){o&&(o.startsWith("http://")||o.startsWith("https://"))?(document.body&&void 0===document.body.oldBackgroundImage&&(document.body.oldBackgroundImage=e.style.backgroundImage),e.style.setProperty("background-image","url('"+o+"')","important")):o&&(void 0===document.body.oldClassName&&(document.body.oldClassName=document.body.className),document.body.className=document.body.oldClassName+" "+o),setTimeout((function(){e.classList.remove("loading")}),300)}),750))}break;case"avatar":var a=document.getElementsByClassName("fold-out__avatar")[0],r="url('"+t.to+"')";a&&a.style.setProperty("background-image",r,"important");break;default:return}},execute:function(t){t.script&&n(t.script)()},getoptions:function(t){return i.options[t]},get:function(t){return i[t]},handleRequestURI:function(){var t;try{t=parent.location.href}catch(t){return}var e,o={};o.uri=t.split("?")[1]||!1,o.args={};var n=!!o.uri&&o.uri.split("&");if(n&&n.length){for(e=0;e<n.length;e++){var a=n[e].split("=");o.args[a[0]]=decodeURIComponent(a[1])}var r=i.options.answerStorage||!1;if(r)for(e=0;e<r.length;e++){var s=r[e].arg,u=r[e].key,l=r[e].render,c=o.args[s]||!1,d=r[e].text||!1;c&&(i.options.savedAnswers||(i.options.savedAnswers=[]),i.options.savedAnswers.push({key:u,render:l,value:c,text:d}))}}},handleApiCall:function(t,e){if(e)i.message.send("api",t);else if(i.options.api){var o=i.options.api;o[t.data.type]?o[t.data.type](t.data,(function(e,o){e.type=t.data.type,i.handleApiCall(e,o)}),i.storedData):i.message.send("api",!1)}else i.message.send("api",!1)},api:function(t,e){if(i.options.api){var o=i.options.api;o[t.type]?o[t.type](t,(function(o,n){o.type=t.type,e(o,n)}),i.storedData):e(null)}else e(null)},getStepOptions:function(t,e,o){n("("+t+")")(e,this.getVariableValue.bind(this),o)},validateAnswer:function(t,e,o){n("("+t+")")(e,this.getVariableValue.bind(this),o)},getStepSettingsScript:function(t,e){n("("+t+")")(this.getVariableValue.bind(this),e)},getVariableValue:function(t,e){var o=this.storedData.answers,a={};this.variables.forEach(function(t){var e={type:t.type.value};if(a[t.name]=e,t.is_server)e.value=function(e){var o=this.options.getVariableUrl,n=this.storedData.responseId;o=o+"/"+t.name;var i={Response:n,"Content-Type":"application/json"};this.ajax(o,function(o){try{var n=JSON.parse(o);e(n.value)}catch(o){console.log("Error getting the variable value: ",t.name,o),e()}}.bind(this),null,i)}.bind(this);else switch(t.type.value){case"script":try{var i=n("("+t.value+")");e.value=function(t){return i(t,a)}}catch(e){console.log("Error evaluating the variable: ",t.name,e)}break;case"step":var r=o&&o.filter((function(e){return e.question.key===t.step})).pop();null!=r&&(e.text=r.text.answers_text,e.value=r.value.value);break;case"string":e.value=e.text=t.value}}.bind(this));var r=a[t],s="";if(r){if("function"==typeof r.value)return r.value(e,a);s=r.text}else if(r=a[t.split(".")[0]]){if("function"==typeof r.value)return r.value(e,a);s=r.value}return!s&&i.options.visitor&&"object"==typeof i.options.visitor&&["userAvatar","userEmail","userFirstName","userGender","userID","userLanguage","userLastName","userName","userPhone","userTimezone"].forEach((function(e){if(t===e){var o=e.slice(4);(o=o.charAt(0).toLowerCase()+o.slice(1)).length<3&&(o=o.toLowerCase());var n=i.options.visitor[o];null!=n&&(s=n)}})),e?e(s):s},sendPopulatedValues:function(t,e){i.message.send("populateValues",{base:t,result:e})},populateValues:function(t,e){var o=t,n=t&&t.match(/{%(\d)*%}/gi),a=t&&t.match(/{%([\w.])*%}/gi),r=t&&t.match(/{{([\w.]\.?)*}}/gi),s=[],u=[],l=[];if(!n&&!a&&!r)return this.sendPopulatedValues(o,t),e&&e(o,t);n&&n.length>0&&n.forEach((function(t){s.push(parseInt(t.replace(/[{}%]/gi,"")))})),r&&r.length>0&&r.forEach((function(t){u.push(t.replace(/[{}]/gi,"").toString())})),a&&a.length>0&&a.forEach((function(t){s.push(t.replace(/[{}%]/gi,"").toString())}));var c=this.storedData.answers;if(n&&n.length>0){if(!c||!c.length)return n.forEach((function(e){t=t.replace(new RegExp(e,"gi"),"")})),this.sendPopulatedValues(o,t),e&&e(o,t);c&&c.length>=1&&c.forEach((function(t,e){s.indexOf(t.question.key)>=0&&l.push(t)})),n.forEach((function(e,o){var n=l[o]?l[o].text.answers_text:"";t=t.replace(new RegExp(e,"ig"),n)}))}var d=r&&r.length>0,p=a&&a.length>0;if(!p&&!d)return this.sendPopulatedValues(o,t),e&&e(o,t);var f=[];if(d&&(p&&r.forEach((function(t){a.erase(t)})),r.forEach(function(t,e){var o=u[e];f.push({variable:o,item:t})}.bind(this))),p)for(var h=0;h<a.length;h++){var g=a[h];if((g=(g=g.toString().trim()).replace(/[{}%]/gi,"").trim()).split(".").length>=2){var v=g.split(".")[0],m=g.split(".")[1],b=g.split(".")[2];if(b)if(isNaN(b))var w=this.getVariableValue(b);else var y=c.filter(function(t,e){return t.question.key==b}.bind(this)).pop();if("api"===v){var S={type:m,value:y?y.value.value:w,html:t,name:g};f.push(S)}}else;}i.async.reduce(f,t,function(t,e,o){e.html=t,e.variable?this.getVariableValue(e.variable,(function(n){return null==n&&(n=""),o(null,t.replace(new RegExp(e.item,"ig"),n))})):e.type?this.api(e,function(t){return o(null,this.populateFromApi(e.name,t))}.bind(this)):o(null,t,"")}.bind(this),function(t,n){t||(this.sendPopulatedValues(o,n),e&&e(o,n))}.bind(this))},populateFromApi:function(t,e){if(e&&"object"==typeof e){var o=e.base,n=e.content.toString();return o.replace("{%"+t+"%}",n)}return""},addMessageListener:function(){window.removeEventListener("message",i.message.receive,!1),window.addEventListener("message",i.message.receive,!1)},initBot:function(){if(!i.botInited){i.botInited=!0,i.load.widget(),i.addMessageListener();var t=!1,e=!1;window.addEventListener("beforeunload",function(e){t||(this.handleExit(e),e.returnValue||(t=!0))}.bind(this)),window.addEventListener("pagehide",function(o){if(t){if(e)return;return e=!0,void i.handleExit(o,!0)}t=!0,this.handleExit(o)}.bind(this))}},soundNotification:function(t){if("start"!==t||!this.popupAutoShown){t={start:"bot_start",popup:"bot_start",answer:"bot_step_answer"}[t];var e=i.options.soundNotifications&&i.options.soundNotifications[t];if(e){var o=e,n=window.AudioContext||window.webkitAudioContext;if(n){var a,r,s,u,l,c,d=o.context||new n;if("running"===d.state)return a=o.frequency||466.2,r=o.interval||120,s=(o.duration||120)/1e3,u=o.rampValue||1e-5,l=o.count||2,(c=function(){l||(l=1),function t(e){!function(){var t=d.currentTime,e=d.createOscillator(),n=d.createGain();e.connect(n),n.connect(d.destination);var i=o.gain||n.gain.value;n.gain.setValueAtTime(0,t),n.gain.exponentialRampToValueAtTime(i,t),n.gain.exponentialRampToValueAtTime(u,t+s),e.onended=function(){n.disconnect(d.destination),e.disconnect(n)},e.type="sine",e.frequency.value=a,e.start(t),e.stop(t+s)}(),++e<l&&setTimeout(t,r,e)}(0)}).destroy=function(){o.context||d.close()},c(),c;setTimeout(function(){this.soundNotification(t)}.bind(this),5e3)}}}},nestedFrameCallback:null,checkNestedFrame:function(t){parent&&parent!==window&&parent.postMessage?(i.addMessageListener(),parent.postMessage(JSON.stringify({action:"checkNestedFrameRequest"}),"*"),this.nestedFrameCallback=t,setTimeout(function(){this.nestedFrameCallback&&this.nestedFrameCallback()}.bind(this),100)):t()},checkNestedFrameRequest:function(t){var e=document.getElementsByTagName("iframe");for(let n=0;n<e.length;n++){var o=e[n];o.getAttribute("id")!==i.options.wrapper&&o.contentWindow.postMessage(JSON.stringify({action:"checkNestedFrameResponse"}),t)}},checkNestedFrameResponse:function(){this.nestedFrameCallback=null},followRedirect:!1,initInstance:function(){i.popupAutoShown=!1,i.isOpen=!1,i.inited=!1,i.redirect=!1,i.completed=!1,i.activebot=null,i.button=null,i.popupButton=null,i.popupClose=null,i.wrapper=null,i.autoallowed=!0,i.hasstarted=!1,i.autoStart=!1,i.ytPlayer=null,i.botStatus={isReady:!1,hasData:!1},i.followRedirect=!1,i.children=[],i.exited=!1,i.variables=[],i.startRetry=null,i.botInited=!1,i.storedData={answers:null,info:null,name:"unknown",isComplete:!1,start:null,stop:null}},inited:!1,init:function(t,e){i.inited||i.checkNestedFrame((function(){i.initInstance(),i.inited=!0,i.setOptions(t),i.restoreVisitor(),i.handleRequestURI(),i.load.videoIframe(),i.load.styles(),i.load.button(),i.load.whiteLabel(),i.buttonstart(),i.addAvatarOffset(),i.avatarPopupClose(),t.preload&&i.initBot(),i.popupAutoShow(),i.showPopupHandle(),i.autostart(),i.onInit(),i.attachTabVisibility()}))},destroy:function(){i.children.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),i.children=[],i.ytPlayer&&i.ytPlayer.destroy(),i.initInstance()},hide:function(){i.hide_frame(),i.button.classList.remove("show")},show:function(t){t&&(i.autoStart||"never"===i.options.showStickyAvatar||"closed"===i.options.showStickyAvatar)||i.button.classList.add("show")}};var a=i;o.default=a},{"cross-safe-eval":5}],5:[function(require,module,exports){var globals=Object.getOwnPropertyNames(this);module.exports=function makeSafeEval(include){for(var clearGlobals="",i=0,len=globals.length;i<len;i++)(include&&-1===include.indexOf(globals[i])||!include)&&(clearGlobals+="var "+globals[i]+" = undefined;");return function(operation){var globals=void 0;return eval("(function () {"+clearGlobals+";return "+operation.replace("this","_this")+"})()")}}},{}],6:[function(t,e,o){"use strict";function n(t,e){var o,n;if("function"==typeof e)void 0!==(n=e(t))&&(t=n);else if(Array.isArray(e))for(o=0;o<e.length;o++)void 0!==(n=e[o](t))&&(t=n);return t}function i(t,e){return"-"===t[0]&&Array.isArray(e)&&/^-\d+$/.test(t)?e.length+parseInt(t,10):t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){return Object(t)===t}function s(t){return 0===Object.keys(t).length}function u(t,e){return t.indexOf("[")>=0&&(t=t.replace(/\[/g,".").replace(/]/g,"")),t.split(e)}var l=Object.prototype.hasOwnProperty;function c(t,e,o){if(!(this instanceof c))return new c(t,e,o);void 0===e&&(e=!1),void 0===o&&(o=!0),this.separator=t||".",this.override=e,this.useArray=o,this.keepArray=!1,this.cleanup=[]}var d=new c(".",!1,!0);function p(t){return function(){return d[t].apply(d,arguments)}}c.prototype._fill=function(t,e,o,i){var a=t.shift();if(t.length>0){if(e[a]=e[a]||(this.useArray&&function(t){return/^\d+$/.test(t)}(t[0])?[]:{}),!r(e[a])){if(!this.override){if(!r(o)||!s(o))throw new Error("Trying to redefine `"+a+"` which is a "+typeof e[a]);return}e[a]={}}this._fill(t,e[a],o,i)}else{if(!this.override&&r(e[a])&&!s(e[a])){if(!r(o)||!s(o))throw new Error("Trying to redefine non-empty obj['"+a+"']");return}e[a]=n(o,i)}},c.prototype.object=function(t,e){var o=this;return Object.keys(t).forEach((function(i){var a=void 0===e?null:e[i],r=u(i,o.separator).join(o.separator);-1!==r.indexOf(o.separator)?(o._fill(r.split(o.separator),t,t[i],a),delete t[i]):t[i]=n(t[i],a)})),t},c.prototype.str=function(t,e,o,i){return-1!==t.indexOf(this.separator)?this._fill(t.split(this.separator),o,e,i):o[t]=n(e,i),o},c.prototype.pick=function(t,e,o,n){var a,r,s,l,c;for(r=u(t,this.separator),a=0;a<r.length;a++){if(l=i(r[a],e),!e||"object"!=typeof e||!(l in e))return;if(a===r.length-1)return o?(s=e[l],n&&Array.isArray(e)?e.splice(l,1):delete e[l],Array.isArray(e)&&(c=r.slice(0,-1).join("."),-1===this.cleanup.indexOf(c)&&this.cleanup.push(c)),s):e[l];e=e[l]}return o&&Array.isArray(e)&&(e=e.filter((function(t){return void 0!==t}))),e},c.prototype.delete=function(t,e){return this.remove(t,e,!0)},c.prototype.remove=function(t,e,o){var n;if(this.cleanup=[],Array.isArray(t)){for(n=0;n<t.length;n++)this.pick(t[n],e,!0,o);return o||this._cleanup(e),e}return this.pick(t,e,!0,o)},c.prototype._cleanup=function(t){var e,o,n,i;if(this.cleanup.length){for(o=0;o<this.cleanup.length;o++)e=(e=(i=(n=this.cleanup[o].split(".")).splice(0,-1).join("."))?this.pick(i,t):t)[n[0]].filter((function(t){return void 0!==t})),this.set(this.cleanup[o],e,t);this.cleanup=[]}},c.prototype.del=c.prototype.remove,c.prototype.move=function(t,e,o,i,a){return"function"==typeof i||Array.isArray(i)?this.set(e,n(this.pick(t,o,!0),i),o,a):(a=i,this.set(e,this.pick(t,o,!0),o,a)),o},c.prototype.transfer=function(t,e,o,i,a,r){return"function"==typeof a||Array.isArray(a)?this.set(e,n(this.pick(t,o,!0),a),i,r):(r=a,this.set(e,this.pick(t,o,!0),i,r)),i},c.prototype.copy=function(t,e,o,i,a,r){return"function"==typeof a||Array.isArray(a)?this.set(e,n(JSON.parse(JSON.stringify(this.pick(t,o,!1))),a),i,r):(r=a,this.set(e,this.pick(t,o,!1),i,r)),i},c.prototype.set=function(t,e,o,n){var i,r,s,c;if(void 0===e)return o;for(s=u(t,this.separator),i=0;i<s.length;i++){if(c=s[i],i===s.length-1)if(n&&a(e)&&a(o[c]))for(r in e)l.call(e,r)&&(o[c][r]=e[r]);else if(n&&Array.isArray(o[c])&&Array.isArray(e))for(var d=0;d<e.length;d++)o[s[i]].push(e[d]);else o[c]=e;else l.call(o,c)&&(a(o[c])||Array.isArray(o[c]))||(/^\d+$/.test(s[i+1])?o[c]=[]:o[c]={});o=o[c]}return o},c.prototype.transform=function(t,e,o){return e=e||{},o=o||{},Object.keys(t).forEach(function(n){this.set(t[n],this.pick(n,e),o)}.bind(this)),o},c.prototype.dot=function(t,e,o){return e=e||{},o=o||[],Object.keys(t).forEach(function(n){if(r(t[n])&&(a(t[n])&&!s(t[n])||Array.isArray(t[n])&&!this.keepArray&&0!==t[n].length))return this.dot(t[n],e,o.concat(n));e[o.concat(n).join(this.separator)]=t[n]}.bind(this)),e},c.pick=p("pick"),c.move=p("move"),c.transfer=p("transfer"),c.transform=p("transform"),c.copy=p("copy"),c.object=p("object"),c.str=p("str"),c.set=p("set"),c.del=c.remove=p("remove"),c.dot=p("dot"),["override","overwrite"].forEach((function(t){Object.defineProperty(c,t,{get:function(){return d.override},set:function(t){d.override=!!t}})})),["useArray","keepArray"].forEach((function(t){Object.defineProperty(c,t,{get:function(){return d[t]},set:function(e){d[t]=e}})})),c._process=n,e.exports=c},{}],7:[function(t,e,o){(function(t){(function(){"use strict";function o(t,e,o){n(t,s,e,o),"DOMMouseScroll"==s&&n(t,"MozMousePixelScroll",e,o)}function n(t,e,o,n){t[a](Q+e,"wheel"==s?o:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:t.clientX,clientY:t.clientY,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(){t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){t.stopImmediatePropagation&&t.stopImmediatePropagation()}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,o(e)},n||!1)}function i(t,e,o,n){t[r](Q+e,o,n||!1)}var a,r,s,u,l,c=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},d="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},p="object"==typeof d&&d&&d.Object===Object&&d,f="object"==typeof self&&self&&self.Object===Object&&self,h=p||f||Function("return this")(),g=function(){return h.Date.now()},v=h.Symbol,m=Object.prototype,b=m.hasOwnProperty,w=m.toString,y=v?v.toStringTag:void 0,S=function(t){var e=b.call(t,y),o=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=w.call(t);return n&&(e?t[y]=o:delete t[y]),i},C=Object.prototype.toString,O=function(t){return C.call(t)},k="[object Null]",A="[object Undefined]",x=v?v.toStringTag:void 0,L=function(t){return null==t?void 0===t?A:k:x&&x in Object(t)?S(t):O(t)},E=function(t){return null!=t&&"object"==typeof t},q="[object Symbol]",I=function(t){return"symbol"==typeof t||E(t)&&L(t)==q},P=NaN,_=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,N=/^0o[0-7]+$/i,j=parseInt,M=function(t){if("number"==typeof t)return t;if(I(t))return P;if(c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_,"");var o=T.test(t);return o||N.test(t)?j(t.slice(2),o?2:8):R.test(t)?P:+t},U="Expected a function",B=Math.max,D=Math.min,V=function(t,e,o){function n(e){var o=l,n=d;return l=d=void 0,m=e,f=t.apply(n,o)}function i(t){return m=t,h=setTimeout(r,e),b?n(t):f}function a(t){var o=t-v;return void 0===v||o>=e||o<0||w&&t-m>=p}function r(){var t=g();if(a(t))return s(t);h=setTimeout(r,function(t){var o=e-(t-v);return w?D(o,p-(t-m)):o}(t))}function s(t){return h=void 0,y&&l?n(t):(l=d=void 0,f)}function u(){var t=g(),o=a(t);if(l=arguments,d=this,v=t,o){if(void 0===h)return i(v);if(w)return h=setTimeout(r,e),n(v)}return void 0===h&&(h=setTimeout(r,e)),f}var l,d,p,f,h,v,m=0,b=!1,w=!1,y=!0;if("function"!=typeof t)throw new TypeError(U);return e=M(e)||0,c(o)&&(b=!!o.leading,p=(w="maxWait"in o)?B(M(o.maxWait)||0,e):p,y="trailing"in o?!!o.trailing:y),u.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=v=d=h=void 0},u.flush=function(){return void 0===h?f:s(g())},u},F="Expected a function",H=function(t,e,o){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError(F);return c(o)&&(n="leading"in o?!!o.leading:n,i="trailing"in o?!!o.trailing:i),V(t,e,{leading:n,maxWait:e,trailing:i})},W=(u=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},t.exports=e.default},u(l={exports:{}},l.exports),l.exports),G=function(t){return t&&t.__esModule?t.default:t}(W),z=o,J=o,$=function(t,e,o){i(t,s,e,o),"DOMMouseScroll"==s&&i(t,"MozMousePixelScroll",e,o)},Q="";(function(t,e){t&&t.addEventListener?(a="addEventListener",r="removeEventListener"):(a="attachEvent",r="detachEvent",Q="on"),s=e?"onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"})("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),z.addWheelListener=J,z.removeWheelListener=$;!function(){function t(t){this.value=t}function e(e){function o(i,a){try{var r=e[i](a),s=r.value;s instanceof t?Promise.resolve(s.value).then((function(t){o("next",t)}),(function(t){o("throw",t)})):n(r.done?"return":"normal",r.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?o(i.key,i.arg):a=null}var i,a;this._invoke=function(t,e){return new Promise((function(n,r){var s={key:t,arg:e,resolve:n,reject:r,next:null};a?a=a.next=s:(i=a=s,o(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},K=!G();e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=X({},{debug:!1,maxDisplays:99999,eventThrottle:200,showAfterInactiveSecondsDesktop:60,showAfterInactiveSecondsMobile:40,showAgainAfterSeconds:10,onExitIntent:function(){}},t),o=function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];var i;e.debug&&(i=console).log.apply(i,["[exit-intent-mobile]"].concat(o))},n=0,i=H((function(){n<e.maxDisplays&&(o("display onExitIntent",++n),e.onExitIntent(),n>=e.maxDisplays&&d())}),1e3*e.showAgainAfterSeconds,{trailing:!1}),a=void 0;K&&(o("register mouseleave for desktop"),a=document.body.addEventListener("mouseleave",H((function(){o("mouseleave"),i()}),e.eventThrottle),!1));var r=K?e.showAfterInactiveSecondsDesktop:e.showAfterInactiveSecondsMobile;o("timeoutOnDevice",r);var s=void 0,u=function(){void 0!==r?(void 0!==s&&(o("clearTimeout()"),window.clearTimeout(s)),s=window.setTimeout((function(){o("display after timeout"),i()}),1e3*r)):o("display disabled")};u();var l=[],c=function(t,n){o("registering event for restartTimer",t,n);var i=n.addEventListener(t,H((function(t){o("throttled listener",t),u()}),e.eventThrottle),!1);return l.push({event:t,listener:i,target:n}),i};K&&(c("scroll",window),c("mousemove",window),J(window,(function(t){H((function(t){o("throttled wheel listener",t),u()}),e.eventThrottle)}))),G&&(c("touchstart",document.body),c("touchend",document.body),c("touchmove",document.body));var d=function(){o("removeEvents",n),a&&(document.body.removeEventListener("mouseleave",a),$(window,(function(){o("removeWheelListener")}))),l.forEach((function(t){var e=t.event,o=t.listener;t.target.removeEventListener(e,o)}))};return d}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,o){!function(t,n){"object"==typeof o&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self,function(){var e=t.Cookies,o=t.Cookies=n();o.noConflict=function(){return t.Cookies=e,o}}())}(this,(function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}var e=function e(o,n){function i(e,i,a){if("undefined"!=typeof document){"number"==typeof(a=t({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in a)a[s]&&(r+="; "+s,!0!==a[s]&&(r+="="+a[s].split(";")[0]));return document.cookie=e+"="+o.write(i,e)+r}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],n={},i=0;i<e.length;i++){var a=e[i].split("="),r=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(n[s]=o.read(r,s),t===s)break}catch(t){}}return t?n[t]:n}},remove:function(e,o){i(e,"",t({},o,{expires:-1}))},withAttributes:function(o){return e(this.converter,t({},this.attributes,o))},withConverter:function(o){return e(t({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(o)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});return e}))},{}],9:[function(t,e,o){"use strict";var n=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function a(t){try{return encodeURIComponent(t)}catch(t){return null}}o.stringify=function(t,e){e=e||"";var o,i,r=[];for(i in"string"!=typeof e&&(e="?"),t)if(n.call(t,i)){if((o=t[i])||null!=o&&!isNaN(o)||(o=""),i=a(i),o=a(o),null===i||null===o)continue;r.push(i+"="+o)}return r.length?e+r.join("&"):""},o.parse=function(t){for(var e,o=/([^=?#&]+)=?([^&]*)/g,n={};e=o.exec(t);){var a=i(e[1]),r=i(e[2]);null===a||null===r||a in n||(n[a]=r)}return n}},{}],10:[function(t,e,o){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],11:[function(t,e,o){e.exports=function(){var t={};return{defaults:function(e,o){t=o},get:function(e,o){var n=e();return void 0!==n?n:t[o]}}}},{}],12:[function(t,e,o){var n="expire_mixin";e.exports=function(){var t=this.createStore(this.storage,null,this._namespacePrefix+n);return{set:function(e,o,i,a){this.hasNamespace(n)||t.set(o,a);return e()},get:function(t,o){this.hasNamespace(n)||e.call(this,o);return t()},remove:function(e,o){this.hasNamespace(n)||t.remove(o);return e()},getExpiration:function(e,o){return t.get(o)},removeExpiredKeys:function(t){var o=[];this.each((function(t,e){o.push(e)}));for(var n=0;n<o.length;n++)e.call(this,o[n])}};function e(e){t.get(e,Number.MAX_VALUE)<=(new Date).getTime()&&(this.raw.remove(e),t.remove(e))}}},{}],13:[function(t,e,o){var n=t("./util"),i=n.slice,a=n.pluck,r=n.each,s=n.bind,u=n.create,l=n.isList,c=n.isFunction,d=n.isObject;e.exports={createStore:f};var p={version:"2.0.12",enabled:!1,get:function(t,e){var o=this.storage.read(this._namespacePrefix+t);return this._deserialize(o,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each((function(o,n){t.call(e,e._deserialize(o),(n||"").replace(e._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return f(this.storage,this.plugins,t)}};function f(t,e,o){o||(o=""),t&&!l(t)&&(t=[t]),e&&!l(e)&&(e=[e]);var n=o?"__storejs_"+o+"_":"",f=o?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(o))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:n,_namespaceRegexp:f,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var o=t.read(e)===e;return t.remove(e),o}catch(t){return!1}},_assignPluginFnProp:function(t,e){var o=this[e];this[e]=function(){var e=i(arguments,0),n=this;function a(){if(o)return r(arguments,(function(t,o){e[o]=t})),o.apply(n,e)}var s=[a].concat(e);return t.apply(n,s)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var o="";try{o=JSON.parse(t)}catch(e){o=t}return void 0!==o?o:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(l(t))r(t,(function(t){e._addPlugin(t)}));else if(!a(this.plugins,(function(e){return t===e}))){if(this.plugins.push(t),!c(t))throw new Error("Plugins must be function values that return objects");var o=t.call(this);if(!d(o))throw new Error("Plugins must return an object of function properties");r(o,(function(o,n){if(!c(o))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(o,n)}))}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;if(t){(t.warn?t.warn:t.log).apply(t,arguments)}}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},g=u(h,p,{plugins:[]});return g.raw={},r(g,(function(t,e){c(t)&&(g.raw[e]=s(g,t))})),r(t,(function(t){g._addStorage(t)})),r(e,(function(t){g._addPlugin(t)})),g}},{"./util":14}],14:[function(t,e,o){(function(t){(function(){var o=Object.assign?Object.assign:function(t,e,o,n){for(var i=1;i<arguments.length;i++)s(Object(arguments[i]),(function(e,o){t[o]=e}));return t},n=function(){if(Object.create)return function(t,e,n,i){var a=r(arguments,1);return o.apply(this,[Object.create(t)].concat(a))};{function t(){}return function(e,n,i,a){var s=r(arguments,1);return t.prototype=e,o.apply(this,[new t].concat(s))}}}(),i=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},a="undefined"!=typeof window?window:t;function r(t,e){return Array.prototype.slice.call(t,e||0)}function s(t,e){u(t,(function(t,o){return e(t,o),!1}))}function u(t,e){if(l(t)){for(var o=0;o<t.length;o++)if(e(t[o],o))return t[o]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function l(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}e.exports={assign:o,create:n,trim:i,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:r,each:s,map:function(t,e){var o=l(t)?[]:{};return u(t,(function(t,n){return o[n]=e(t,n),!1})),o},pluck:u,isList:l,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:a}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,o){var n=t("../src/util"),i=n.Global,a=n.trim;e.exports={name:"cookieStorage",read:function(t){if(!t||!l(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(r.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;r.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s((function(t,e){u(e)}))}};var r=i.document;function s(t){for(var e=r.cookie.split(/; ?/g),o=e.length-1;o>=0;o--)if(a(e[o])){var n=e[o].split("="),i=unescape(n[0]);t(unescape(n[1]),i)}}function u(t){t&&l(t)&&(r.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function l(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(r.cookie)}},{"../src/util":14}],16:[function(t,e,o){var n=t("../src/util").Global;function i(){return n.localStorage}function a(t){return i().getItem(t)}e.exports={name:"localStorage",read:a,write:function(t,e){return i().setItem(t,e)},each:function(t){for(var e=i().length-1;e>=0;e--){var o=i().key(e);t(a(o),o)}},remove:function(t){return i().removeItem(t)},clearAll:function(){return i().clear()}}},{"../src/util":14}],17:[function(t,e,o){e.exports={name:"memoryStorage",read:function(t){return n[t]},write:function(t,e){n[t]=e},each:function(t){for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},remove:function(t){delete n[t]},clearAll:function(t){n={}}};var n={}},{}],18:[function(t,e,o){
/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2015 Tom Moor
 * @license MIT Licensed
 */
var n,i,a,r,s,u,l,c,d,p,f,h,g,v,m,b,w,y,S,C,O,k,A;i={},a=null,r=null,s=null,u=null,l={},c=Math.ceil(window.devicePixelRatio)||1,d=16*c,p={width:7,height:9,font:10*c+"px arial",color:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},n=navigator.userAgent.toLowerCase(),h=(f=function(t){return-1!==n.indexOf(t)})("trident"),f("chrome"),g=f("chrome")||f("safari"),v=f("safari")&&!f("chrome"),m=f("mozilla")&&!f("chrome")&&!f("safari"),b=function(){if(!r||!a){var t=function(){for(var t=document.getElementsByTagName("link"),e=0,o=t.length;e<o;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/i))return t[e];return!1}();a=t?t.getAttribute("href"):"/favicon.ico",r||(r=a)}return a},w=function(){return u||((u=document.createElement("canvas")).width=d,u.height=d),u},y=function(t){if(t){!function(){for(var t=document.getElementsByTagName("link"),e=0,o=t.length;e<o;e++)void 0!==t[e]&&(t[e].getAttribute("rel")||"").match(/\bicon\b/i)&&t[e].parentNode.removeChild(t[e])}();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}},S=function(t){if(l.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=(t+"").length>0?"("+t+") "+e:e}},C=function(t,e,o){"number"==typeof e&&e>99&&l.abbreviate&&(e=k(e));var n=(e+"").length-1,i=l.width*c+6*c*n,a=l.height*c,r=d-a,s=d-i-c,u=16*c,p=16*c,f=2*c;t.font=(g?"bold ":"")+l.font,t.fillStyle=l.background,t.strokeStyle=l.background,t.lineWidth=c,t.beginPath(),t.moveTo(s+f,r),t.quadraticCurveTo(s,r,s,r+f),t.lineTo(s,u-f),t.quadraticCurveTo(s,u,s+f,u),t.lineTo(p-f,u),t.quadraticCurveTo(p,u,p,u-f),t.lineTo(p,r+f),t.quadraticCurveTo(p,r,p-f,r),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(s+f/2,u),t.lineTo(p-f/2,u),t.stroke(),t.fillStyle=l.color,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===c?29:15,m?7*c:6*c)},O=function(){w().getContext&&y(w().toDataURL())},k=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],o=0;o<e.length;++o)if(t>=e[o][1]){t=A(t/e[o][1])+e[o][0];break}return t},A=function(t,e){return new Number(t).toFixed(e)},i.setOptions=function(t){for(var e in l={},t.colour&&(t.color=t.colour),p)l[e]=t.hasOwnProperty(e)?t[e]:p[e];return this},i.setImage=function(t){return a=t,O(),this},i.setBubble=function(t,e){return function(t,e){if(!w().getContext||h||v||"force"===l.fallback)return S(t);var o=w().getContext("2d"),n=(e=e||"#000000",b());(s=document.createElement("img")).onload=function(){o.clearRect(0,0,d,d),o.drawImage(s,0,0,s.width,s.height,0,0,d,d),(t+"").length>0&&C(o,t,e),O()},!n.match(/^data/)&&l.crossOrigin&&(s.crossOrigin="anonymous"),s.src=n}(t=t||"",e),this},i.reset=function(){a=r,y(r)},i.setOptions(p),"function"==typeof define&&define.amd?define(i):void 0!==e?e.exports=i:window.Tinycon=i},{}],19:[function(t,e,o){(function(o){(function(){"use strict";var n=t("requires-port"),i=t("querystringify"),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function d(t){return(t||"").toString().replace(a,"")}var p=[["#","hash"],["?","query"],function(t,e){return g(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function h(t){var e,n=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(t=t||n);if("blob:"===t.protocol)i=new m(unescape(t.pathname),{});else if("string"===a)for(e in i=new m(t,{}),f)delete i[e];else if("object"===a){for(e in t)e in f||(i[e]=t[e]);void 0===i.slashes&&(i.slashes=s.test(t.href))}return i}function g(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function v(t,e){t=(t=d(t)).replace(r,""),e=e||{};var o,n=l.exec(t),i=n[1]?n[1].toLowerCase():"",a=!!n[2],s=!!n[3],u=0;return a?s?(o=n[2]+n[3]+n[4],u=n[2].length+n[3].length):(o=n[2]+n[4],u=n[2].length):s?(o=n[3]+n[4],u=n[3].length):o=n[4],"file:"===i?u>=2&&(o=o.slice(2)):g(i)?o=n[4]:i?a&&(o=o.slice(2)):u>=2&&g(e.protocol)&&(o=n[4]),{protocol:i,slashes:a||g(i),slashesCount:u,rest:o}}function m(t,e,o){if(t=(t=d(t)).replace(r,""),!(this instanceof m))return new m(t,e,o);var a,s,u,l,f,b,w=p.slice(),y=typeof e,S=this,C=0;for("object"!==y&&"string"!==y&&(o=e,e=null),o&&"function"!=typeof o&&(o=i.parse),a=!(s=v(t||"",e=h(e))).protocol&&!s.slashes,S.slashes=s.slashes||a&&e.slashes,S.protocol=s.protocol||e.protocol||"",t=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(t))||!s.slashes&&(s.protocol||s.slashesCount<2||!g(S.protocol)))&&(w[3]=[/(.*)/,"pathname"]);C<w.length;C++)"function"!=typeof(l=w[C])?(u=l[0],b=l[1],u!=u?S[b]=t:"string"==typeof u?~(f="@"===u?t.lastIndexOf(u):t.indexOf(u))&&("number"==typeof l[2]?(S[b]=t.slice(0,f),t=t.slice(f+l[2])):(S[b]=t.slice(f),t=t.slice(0,f))):(f=u.exec(t))&&(S[b]=f[1],t=t.slice(0,f.index)),S[b]=S[b]||a&&l[3]&&e[b]||"",l[4]&&(S[b]=S[b].toLowerCase())):t=l(t,S);o&&(S.query=o(S.query)),a&&e.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==e.pathname)&&(S.pathname=function(t,e){if(""===t)return e;for(var o=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=o.length,i=o[n-1],a=!1,r=0;n--;)"."===o[n]?o.splice(n,1):".."===o[n]?(o.splice(n,1),r++):r&&(0===n&&(a=!0),o.splice(n,1),r--);return a&&o.unshift(""),"."!==i&&".."!==i||o.push(""),o.join("/")}(S.pathname,e.pathname)),"/"!==S.pathname.charAt(0)&&g(S.protocol)&&(S.pathname="/"+S.pathname),n(S.port,S.protocol)||(S.host=S.hostname,S.port=""),S.username=S.password="",S.auth&&(~(f=S.auth.indexOf(":"))?(S.username=S.auth.slice(0,f),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=S.auth.slice(f+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(S.auth)),S.auth=S.password?S.username+":"+S.password:S.username),S.origin="file:"!==S.protocol&&g(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString()}m.prototype={set:function(t,e,o){var a=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(o||i.parse)(e)),a[t]=e;break;case"port":a[t]=e,n(e,a.protocol)?e&&(a.host=a.hostname+":"+e):(a.host=a.hostname,a[t]="");break;case"hostname":a[t]=e,a.port&&(e+=":"+a.port),a.host=e;break;case"host":a[t]=e,u.test(e)?(e=e.split(":"),a.port=e.pop(),a.hostname=e.join(":")):(a.hostname=e,a.port="");break;case"protocol":a.protocol=e.toLowerCase(),a.slashes=!o;break;case"pathname":case"hash":if(e){var r="pathname"===t?"/":"#";a[t]=e.charAt(0)!==r?r+e:e}else a[t]=e;break;case"username":case"password":a[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(a.username=e.slice(0,s),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=e.slice(s+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<p.length;l++){var c=p[l];c[4]&&(a[c[1]]=a[c[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&g(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,o=this,n=o.host,a=o.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var r=a+(o.protocol&&o.slashes||g(o.protocol)?"//":"");return o.username?(r+=o.username,o.password&&(r+=":"+o.password),r+="@"):o.password?(r+=":"+o.password,r+="@"):"file:"!==o.protocol&&g(o.protocol)&&!n&&"/"!==o.pathname&&(r+="@"),(":"===n[n.length-1]||u.test(o.hostname)&&!o.port)&&(n+=":"),r+=n+o.pathname,(e="object"==typeof o.query?t(o.query):o.query)&&(r+="?"!==e.charAt(0)?"?"+e:e),o.hash&&(r+=o.hash),r}},m.extractProtocol=v,m.location=h,m.trimLeft=d,m.qs=i,e.exports=m}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:9,"requires-port":10}]},{},[3]);
//# sourceMappingURL=/website/js/widget2.4614f076.min.js.map
