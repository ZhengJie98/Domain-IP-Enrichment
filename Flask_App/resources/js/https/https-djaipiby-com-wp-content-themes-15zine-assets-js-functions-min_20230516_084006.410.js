/* Copyright Codetipi - 15Zine theme */
/* global jQuery, codetipi15zineJS, cookie */
!function(e){"use strict";e(".tiled-gallery").find("a").attr("rel","tiledGallery"),e(".gallery").find("a").attr("rel","tiledGallery"),e(document).ready(function(t){t(".cb-toggler").find(".cb-toggle").click(function(e){e.preventDefault(),t(this).parent().toggleClass("cb-on")})})}(jQuery);var codetipi15zine=function(A){"use strict";var M={init:function(){this.dom(),this.data(),this.bind(),this.sticky(),this.sidebars(),this.qtyArrows(),this.parallaxIt(),this.mobileMenuClass(),this.sliderInit(),this.anis(),this.infScr(),this.noPar(),this.lightboxInit(),this.ipl(),this.stickyEl(),this.woo(),this.anchorTouch(),this.tabber(),this.fillRunner(),this.videoWrap()},dom:function(){this.$win=A(window),this.$doc=A(document),this.$body=A("body"),this.$stickyMenu=A(".sticky-menu"),this.$siteNav=A("#cb-nav-bar"),this.$secondaryMenu=A("#cb-top-menu"),this.$controller=new ScrollMagic.Controller,this.$parallaxItCont=new ScrollMagic.Controller,this.$header=A("#masthead"),this.$skinMode=A(".mode__wrap"),this.$tabs=A(".tabber"),this.resizeTo="",this.resizing=!1,this.$rtl=this.$body.hasClass("rtl"),this.$mobHead=A("#mobhead"),this.$mobMenuOpen=A(".mob-tr-open"),this.$mobMenuClose=A(".mob-tr-close"),this.$mobMenu=this.$mobHead.find(".mobile-navigation").add(A("#mob-menu-wrap").find(".mobile-navigation")),this.$mobMenuChildren=this.$mobMenu.find(".menu-item-has-children"),this.timer=0,this.ignoreCodes=[9,13,16,17,18,20,32,45,116,224,93,91],this.audio=new Audio,this.video=document.createElement("video"),this.$toolTip=A(".tipi-tip"),this.$primary=A("#cb-content"),this.$entryContentWrap=this.$primary.find(".entry-content-wrap"),this.$entryContent=this.$primary.find(".entry-content"),this.$progress=A("#progress"),this.$iplTitle=A("#sticky-title"),this.$mobBotShare=A("#mob-bot-share"),this.$toTopWrap=A("#to-top-wrap"),this.$toTopA=A("#to-top-a"),this.ajaxCall="",this.ajaxData={},this.$dropper=this.$siteNav.find(".horizontal-menu > .dropper").add(this.$secondaryMenu.find(".horizontal-menu > .dropper")).add(this.$header.find(".horizontal-menu > .dropper")),this.$dropperChild=this.$dropper.find(".block-mm-changer"),this.$modal=A("#modal"),this.$baseOverlay=A("#tipi-overlay"),this.$modalCustom=this.$modal.find(".content-custom"),this.$modalSearch=this.$modal.find(".content-search"),this.$modalSearchField=this.$modalSearch.find(".search-field"),this.$modalSearchFound=this.$modalSearch.find(".content-found"),this.$searchResults=A(".search-all-results"),this.thePaged=codetipi15zineJS.qry.paged||1,this.headAreaHeight=0,this.wooArchive="",this.$products=""},data:function(){this.$docHeight=this.$doc.height(),this.$winWidth=this.$win.width(),this.$winHeight=this.$win.height()+1,this.$wpAdminBarHeight=0,this.$wpAdminBarHeightNeg=0,this.$body.hasClass("admin-bar")&&(this.$wpAdminBarHeight=783<this.$winWidth?32:46,this.$wpAdminBarHeightNeg="-"+this.$wpAdminBarHeight),this.$mobMenuClose.on("click",this.closeMobMenu.bind(this)),this.$mobMenuOpen.on("click",this.openMobMenu.bind(this)),this.$mobMenu.on("click",".open-child",this.verticalMenuShow),this.$toolTip.on("mouseenter",this.toolTipInit),M.$winWidth<767?this.headAreaHeight=this.$mobHead.outerHeight():((this.$header.hasClass("sticky-menu-1")||this.$header.hasClass("sticky-menu-3"))&&(this.headerIsSticky=!0,this.headAreaHeight=this.$headerHeight),(this.$siteNav.hasClass("sticky-menu-1")||this.$siteNav.hasClass("sticky-menu-3"))&&(this.headerIsSticky=!1,this.headAreaHeight=this.$siteNav.outerHeight())),(this.$body.hasClass("term-woocategory")||this.$body.hasClass("post-type-archive-product")||this.$body.hasClass("woocommerce-page"))&&(this.wooArchive=!0,this.$products=this.$entryContentWrap.find(".products"))},bind:function(){this.$body.on("click","#qty-plus",this.qtyArrowChange),this.$body.on("click","#qty-minus",this.qtyArrowChange),this.$doc.on("keyup",this.keyUp.bind(this)),this.$body.on("click",".trending-op",this.trending),this.$doc.on("updated_wc_div",function(){M.qtyArrows()}),this.$body.on("click",".media-tr, .modal-tr",this.modalOn),this.$body.on("click",".close, .tipi-overlay",this.modalOff),this.$body.on("click",".tipi-like-count",this.likes),this.$body.on("click",".inf-load-more",this.loadMoreButton),0<this.$modalSearchFound.length&&(this.$modalSearchField.on("keyup",this.liveSearch),this.$searchResults.on("click",this.liveSearchTr)),this.$toTopA.on("click",this.toTopInit),this.$siteNav.find(".horizontal-menu").menuAim({activateCallback:M.menuAc,deactivateCallback:M.menuDeac,submenuDirection:"below",openClassName:"active",tolerance:0,exitMenuCallback:M.menuEx}),0<this.$dropperChild.length&&M.dropperChild()},dropperChild:function(){var i;this.$dropperChild.on("mouseover mouseleave",function(e){if(clearTimeout(i),"mouseover"===e.type){var t=A(this);i=setTimeout(function(){M.blockMore(e,t)},300)}})},tabber:function(){0!==this.$tabs.length&&this.$tabs.each(function(){var e=A(this),t=e.find(".widget-wrap"),i=t.children(),a=e.find(".widget-titles");e.hasClass("tabber-widget")&&i.find(".widget-title").each(function(){var e=A(this).parent().attr("id");a.append('<a class="tab-title" href="#" data-id="'+e+'">'+A(this).html()+"</a>")});a.children()[0].classList.add("active");var s=a.children()[0].getAttribute("data-id");A("#"+s).addClass("active"),a.find(".tab-title").on("click",function(e){e.preventDefault(),a.children().removeClass("active"),A(this).addClass("active"),t.find("#"+A(this).data("id")).addClass("active").siblings().removeClass("active")}),t.addClass("loaded")})},qtyArrows:function(){A(".cart .quantity:not(.has-arrows )").addClass("has-arrows").append('<span class="qty-arrows"><span id="qty-plus" class="qty-arrow qty-plus"><i class="codetipi-15zine-i-chevron-up"></i></span><span id="qty-minus" class="qty-arrow qty-minus"><i class="codetipi-15zine-i-chevron-down"></i></span></span>')},loadMoreButton:function(e){e.preventDefault();var t=A(this),i=t.data();t.hasClass("loaded")||M.loadMore(t,i)},anchorTouch:function(){var o="ontouchstart"in document.documentElement;this.$dropper.each(function(e,t){var i=A(this),a=i.find("> a"),s=a.attr("href");if(void 0!==s&&-1<s.indexOf("#")){if("#search"===s||"#lwa"===s||"#subscribe"===s)return void a.addClass("modal-tr").attr("data-type",s.split("#")[1]);a.on("click.anchor",function(e){var t=0,i=document.getElementById(s.split("#")[1]);if("#"!==s){if(!i)return;t=zenscroll.getTopOf(i)}e.preventDefault(),zenscroll.toY(t-M.headAreaHeight-M.$wpAdminBarHeight,null)})}if(!1==o)return!0;0<i.find("> .menu").length&&a.on("click",function(e){var t=A(this);if(i.siblings(".tapped").removeClass("tapped"),(0===i.find(".menu").length&&0===i.find(".sub-menu").length||i.hasClass("tapped"))&&"#"!==t.attr("href"))return!0;e.preventDefault(),i.addClass("tapped")})})},loadMore:function(s,o){s.addClass("loaded"),void 0!==M.thePaged&&0!==M.thePaged||(M.thePaged=1),void 0===o&&(s=A(this),o=s.data());var n=s.closest(".block-wrap"),e=o.type;4===e&&(e=3);var r,l=n;n.hasClass("block-masonry-wrap")?(l=l.find(".block"),r=!0):n.hasClass("block-wrap-65")?(l=l.find(".block"),r=65):l=l.find("> .block-inner-style > .block-inner-box");var d,t=codetipi15zineJS.qry,i=n.data("id");void 0===i||void 0===window["codetipi_15zine_"+i]||M.$body.hasClass("blog")||(t=window["codetipi_15zine_"+i].args),A.ajax({method:"POST",data:{p:o.p,img_shape:o.shape,byline_off:o.byline,excerpt_off:o.excerpt,add_args:void 0===o.addargs?"":o.addargs,mnp:o.mnp,qry:t,paged:M.thePaged,frontpage:codetipi15zineJS.args.frontpage,basePagi:window.location.pathname,type:e},url:codetipi15zineJS.root+"pagi",dataType:"html",beforeSend:function(e){M.thePaged=parseInt(M.thePaged)+1,e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce),d=n.find(".inf-load-more-wrap:not(.inf-loaded)").addClass("tipi-spin inf-loading")},success:function(e){var t,i,a=A(e);65===r?(i=M.getDetails(l),n.find(".inf-scr:not(.inf-scr-masonry)").css("top",i.height-200).addClass("inf-scr-masonry"),d.addClass("inf-scr-masonry").css("top",i.height-200),a.each(function(){(t=A(this)).hasClass("pagination")||t.hasClass("inf-scr")?n.append(t):l.append(t)})):!0===r?M.masonryAppend(a,l):l.append(a),d.removeClass("tipi-spin inf-loading").addClass("inf-loaded"),M.tempAni(),M.infScr(),M.fillRunner(),!0===r?M.GA(o.next):M.infPagi(s,o)},fail:function(e){console.log("ERROR",e)}}),A(".inf-scr").removeClass("active")},woo:function(){!0===this.wooArchive&&this.$products.imagesLoaded().progress(function(e,t){A(t.img).closest(".product").addClass("article-window")})},infScr:function(){var e=A(".inf-scr");if(0!==e.length){var s,o,n=e.first().data("mnp");e.each(function(e,t){var i=(s=A(t)).closest(".block-wrap");if(!(s.hasClass("loaded")||s.hasClass("inf-load-more")||s.hasClass("inf-scr-masonry")||i.hasClass("dt-off")&&767<M.$winWidth||i.hasClass("mob-off")&&M.$winWidth<768)){(o=s.data()).mnp=n;var a=new ScrollMagic.Scene({triggerElement:s,triggerHook:1,offset:-500}).addTo(M.$controller).on("enter",function(e){s.hasClass("loaded")?a.destroy():(M.loadMore(s,o),s.addClass("loaded"))})}})}},infPagi:function(e,t){new ScrollMagic.Scene({triggerElement:e,triggerHook:1,offset:"100px"}).addTo(M.$controller).on("enter leave",function(e){1===e.progress?(!0===codetipi15zineJS.args.archiveUrlChange&&M.updateHref(t.titleNext,t.next),M.GA(t.next)):(!0===codetipi15zineJS.args.archiveUrlChange&&M.updateHref(t.titlePrev,t.prev),M.GA(t.prev))}),this.reSidebars()},menuAc:function(e){var t=A(e),i=t.closest(".horizontal-menu");if(t.hasClass("dropper")){if(t.hasClass("codetipi-15zine-lazy-loaded")||t.find(".codetipi-15zine-lazy-load-mm").each(function(){M.imgAttrLoad(A(this)[0],!0)}),t.addClass("active active-1 codetipi-15zine-lazy-loaded"),3===M.mmAni){var a=t.find("> .menu");a.hasClass("mm-1")&&(a=a.find("> .menu-wrap > .sub-menu")),i.find(".menu--slid").hide().removeClass("menu--slid"),a.css({visibility:"visible",opacity:"1"}).addClass("menu--slid"),i.hasClass("menu--active")?a.show():a.hide().stop().slideDown(200)}setTimeout(function(){i.addClass("menu--active")},220)}},menuDeac:function(e){A(e).removeClass("active")},menuEx:function(e){3===M.mmAni&&A(e).find(".menu--slid").stop().slideUp(200);A(e).removeClass("menu--active")},openMobMenu:function(e){e.preventDefault(),this.$body.hasClass("mob-open")?this.$body.removeClass("mob-open"):this.$body.addClass("mob-open")},blockMore:function(e,t){var i=void 0===t?A(this):t;if(i.hasClass("block-mm-changer")||e.preventDefault(),!i.hasClass("no-more")&&!i.hasClass("active")){var a,s,o,n;if(i.hasClass("block-mm-changer")){if(s=i.closest(".menu"),parseInt(s.data("mm"))<10||50<parseInt(s.data("mm")))return;a=s.find(".block-wrap"),n=o=!0}else(a=i.closest(".block-wrap")).parent().hasClass("menu-wrap")&&(o=!0);var r=i.data(),l=a.data(),d=A("#block-wrap-"+l.id),c=d.find("> div");if(!c.hasClass("loading")){var h,p,u=!!i.hasClass("block-changer"),m=void 0!==r.dir&&1===r.dir?1:2,f=void 0===r.dir?1:2,g=f,v={term:r.term,id:r.tid},C="codetipi_15zine_"+l.id;0===window[C].target||void 0!==r.tid&&0!==r.tid||(C=C+"_"+window[C].target),0<r.tid&&(C=C+"_"+r.tid,void 0===window[C]&&(window[C]=A.extend(!0,{},window["codetipi_15zine_"+l.id]),window[C].args.cat="",window[C].args.tag__in="",window[C].args.post__in="",window[C].term="","category"===r.term?window[C].args.cat=r.tid:"post_tag"===r.term?window[C].args.tag__in=r.tid:(window[C].args.tax_query={taxonomy:v.term,field:"term_id",terms:v.id},window[C].term=v)),window["codetipi_15zine_"+l.id].target=r.tid),1===r.reset&&(C="codetipi_15zine_"+l.id,window[C].target=0);var b=r.title,w=r.reset,y=r.subtitle,$=r.ur,k=a.find(".block-more-2"),S=a.find(".block-more-1");if(0===k.length?k=a.find(".block-more-3"):void 0!==r.term?(k.data({term:r.term,tid:r.tid}),S.data({term:r.term,tid:r.tid})):(k.removeData("term").removeData("tid"),S.removeData("term").removeData("tid")),!0==u){if(h=1,g=2,i.hasClass("block-mm-changer"))s.find(".active").removeClass("active");else{var x=i.closest(".sorter");x.find(".block-changer").removeClass("active"),x.find(".current-txt").html(r.sorttitle+codetipi15zineJS.args.iconSorter)}i.hasClass("block-mm-init")&&s.find(".block-mm-init").removeClass("block-mm-init"),i.addClass("active"),window[C].next=2,window[C].prev=0,1===r.mnp&&(p="off")}else window[C].mnp,1==m?(h=window[C].prev,window[C].prev=parseInt(window[C].prev)-1,window[C].next=parseInt(window[C].next)-1):(h=window[C].next,window[C].prev=parseInt(window[C].prev)+1,window[C].next=parseInt(window[C].next)+1);var z=window[C],T={blockData:z,$blockData:d,$elemN:k,$elemP:S,dir:r.dir,changer:u,trigger_type:f,append:g,loaders:p,title:b,newUrl:$,reset:w,subtitle:y,response:"",mm:o};return A.ajax({method:"GET",data:{paged:h,type:f,mm:o,term:v,data:z},dataType:"html",url:codetipi15zineJS.root+"block",beforeSend:function(e){if(!0===n&&s.parent().find("> a").data("ppp")>=r.count&&(T.loaders="off"),c.addClass("loading tipi-spin"),e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce),M.ajaxChecker(C+"_"+h))return T.response=M.ajaxGetter(C+"_"+h),M.ajaxLoadMore(T),!0===n?a.closest(".mm-wrap").addClass("active-1"):!0===o&&a.closest(".mm-wrap").removeClass("active-1"),2===g&&(1==m?a.removeClass("loaded block-ani-r").addClass("block-ani-l"):a.removeClass("loaded block-ani-l").addClass("block-ani-r")),M.reSidebars(),a.addClass("loaded"),M.videoWrap(),!1},success:function(e){e=JSON.parse(e),T.response=e,M.ajaxLoadMore(T),!0===n?a.closest(".mm-wrap").addClass("active-1"):!0===o&&a.closest(".mm-wrap").removeClass("active-1"),M.ajaxSetter(C+"_"+h,e),a.addClass("loaded"),M.videoWrap(),2===g&&(1==m?a.removeClass("block-ani-r").addClass("block-ani-l"):a.removeClass("block-ani-l").addClass("block-ani-r"))},fail:function(e){console.log("ERROR",e)}}),!1}}},trending:function(e){var t=A(this),i=t.parent().data("uid"),a=A("#block-wrap-"+i),s=a.find(" > div");if(!s.hasClass("loading")){var o=t.data("r"),n="now";1===o?o=2:n=2===o?(o=7,"week"):(o=30,"month"),t.siblings().removeClass("trending-selected"),t.addClass("trending-selected");var r="codetipi_15zine_"+i,l=window[r],d={blockData:l,$blockData:a,changer:!1,append:2,manual:!0,response:"",mm:!0};A.ajax({method:"GET",data:{uid:i,mm:!0,excerpt_off:!0,counter:!0,counter_class:"border",byline_off:!0,review_off:!0,data:l,trending:["codetipi-15zine-trending-"+n,o]},dataType:"html",url:codetipi15zineJS.root+"block",beforeSend:function(e){if(s.addClass("loading"),e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce),M.ajaxChecker(r+"_"+o))return d.response=M.ajaxGetter(r+"_"+o),M.ajaxLoadMore(d),a.addClass("loaded"),!1},success:function(e){e=JSON.parse(e),d.response=e,M.ajaxLoadMore(d),M.ajaxSetter(r+"_"+o,e),a.addClass("loaded")},fail:function(e){console.log("ERROR",e)}})}},fillRunner:function(e){if(!0===e&&A(".tipi-fill").remove(),!0===this.wooArchive){var t=this.$entryContentWrap.data("ppl");2<t&&0<this.$products.length&&this.$products.each(function(){M.fillIt(A(this),t,"product")})}var i=this.$primary.add(this.$dropper).find(".ppl-l-4, .ppl-m-4");0<i.length&&(i=i.find(".block:not(.block-65)")).each(function(){M.fillIt(A(this),4)}),0<(i=this.$primary.add(this.$dropper).find(".ppl-l-5, .ppl-m-5")).length&&(i=i.find(".block:not(.block-65)")).each(function(){M.fillIt(A(this),5)}),0<(i=this.$primary.add(this.$dropper).find(".ppl-l-3, .ppl-m-3")).length&&(i=i.find(".block:not(.block-65)")).each(function(){i.hasClass("block-wrap-65")||M.fillIt(A(this),3)})},fillIt:function(e,t,i){if(767<this.$winWidth){var a,s=e.children().length;if(s===t)return;if((a=s<t?t-s:t-(a=s-Math.floor(s/t)*t))<t)for(var o=0;o<a;o++){var n=document.createElement("article");n.classList.add("tipi-fill"),void 0!==i&&n.classList.add(i),e.append(n)}}else A(".tipi-fill").remove()},toTopInit:function(e){e.preventDefault(),zenscroll.toY(0,800)},ajaxLoadMore:function(e){var t=A(e.response[1]);if(void 0!==e.title||void 0!==e.subtitle){var i=e.$blockData.find(".block-title-wrap");void 0!==e.title&&(void 0!==e.newUrl?i.find(".block-title-url").attr("href",e.newUrl).html(e.title):i.find(".block-title").html(e.title)),void 0!==e.subtitle&&i.find(".block-subtitle").html(e.subtitle)}var a=e.$blockData.find(".block"),s=a.find("> .block-masonry");if(1===e.append)e.$blockData.hasClass("block-wrap-grid")?a.last().after(t):0<s.length?M.masonryAppend(t,a):a.append(t),M.reSidebars();else if(e.$blockData.hasClass("block-wrap-grid")){if(e.$blockData.css("height",e.$blockData.height()),1===a.length)a.replaceWith(t);else{t=t.filter(function(){return 1===this.nodeType});for(var o=0;o<a.length;o++)a[o].replaceWith(t[o])}a.imagesLoaded(function(){e.$blockData.css("height","auto")})}else a.css("height",a.height()),a.html(t),a.imagesLoaded(function(){a.css("height","auto")});!0!==e.manual&&(!0===e.changer?"off"===e.loaders?(e.$elemN.addClass("no-more"),e.$elemP.addClass("no-more"),e.$elemN.hasClass("block-more-3")&&e.$elemN.html(codetipi15zineJS.i18n.noMore)):(e.$elemN.removeClass("no-more"),e.$elemP.addClass("no-more"),e.$elemN.hasClass("block-more-3")&&e.$elemN.html(codetipi15zineJS.i18n.loadMore)):1===e.trigger_type?""!==e.blockData&&e.blockData.next>e.response[0]&&e.$elemP.html(codetipi15zineJS.i18n.noMore).addClass("no-more"):(e.$elemN.removeClass("no-more"),e.$elemP.removeClass("no-more"),""!==e.blockData&&0===e.blockData.prev&&(e.$elemP.addClass("no-more"),e.$elemN.removeClass("no-more")),""!==e.blockData&&e.response[0]<e.blockData.next&&(0!==e.blockData.prev&&e.$elemP.removeClass("no-more"),e.$elemN.addClass("no-more")))),e.$blockData.find("> div").removeClass("loading tipi-spin"),M.fillRunner(),M.tempAni(),void 0!==e.mm&&!0===e.mm&&e.$blockData.find(".codetipi-15zine-lazy-load-mm").each(function(){M.imgAttrLoad(A(this)[0],!0)})},imgAttrLoad:function(e,t){var i=e;if("PICTURE"===i.tagName){var a=i.querySelectorAll("source")[0];e=i.querySelectorAll("img")[0];var s=a.getAttribute("data-lazy-srcset"),o=a.getAttribute("data-lazy-sizes");s&&(a.srcset=s,a.removeAttribute("data-lazy-srcset")),o&&(a.sizes=o,a.removeAttribute("data-lazy-sizes"))}a=e.getAttribute("data-lazy-src");var n=e.getAttribute("data-lazy-srcset"),r=e.getAttribute("data-lazy-sizes");a&&(e.src=a,e.removeAttribute("data-lazy-src")),n&&(e.srcset=n,e.removeAttribute("data-lazy-srcset")),r&&(e.sizes=r,e.removeAttribute("data-lazy-sizes")),!0===t?imagesLoaded(e,function(e){e.images[0].img.classList.remove("codetipi-15zine-lazy-load"),e.images[0].img.classList.add("codetipi-15zine-lazy-loaded")}):(i.classList.remove("codetipi-15zine-lazy-load"),i.classList.add("codetipi-15zine-lazy-loaded"))},lightboxClasses:function(){M.$entryContent.find("a").has("img").each(function(){var e=A("img",this).attr("title"),t=A(this),i=t.attr("href");if(void 0!==e&&t.attr("title",e),void 0!==i&&"prettyPhoto[product-gallery]"!==t.data("rel")){var a=i.split("."),s=A(a)[A(a).length-1];"jpg"!==s.substring(0,3)&&"jpeg"!==s.substring(0,4)&&"png"!==s.substring(0,3)&&"gif"!==s.substring(0,3)||t.addClass("tipi-lightbox")}})},lightboxInit:function(){M.lightboxClasses(),!0===codetipi15zineJS.args.lightbox&&A(".tipi-lightbox").swipebox()},postTracks:function(){0===this.$progress.length&&0===this.$mobBotShare.length||this.$entryContent.each(function(e,t){var i=A(t);if(i.hasClass("sticky-el")||i.hasClass("woocommerce-Tabs-panel")&&!i.hasClass("woocommerce-Tabs-panel--description"))return!0;i.addClass("progresson"),i.find("img").imagesLoaded(function(){var e=i.outerHeight(!0);M.$winHeight<e+50&&(M.progressScene=new ScrollMagic.Scene({triggerElement:i,duration:e,triggerHook:.5}).addTo(M.$controller).on("enter leave",function(e){"leave"===e.type?M.$progress.add(M.$mobBotShare).addClass("inactive").removeClass("active"):M.$progress.add(M.$mobBotShare).removeClass("inactive").addClass("active")})),0!==M.$progress.length&&(M.$body.hasClass("ipl-done")||M.$winHeight<e+50)&&M.progressScene.setTween(TweenLite.fromTo(M.$progress,3,{width:"0"},{width:"100%",ease:Power0.easeNone}))})})},sliderInit:function(){var e=A(".slider");0!==e.length&&e.each(function(){var e,a=A(this),t=a.data(),i=!0,s=!0,o=a,n={wrapAround:!0,imagesLoaded:!0,draggable:!1,pageDots:!1,setGallerySize:!1,prevNextButtons:!1,cellSelector:".slide",contain:!0,rightToLeft:M.$rtl};if(M.$winWidth<768==!0&&(n.draggable=!0),a.hasClass("flickity-enabled")&&(s=!1),10===t.s&&(e=!0,n.draggable=!0,n.lazyLoad=1,"s"!==t.fs&&"m"!==t.fs||(n.fullscreen=!0)),50<t.s&&t.s<60&&(n.setGallerySize=!0,n.adaptiveHeight=!0,n.selectedAttraction=.0925,n.friction=.725,n.autoPlay=parseInt(codetipi15zineJS.args.slider)),768<M.$winWidth&&(52===t.s?n.groupCells=2:53===t.s?n.groupCells=3:54===t.s&&(n.groupCells=4)),15===t.s&&(i=!1,n.wrapAround=!1,n.lazyLoad=2),n.draggable=!0,16===t.s&&(n.wrapAround=!1,n.cellAlign="left",o=a.prev(),n.asNavFor=o[0]),21===t.s&&(n.setGallerySize=!0,n.wrapAround=!1,n.adaptiveHeight=!0),!0===s){a.on("ready.flickity",function(){var e;a.addClass("slider-ldd"),21===t.s&&a.removeClass("tipi-spin"),e=50<t.s?a.find("article"):a.find("img"),51===t.s||59===t.s?e.first().imagesLoaded(function(){a.addClass("slider-rdy")}):52===t.s?e.slice(0,1).imagesLoaded(function(){a.addClass("slider-rdy")}):53===t.s||55===t.s?e.slice(0,2).imagesLoaded(function(){a.addClass("slider-rdy")}):54===t.s?e.slice(0,3).imagesLoaded(function(){a.addClass("slider-rdy")}):10===t.s||15===t.s?e.imagesLoaded(function(e){a.addClass("slider-rdy"),a.closest(".hero-wrap").addClass("mask-loaded")}):16===t.s&&e.imagesLoaded(function(e){a.addClass("nav-slider-rdy")})}),a.flickity(n);var r="";if(!1===n.wrapAround&&(r=a.data("flickity")),21===t.s&&a.css("counter-reset","list "+(r.slides.length+1)),!0===i){var l=a.find(".slider-arrow-prev"),d=a.find(".slider-arrow-next");l.on("click",function(){o.flickity("previous"),!1===n.wrapAround&&(0===r.selectedIndex?l.addClass("disabled"):l.removeClass("disabled"),r.selectedIndex===r.slides.length-1?d.addClass("disabled"):d.removeClass("disabled"))}),d.on("click",function(){o.flickity("next"),!1===n.wrapAround&&(0===r.selectedIndex?l.addClass("disabled"):l.removeClass("disabled"),r.selectedIndex===r.slides.length-1?d.addClass("disabled"):d.removeClass("disabled"))})}!0===e&&a.on("change.flickity",function(e,t){var i=a.closest(".hero-wrap");i.hasClass("gallery-viewing")||a.on("mouseleave",function(){i.removeClass("gallery-viewing"),a.off("mouseleave")}),i.addClass("gallery-viewing")})}})},mobMenuClear:function(e){this.$body.removeClass("mob-open")},closeMobMenu:function(e){e.preventDefault(),M.mobMenuClear()},mobileMenuClass:function(){this.$mobMenuChildren.find("> a").after('<a href="#" class="open-child"><i class="codetipi-15zine-i-chevron-down"></i></a>')},verticalMenuShow:function(e){e.preventDefault();var t=A(this),i=t.parent(),a=i.siblings(".menu-item-has-children");a.find("> .opened-child").removeClass("opened-child"),a.find("> .child-is-open").removeClass("child-is-open");var s=i.find("> .sub-menu");t.hasClass("child-is-open")?(t.removeClass("child-is-open"),s.removeClass("opened-child")):(t.addClass("child-is-open"),s.addClass("opened-child"))},keyUp:function(e){if(!this.$modal.hasClass("inactive")||this.$body.hasClass("slide-menu-open")){!1!==("key"in e?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&(this.closeSlideMenu(e),this.modalOff())}},mediaPlay:function(){M.video.play(),M.audio.play()},mediaStop:function(){M.audio.pause(),M.video.pause()},modalOn:function(e){e.preventDefault();var t,i=A(this),a=i.data();M.$body.hasClass("modal-skin-2")||("frame"==a.type||"qv"==a.type||"embed"==a.type?M.$modal.addClass("dark-overlay").removeClass("light-overlay"):M.$modal.addClass("light-overlay").removeClass("dark-overlay")),"frame"!=a.type&&"embed"!=a.type||("ext"==a.source?t=""===a.src?'<span class="embed-error">'+codetipi15zineJS.i18n.embedError+"</span>":'<iframe width="560" height="315"  class="frame" src="'+a.src+'" frameborder="0" seamless="seamless" allow="autoplay" allowfullscreen></iframe>':("audio"===a.format&&(M.audio.canPlayType("audio/mpeg;")?(M.audio.type="audio/mpeg",""!==a.srcA&&(M.audio.src=a.srcA)):(M.audio.type="audio/ogg",""!==a.srcB&&(M.audio.src=a.srcB)),M.audio.controls=!0,t=M.audio,M.audio.setAttribute("controlsList","nodownload"),M.audio.setAttribute("data-pid",a.pid),M.mediaPlay()),"video"===a.format&&(M.video.canPlayType("video/mp4;")?(M.video.type="video/mp4",""!==a.srcA&&(M.video.src=a.srcA)):(M.video.type="video/ogg",""!==a.srcB&&(M.video.src=a.srcB)),M.video.setAttribute("controls","controls"),M.video.setAttribute("controlsList","nodownload"),M.mediaPlay(),t=M.video),setTimeout(function(){M.$modalCustom.addClass("ani-in")},350))),"frame"==a.type&&(M.audio=new Audio,M.video=document.createElement("video"),M.$modalCustom.addClass("is-"+a.format).append(t),M.$modal.addClass("active active-1").removeClass("inactive"),M.$body.addClass("modal-active"),M.$modalCustom.addClass("tipi-spin ani-in"),"ext"==a.source?M.$modalCustom.find("iframe").on("load",function(){M.$modalCustom.addClass("frame-ldd").removeClass("tipi-spin")}):M.$modalCustom.find("audio, video").on("loadstart",function(){M.$modalCustom.addClass("frame-ldd").removeClass("tipi-spin")}));if("embed"==a.type){var s=i.closest(".hero-wrap");if(void 0!==a.target&&"hero-wrap"!==a.target&&(s=s.find(A(a.target))),s.hasClass("active-embed"))return;var o=parseInt(8999*Math.random()+1e3);s.append('<div id="frame-wrap-'+o+'" class="frame-wrap media-wrap-'+a.format+'"></div>').addClass("active-embed is-"+a.format).removeClass("inactive-embed"),A("#frame-wrap-"+o).append(t)}return"search"==a.type&&(M.$modal.addClass("active active-3").removeClass("inactive"),M.$body.addClass("modal-active"),1024<M.$winWidth&&setTimeout(function(){M.$modalSearchField.focus()},500)),"subscribe"==a.type&&M.modalSubscribe(),"lwa"==a.type&&(M.$modal.addClass("active active-2").removeClass("inactive"),M.$body.addClass("modal-active"),setTimeout(function(){M.$modal.find(".lwa-username > input").focus()},700)),"qv"==a.type&&(M.$modal.addClass("active active-qv").removeClass("inactive"),M.$body.addClass("modal-active"),M.ajaxCall=A.ajax({method:"GET",dataType:"html",url:codetipi15zineJS.root+"qv?id="+a.pid,beforeSend:function(e){M.$modal.addClass("tipi-spin"),M.$modalCustom.empty().removeClass("is-video is-audio")},success:function(e){M.$modalCustom.html(e),M.qtyArrows(),M.$modalCustom.find("img").imagesLoaded().always(function(e){M.$modal.removeClass("tipi-spin"),setTimeout(function(){M.$modalCustom.addClass("ani-in")},50)})},fail:function(e){console.log("ERROR",e)}})),!1},ajaxGetter:function(e){return M.ajaxData[e]},ajaxSetter:function(e,t){M.ajaxDeleter(e),M.ajaxData[e]=t},liveSearch:function(e,t){void 0===t&&(t={field:M.$modalSearchField,wrapper:M.$modalSearch,results:M.$modalSearchFound}),M.timer&&clearTimeout(M.timer),-1===A.inArray(e.keyCode,M.ignoreCodes)&&(M.timer=setTimeout(function(){M.searchAjax(t)},800))},liveSearchTr:function(e){e.preventDefault(),A(this).closest(".search-form-wrap").find("> form").trigger("submit")},searchAjax:function(i){var e=i.field.val();if(0===e.length&&M.$modalSearchFound.empty(),!(e.length<3)){var t=this.$winWidth<1019?2:6;A.ajax({method:"GET",url:codetipi15zineJS.root+"s?kw="+e+"&ppp="+t,dataType:"html",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce),i.wrapper.css("height",i.wrapper.height())},success:function(e){i.results.empty(),i.results.append(e),i.wrapper.removeClass("zero-typo");var t=i.results.find("article");0===t.length?i.wrapper.addClass("no-results-found"):(i.wrapper.removeClass("no-results-found"),(t.length+1)%3==0&&i.results.find(".block").append("<article></article>")),t.imagesLoaded(function(){i.wrapper.css("height","auto")}),i.wrapper.addClass("with-results with-results-cache")},fail:function(e){console.log("ERROR",e)}})}},modalOff:function(e){void 0!==e&&e.preventDefault(),M.closeSlideMenu(e),M.mediaStop();var t=0;M.$modalCustom.hasClass("ani-in")&&(M.$modalCustom.removeClass("ani-in"),t=220),M.$modal.removeClass("active active-qv active-4 active-3 active-2 active-1").addClass("inactive"),M.$body.removeClass("modal-active"),setTimeout(function(){M.$modalCustom.empty().removeClass("is-video is-audio")},t),setTimeout(function(){M.$modalSearch.removeClass("with-results-cache with-results"),M.$modalSearchField.val("")},600)},closeSlideMenu:function(e){void 0!==e&&e.preventDefault(),this.$body.removeClass("slide-menu-open"),this.$baseOverlay.removeClass("active")},sidebars:function(){if(M.$body.hasClass("sticky-sbs")){var n=this;A(".sidebar-wrap").each(function(){var a,s=A(this),o=0;s.imagesLoaded(function(){a=s.find("> .sidebar").outerHeight(!0);var e=0;if(n.$siteNav.hasClass("sticky-menu"))n.$siteNav.hasClass("sticky-menu-2")||(e=n.$siteNav.outerHeight());else{var t=n.$siteNav.closest(".site-header");0<t.length&&!t.hasClass("sticky-menu-2")&&(e=t.outerHeight())}!0===n.headerIsSticky&&(e=n.$headerHeight-n.$header.data("ptDiff")-n.$header.data("pbDiff"),o=15);var i=M.$wpAdminBarHeight+e-o;if(n.$winWidth<767&&(i=0),n.$winHeight<a+i){if(s.hasClass("sticky-on"))return void s.removeClass("sticky-sb sticky-el");s.addClass("sticky-on").hcSticky({top:i,resizeDebounce:300})}else s.addClass("sticky-sb sticky-el"),s.css("top",i)})})}},sticky:function(){0!==this.$stickyMenu.length&&this.$stickyMenu.each(function(e,t){var i=A(t);if(!(i.hasClass("stickied")&&M.$winWidth<768)){i.addClass("stickied");var a,s,o=A("#header-line"),n=120;i.hasClass("site-mob-header")&&(n=M.$winHeight,o=A("#mob-line"));var r,l=i.outerHeight(!0);i.hasClass("sticky-menu-2")?(s=2,i.addClass("still"),r=new ScrollMagic.Scene({triggerElement:o,triggerHook:0}).addTo(M.$controller).on("update",function(e){e.scrollPos>e.startPos+1&&("FORWARD"===M.$controller.info("scrollDirection")?i.removeClass("active"):"REVERSE"===M.$controller.info("scrollDirection")&&i.addClass("active").removeClass("still"));var t=parseInt(e.startPos-l-M.$wpAdminBarHeight+1);t<1&&(t=1),e.scrollPos<t&&i.removeClass("stuck active").addClass("still")}).on("enter",function(e){i.addClass("stuck")})):i.hasClass("sticky-menu-3")?(s=3,r=new ScrollMagic.Scene({triggerElement:o,triggerHook:0,offset:n}).addTo(M.$controller).on("update",function(e){e.scrollPos>e.startPos?i.addClass("slidedown stuck"):(e.scrollPos<e.startPos-l-M.$wpAdminBarHeight-n+1||0===e.scrollPos)&&i.removeClass("slidedown stuck")}),M.$body.hasClass("single-post")&&i.hasClass("main-navigation")&&(a=!0)):!i.hasClass("sticky-menu-1")&&!i.hasClass("sticky-menu-4")||i.hasClass("site-mob-header")||(s=1,r=new ScrollMagic.Scene({triggerElement:o,triggerHook:0,offset:-1*M.$wpAdminBarHeight}).addTo(M.$controller),M.$body.hasClass("single-post")&&i.hasClass("main-navigation")&&(a=!0)),!0===a?(r.on("update",function(e){e.scrollPos>e.startPos&&i.addClass("stuck"),e.scrollPos>e.startPos+M.$winHeight/2&&(i.addClass("stuck-full"),"FORWARD"===M.$controller.info("scrollDirection")?i.removeClass("stuck-up"):"REVERSE"===M.$controller.info("scrollDirection")&&i.addClass("stuck-up"))}),r.on("leave",function(e){i.removeClass("stuck-up stuck-full stuck")})):2!==s&&r.on("update",function(e){e.scrollPos>e.startPos?i.addClass("stuck"):i.removeClass("stuck")}),i.hasClass("site-mob-header")?M.stickyMobMenu=r:M.stickyMenu=r}})},getDetails:function(e){var t=e[0].getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}},reSidebars:function(){A(".sticky-on").each(function(){A(this).data("hcSticky").refresh()})},resize:function(){this.resizing=!0;var e=this.$winWidth;this.data();var t=this;clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){e!==t.$winWidth&&(t.cleanUp(),t.reSidebars()),t.resizing=!1},275)},orientationchange:function(){this.cleanUp()},cleanUp:function(){this.$parallaxItCont.destroy(!0),this.$parallaxItCont=new ScrollMagic.Controller,A(".parallaxed").removeClass("parallaxed"),this.parallaxIt()},toolTipInit:function(e){if(M.$toolTipCurrent=A(this),!(M.$winWidth<1200||M.$toolTipCurrent.hasClass("tipi-tipped"))){M.$toolTipCurrent.addClass("tipi-tipped");var t="tipi-tip-wrap-b";M.$toolTipCurrent.hasClass("tipi-tip-r")&&(t="tipi-tip-wrap-r"),M.$toolTipCurrent.hasClass("tipi-tip-l")&&(t="tipi-tip-wrap-l");var i='<div class="tipi-tip-wrap font-s '+t+'"><div class="inner">'+M.$toolTipCurrent.data("title")+'</div><div class="detail"></div></div>';M.$body.append(i),M.$toolTipOutput=M.$body.find(" > .tipi-tip-wrap:not(.removing)"),M.$toolTipCurrent.hasClass("tipi-tip-move")?(M.$toolTipCurrent.on("mousemove",M.tooltipLive),M.$toolTipOutput.addClass("tipi-tip-mover")):M.tooltipSetup(),M.$toolTipCurrent.on("mouseleave",M.tooltipDestroy)}},tooltipDestroy:function(){M.$toolTipOutput.addClass("removing"),M.$toolTipCurrent.removeClass("tipi-tipped"),setTimeout(function(){A(".removing").remove()},500),M.$toolTipCurrent.off("mouseleave mousemove")},tooltipLive:function(e){M.tooltipSetup({left:e.clientX,top:e.clientY})},tooltipSetup:function(e){void 0===e&&(e={}),void 0===e.output&&(e.output=M.$toolTipOutput),void 0===e.current&&(e.current=M.$toolTipCurrent);var t=M.getDetails(e.output),i=M.getDetails(e.current);void 0===e.left?e.left=i.left+i.width/2-t.width/2:e.left=e.left-t.width/2,void 0===e.top?(e.top=i.top,e.top=e.top+i.height):e.top=e.top+10,e.current.hasClass("tipi-tip-r")?(e.top=i.top+i.height/2-t.height/2,e.left=i.width+i.left+10):e.current.hasClass("tipi-tip-l")&&(e.top=i.top+i.height/2-t.height/2,e.left=i.left-t.width-10),e.output.css({left:e.left,top:e.top}).addClass("tipi-tip-wrap-visible")},ipl:function(){var e=A(".ipl");0===e.length||!0!==codetipi15zineJS.args.iplMob&&M.$winWidth<768||e.each(function(e,t){var i=(t=A(this)).data();if(!t.hasClass("loaded"))var a=new ScrollMagic.Scene({triggerElement:A(t),triggerHook:1,offset:-2*M.$winHeight}).addTo(M.$controller).on("enter",function(e){t.hasClass("loaded")||(M.runIpl(t,i),t.addClass("loaded"),setTimeout(function(){a.destroy(!0)},1e3))})})},likes:function(e){e.preventDefault();var i=A(this);if(!i.hasClass("liking")&&!i.hasClass("liked")){var t=i.data();A.ajax({method:"POST",data:{pid:t.pid},url:codetipi15zineJS.root+"lk",beforeSend:function(e){i.addClass("liking"),e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce)},success:function(e){i.removeClass("liking").addClass("liked"),i.find(".tipi-value").html(e[0]);var t=Cookies.getJSON("wp_liked_articles");void 0===t?t=e[1]:t.push(e[1][0]),Cookies.set("wp_liked_articles",t,{expires:codetipi15zineJS.args.cookieDuration,path:codetipi15zineJS.args.path})},fail:function(e){console.log("ERROR",e)}})}},ajaxDeleter:function(e,t){if(!0===t){for(var i in M.ajaxData)0===i.indexOf(e)&&delete M.ajaxData[i];void 0!==window[e+"_2"]&&(window[e+"_2"]="")}else delete M.ajaxData[e]},ajaxChecker:function(e){return void 0!==window[e]&&""!==window[e]?(M.ajaxData[e]=window[e],!0):void 0!==M.ajaxData[e]||void 0},runIpl:function(d,c){void 0===c&&(d=A(this),c=d.data());var e=!0===codetipi15zineJS.args.iplCached?"GET":"POST";A.ajax({method:e,data:{pid:c.pid,ipl:!0},dataType:"html",url:codetipi15zineJS.root+"ipl",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",codetipi15zineJS.nonce)},success:function(e){M.$primary.append(e);var t,i=M.$primary.find("> .post-"+c.pid),a=i[0].getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,o=a.top+s;767<M.$winWidth&&(o-=180,(M.$header.hasClass("sticky-menu-1")||M.$header.hasClass("sticky-menu-3"))&&(o-=M.$headerHeight),(M.$siteNav.hasClass("sticky-menu-1")||M.$siteNav.hasClass("sticky-menu-3"))&&(o-=M.$siteNav.outerHeight())),o<s&&window.scrollTo(0,o),A(document).trigger("codetipi15zineAfterInfinitePostLoad",{postid:c.pid}),M.tempAni(),M.sliderInit();for(var n=codetipi15zineJS.args.ipl.length-1;0<=n;n--)A.get(codetipi15zineJS.args.pluginsUrl+"/"+codetipi15zineJS.args.ipl[n]);void 0!==window.instgrm&&window.instgrm.Embeds.process(),(!0===codetipi15zineJS.args.fbComs&&!0===codetipi15zineJS.args.iplComs||0<i.find(".facebook-box-widget").length)&&FB.XFBML.parse(i[0]),new ScrollMagic.Scene({triggerElement:d,triggerHook:.5,offset:0}).addTo(M.$controller).on("enter leave",function(e){1===e.progress?(0<M.$progress.length&&M.$progress.css("background-color",c.nextHex),M.updateHref(c.titleNext,c.next),M.GA(c.next),M.$iplTitle.html(c.titleNext),0<M.$mobBotShare.length&&(M.$mobBotShare.find(".share-button-tw").attr("href","https://twitter.com/share?url="+encodeURIComponent(c.next)),M.$mobBotShare.find(".share-button-fb").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(c.next)),M.$mobBotShare.find(".share-button-msg").attr("href","fb-messenger://share/?link="+encodeURIComponent(c.next)),M.$mobBotShare.find(".share-button-wa").attr("href","whatsapp://send?text="+c.titleNext+" – "+encodeURIComponent(c.next))),!1!==codetipi15zineJS.args.disqus&&0<(t=i.find(".disqus-replace")).length&&(A("#disqus_thread").attr("id","").addClass("disqus-replace"),t.attr("id","disqus_thread"),setTimeout(function(){DISQUS.reset({reload:!0,config:function(){this.page.identifier=c.pid,this.page.url=c.next,this.page.title=c.titleNext}})},50))):(!1!==codetipi15zineJS.args.disqus&&0<(t=M.$primary.find("> .post-"+c.pidori+" .disqus-replace")).length&&(A("#disqus_thread").attr("id","").addClass("disqus-replace"),t.attr("id","disqus_thread"),setTimeout(function(){DISQUS.reset({reload:!0,config:function(){this.page.identifier=c.pidori,this.page.url=c.prev,this.page.title=c.titlePrev}})},50)),0<M.$progress.length&&M.$progress.css("background-color",c.prevHex),M.updateHref(c.titlePrev,c.prev),M.GA(c.prev),M.$iplTitle.html(c.titlePrev),0<M.$mobBotShare.length&&(M.$mobBotShare.find(".share-button-tw").attr("href","https://twitter.com/share?url="+encodeURIComponent(c.prev)),M.$mobBotShare.find(".share-button-fb").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(c.prev)),M.$mobBotShare.find(".share-button-msg").attr("href","fb-messenger://share/?link="+encodeURIComponent(c.prev)),M.$mobBotShare.find(".share-button-wa").attr("href","whatsapp://send?text="+c.titlePrev+" – "+encodeURIComponent(c.prev))))});var r=new ScrollMagic.Scene({triggerElement:d,triggerHook:1,offset:0}).addTo(M.$controller).on("enter",function(e){M.$body.addClass("ipl-done"),i.removeClass("ipl-loading"),i.prev().addClass("ipl-bg"),M.parallaxIt(),M.noPar(),setTimeout(function(){M.sidebars(),M.reSidebars(),M.stickyEl(),M.lightboxInit(),r.destroy(!0)},750),setTimeout(function(){M.postTracks()},900)});if(M.$entryContent=A(".entry-content:not(.progresson)"),M.videoWrap(),M.stickyEl(),M.loopAni(),M.ipl(),0<M.$primary.find(".no-more-articles-wrap").length&&A("#ipl-loader").addClass("ipl-end"),0<M.$skinMode.length&&M.$skinMode.hasClass("triggered")||M.$body.hasClass("body--dark--tr")){var l=i.find(".lets-review-block__wrap");M.$skinMode.hasClass("mode--alt")||M.$body.hasClass("body--dark--tr")?(i.removeClass("article-layout-skin-1").addClass("article-layout-skin-2"),l.removeClass("lets-review-skin-1").addClass("lets-review-skin-2")):(l.each(function(){var e=A(this);1===parseInt(e.data("skin"))&&e.removeClass("lets-review-skin-2").addClass("lets-review-skin-1")}),i.removeClass("article-layout-skin-2").addClass("article-layout-skin-1"))}},fail:function(e){console.log("ERROR",e)}}),A(".inf-scr").removeClass("active")},noPar:function(e){var t=A(".no-par");0!==t.length&&t.imagesLoaded(function(){t.addClass("mask-loaded")})},tempAni:function(){for(var e=document.getElementsByClassName("ani-base"),i=new IntersectionObserver(function(e){e.forEach(function(t){t.isIntersecting&&(imagesLoaded(t.target,function(e){t.target.classList.add("article-window")}),t.target.classList.remove("article-ani"),i.unobserve(t.target))})},{threshold:[0]}),t=e.length-1;0<=t;t--)e[t].classList.contains("article-window")||i.observe(e[t]);var a=document.getElementsByClassName("block-to-see"),s=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("tipi-seen"),s.unobserve(e.target))})},{threshold:[0],rootMargin:"-100px 0px"});for(t=a.length-1;0<=t;t--)a[t].classList.contains("tipi-seen")||s.observe(a[t]);var o=document.getElementsByClassName("codetipi-15zine-iframe-lazy-load"),n=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(n.unobserve(e.target),M.iframeAttrLoad(e.target))})},{threshold:[0],rootMargin:"150px 0px"});for(t=o.length-1;0<=t;t--)o[t].classList.contains("codetipi-15zine-lazy-loaded")||n.observe(o[t]);if(!0===codetipi15zineJS.args.lazy){var r=document.getElementsByClassName("codetipi-15zine-lazy-load");if(!0===codetipi15zineJS.args.lazyNative&&"loading"in HTMLImageElement.prototype)for(t=r.length-1;0<=t;t--)r[t].classList.contains("codetipi-15zine-lazy-loaded")||M.imgAttrLoad(r[t],!1);else{var l=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(l.unobserve(e.target),M.imgAttrLoad(e.target))})},{threshold:[0],rootMargin:"600px 0px"});for(t=r.length-1;0<=t;t--)r[t].classList.contains("codetipi-15zine-lazy-loaded")||l.observe(r[t])}}},stickyEl:function(){var a;0!==this.headAreaHeight&&!1!==this.$stickyOff&&A(".sticky-el").each(function(e,t){var i=A(this);a=i.hasClass("block-wrap")&&0<parseInt(i.find("> .tipi-row-inner-style").css("padding-top"))?0:30,M.$winWidth<767&&(a=15),i.css("top",M.headAreaHeight+M.$wpAdminBarHeight+a)})},updateHref:function(e,t){!1!==codetipi15zineJS.args.infUrlChange&&(window.history.pushState("",e,t),""!==e&&(document.title=e))},GA:function(e){"undefined"!=typeof _gaq&&null!==_gaq&&_gaq.push(["_trackPageview",e]),"undefined"!=typeof ga&&null!==ga&&ga("send","pageview",e)},anis:function(e){this.tempAni(),this.loopAni()},loopAni:function(e){this.$winWidth<1200||this.$primary.find("> .post-wrap").each(function(){var e=A(this);if(e.hasClass("loop-ani-checked"))return!0;if(e.hasClass("align-fade-up")||e.hasClass("align-fade-up-done"))for(var t=e.hasClass("align-fade-up")?"fade-up":"fade-up-done",i=e.find(".alignleft, .alignright"),a=new IntersectionObserver(function(e){e.forEach(function(e){(0<e.boundingClientRect.top||e.isIntersecting)&&(e.target.classList.add("tipi-seen"),"fade-up-done"==t&&a.unobserve(e.target),!1===e.isIntersecting&&e.target.classList.remove("tipi-seen"))})},{threshold:[0],rootMargin:"500px 0px 0px 0px"}),s=i.length-1;0<=s;s--)a.observe(i[s]);e.addClass("loop-ani-checked")})},videoWrap:function(){A('iframe[src*="youtube"], iframe[src*="vimeo.com"], iframe[src*="dailymotion"]').each(function(){var e=A(this),t=e.parent();t.hasClass("video-wrap")||t.hasClass("wp-block-embed__wrapper")||t.parent().hasClass("wp-block-embed__wrapper")||t.hasClass("frame-wrap")||t.hasClass("content-custom")||e.hasClass("elementor-video-iframe")||e.hasClass("skip-video")||t.hasClass("fluid-width-video-wrapper")||e.wrap('<div class="video-wrap"></div>')})},iframeAttrLoad:function(e){var t=e.firstElementChild,i=t.getAttribute("data-lazy-src");if("span"===t.tagName.toLowerCase()){var a=document.createElement("iframe");a.setAttribute("src",i),a.setAttribute("seamless","seamless"),a.setAttribute("title","media"),a.setAttribute("frameborder",0),a.setAttribute("scrolling","no"),a.classList.add("frame"),t.insertAdjacentElement("afterend",a),A(a).on("load",function(){a.classList.add("loaded")}),e.classList.add("codetipi-15zine-lazy-loaded"),e.removeChild(t)}},skinMode:function(e){if(void 0!==e&&e.preventDefault(),!M.$body.hasClass("tipi-builder-frame-inner")){M.$skinMode.addClass("triggered");var t=A(".logo img"),i=A("#primary");M.$skinMode.hasClass("mode--alt")?(M.$skinMode.removeClass("mode--alt"),M.$body.removeClass("mode--alt--b"),Cookies.remove("wp_alt_mode",{path:codetipi15zineJS.args.path}),t.each(function(){var e=A(this),t=e.data("base-src");if(void 0!==t){e.attr("src",t);var i=e.data("base-srcset");void 0!==i&&e.attr("srcset",i)}}),M.$body.hasClass("single")&&(i.find("> .article-layout-skin-2").removeClass("article-layout-skin-2").addClass("article-layout-skin-1"),i.find(".entry-content >.lets-review-skin-2").each(function(){var e=A(this);1===parseInt(e.data("skin"))&&e.removeClass("lets-review-skin-2").addClass("lets-review-skin-1")}))):(M.$skinMode.addClass("mode--alt"),M.$body.addClass("mode--alt--b"),Cookies.set("wp_alt_mode","1",{expires:codetipi15zineJS.args.cookieDuration,path:codetipi15zineJS.args.path}),t.each(function(){var e=A(this),t=e.data("alt-src");if(void 0!==t){e.attr("src",t);var i=e.data("alt-srcset");void 0!==i&&e.attr("srcset",i)}}),M.$body.hasClass("single")&&(i.find("> .article-layout-skin-1").removeClass("article-layout-skin-1").addClass("article-layout-skin-2"),i.find(".entry-content >.lets-review-skin-1").removeClass("lets-review-skin-1").addClass("lets-review-skin-2")))}},parallaxIt:function(e){var t=A(".parallax");0!==t.length&&t.each(function(e,t){var a=A(this);if(!a.hasClass("parallaxed")){a.addClass("parallaxed");var s=!1,o=a.hasClass("hero-43")||a.hasClass("hero-19")?a.find(".hero-background > img "):a.find("img:not(.avatar)");a.hasClass("parallax-tight")&&(s=!0),o.imagesLoaded(function(){o.css("height","");var e=o.outerHeight();0===e&&(e=o.parent().outerHeight()),a.hasClass("parallax--resized")&&o.css("height",parseInt(1.2*e)+"px");var t=.2*e+"px",i=e+M.$winHeight;M.$winHeight>M.$winWidth&&(t=.125*e+"px"),!0===s&&(t=.16*e+"px"),new ScrollMagic.Scene({triggerElement:a,triggerHook:1,duration:i}).setTween(TweenLite.fromTo(o,1,{y:"-"+t,ease:Linear.easeNone},{y:t,ease:Linear.easeNone})).addTo(M.$parallaxItCont),setTimeout(function(){a.addClass("mask-loaded")},450)})}})},qtyArrowChange:function(){var e=A(this).closest(".quantity").find(".qty"),t=A(this).hasClass("qty-plus"),i=parseInt(e.val()),a=parseInt(e.attr("max")),s=parseInt(e.attr("min")),o=e.attr("step");i&&""!==i&&"NaN"!==i||(i=0),""!==a&&"NaN"!==a||(a=""),""!==s&&"NaN"!==s||(s=0),"any"!==o&&""!==o&&void 0!==o&&"NaN"!==parseInt(o)||(o=1),!0===t?a&&a<=i?e.val(a):e.val(i+parseInt(o)):s&&i<=s?e.val(s):0<i&&e.val(i-parseInt(o)),e.trigger("change")}};M.init()}(jQuery);
/**
 * Zenscroll 4.0.2
 * https://github.com/zengabor/zenscroll/
 *
 * Copyright 2015–2018 Gabor Lenard
 *
 * This is free and unencumbered software released into the public domain.
 * 
 * Anyone is free to copy, modify, publish, use, compile, sell, or
 * distribute this software, either in source code form or as a compiled
 * binary, for any purpose, commercial or non-commercial, and by any
 * means.
 * 
 * In jurisdictions that recognize copyright laws, the author or authors
 * of this software dedicate any and all copyright interest in the
 * software to the public domain. We make this dedication for the benefit
 * of the public at large and to the detriment of our heirs and
 * successors. We intend this dedication to be an overt act of
 * relinquishment in perpetuity of all present and future rights to this
 * software under copyright law.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
 * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * For more information, please refer to <http://unlicense.org>
 * 
 */
!function(t,i){"function"==typeof define&&define.amd?define([],i()):"object"==typeof module&&module.exports?module.exports=i():function e(){document&&document.body?t.zenscroll=i():setTimeout(e,9)}()}(this,function(){"use strict";if("undefined"==typeof window||!("document"in window))return{};function a(l,i,d){var t;function c(e){t=e}function h(){clearTimeout(t),c(0)}function p(e){return Math.max(0,l.getTopOf(e)-d)}function u(e,a,s){if(h(),0===a||a&&a<0||(t=l.body)&&"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"])l.toY(e),s&&s();else{var o=l.getY(),n=Math.max(0,e)-o,r=(new Date).getTime();a=a||Math.min(Math.abs(n),i),function i(){c(setTimeout(function(){var e=Math.min(1,((new Date).getTime()-r)/a),t=Math.max(0,Math.floor(o+n*(e<.5?2*e*e:e*(4-2*e)-1)));l.toY(t),e<1&&l.getHeight()+t<l.body.scrollHeight?i():(setTimeout(h,99),s&&s())},9))}()}var t}function m(e,t,i){u(p(e),t,i)}return i=i||999,d||0===d||(d=9),{setup:function(e,t){return 0!==e&&!e||(i=e),0!==t&&!t||(d=t),{defaultDuration:i,edgeOffset:d}},to:m,toY:u,intoView:function(e,t,i){var a=e.getBoundingClientRect().height,s=l.getTopOf(e)+a,o=l.getHeight(),n=l.getY(),r=n+o;p(e)<n||o<a+d?m(e,t,i):r<s+d?u(s-o+d,t,i):i&&i()},center:function(e,t,i,a){u(Math.max(0,l.getTopOf(e)-l.getHeight()/2+(i||e.getBoundingClientRect().height/2)),t,a)},stop:h,moving:function(){return!!t},getY:l.getY,getTopOf:l.getTopOf}}function t(){return window.scrollY||s.scrollTop}var s=document.documentElement,e=a({body:document.scrollingElement||document.body,toY:function(e){window.scrollTo(0,e)},getY:t,getHeight:function(){return document.documentElement.clientHeight||s.clientHeight},getTopOf:function(e){return e.getBoundingClientRect().top+t()-s.offsetTop}});return e.createScroller=function(t,e,i){return a({body:t,toY:function(e){t.scrollTop=e},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,document.documentElement.clientHeight||s.clientHeight)},getTopOf:function(e){return e.offsetTop}},e,i)},e});