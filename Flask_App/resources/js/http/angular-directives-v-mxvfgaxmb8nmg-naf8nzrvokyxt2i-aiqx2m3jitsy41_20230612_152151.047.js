(function(n){n.isScrollToFixed=function(t){return!!n(t).data("ScrollToFixed")};n.ScrollToFixed=function(t,i){function st(){r.trigger("preUnfixed.ScrollToFixed");f();r.trigger("unfixed.ScrollToFixed");l=-1;p=r.offset().top;c=r.offset().left;u.options.offsets&&(c+=r.offset().left-r.position().left);it==-1&&(it=c);e=r.css("position");y=!0;u.options.bottom!=-1&&(r.trigger("preFixed.ScrollToFixed"),k(),r.trigger("fixed.ScrollToFixed"))}function rt(){var n=u.options.limit;return n?typeof n=="function"?n.apply(r):n:0}function a(){return e==="fixed"}function ut(){return e==="absolute"}function s(){return!(a()||ut())}function k(){if(!a()){var n=r[0].getBoundingClientRect();o.css({display:r.css("display"),width:n.width,height:n.height,float:r.css("float")});cssOptions={"z-index":u.options.zIndex,position:"fixed",top:u.options.bottom==-1?w():"",bottom:u.options.bottom==-1?"":u.options.bottom,"margin-left":"0px"};u.options.dontSetWidth||(cssOptions.width=r.css("width"));r.css(cssOptions);r.addClass(u.options.baseClassName);u.options.className&&r.addClass(u.options.className);e="fixed"}}function ft(){var n=rt(),t=c;u.options.removeOffsets&&(t="",n=n-p);cssOptions={position:"absolute",top:n,left:t,"margin-left":"0px",bottom:""};u.options.dontSetWidth||(cssOptions.width=r.css("width"));r.css(cssOptions);e="absolute"}function f(){s()||(l=-1,o.css("display","none"),r.css({"z-index":tt,width:"",position:b,left:"",top:nt,"margin-left":""}),r.removeClass("scroll-to-fixed-fixed"),u.options.className&&r.removeClass(u.options.className),e=null)}function d(n){n!=l&&(r.css("left",c-n),l=n)}function w(){var n=u.options.marginTop;return n?typeof n=="function"?n.apply(r):n:0}function v(){var t,v;if(n.isScrollToFixed(r)&&!r.is(":hidden")){t=y;v=s();y?s()&&(p=r.offset().top,c=r.offset().left):st();var e=n(window).scrollLeft(),o=n(window).scrollTop(),i=rt();u.options.minWidth&&n(window).width()<u.options.minWidth?s()&&t||(h(),r.trigger("preUnfixed.ScrollToFixed"),f(),r.trigger("unfixed.ScrollToFixed")):u.options.maxWidth&&n(window).width()>u.options.maxWidth?s()&&t||(h(),r.trigger("preUnfixed.ScrollToFixed"),f(),r.trigger("unfixed.ScrollToFixed")):u.options.bottom==-1?i>0&&o>=i-w()?v||ut()&&t||(h(),r.trigger("preAbsolute.ScrollToFixed"),ft(),r.trigger("unfixed.ScrollToFixed")):o>=p-w()?(a()&&t||(h(),r.trigger("preFixed.ScrollToFixed"),k(),l=-1,r.trigger("fixed.ScrollToFixed")),d(e)):s()&&t||(h(),r.trigger("preUnfixed.ScrollToFixed"),f(),r.trigger("unfixed.ScrollToFixed")):i>0?o+n(window).height()-r.outerHeight(!0)>=i-(w()||-ht())?a()&&(h(),r.trigger("preUnfixed.ScrollToFixed"),b==="absolute"?ft():f(),r.trigger("unfixed.ScrollToFixed")):(a()||(h(),r.trigger("preFixed.ScrollToFixed"),k()),d(e),r.trigger("fixed.ScrollToFixed")):d(e)}}function ht(){return u.options.bottom?u.options.bottom:0}function h(){var n=r.css("position");n=="absolute"?r.trigger("postAbsolute.ScrollToFixed"):n=="fixed"?r.trigger("postFixed.ScrollToFixed"):r.trigger("postUnfixed.ScrollToFixed")}var u=this;u.$el=n(t);u.el=t;u.$el.data("ScrollToFixed",u);var y=!1,r=u.$el,e,b,ot,nt,tt,p=0,c=0,it=-1,l=-1,o=null;var g=function(){r.is(":visible")?(y=!1,v()):f()},et=function(){!window.requestAnimationFrame?v():requestAnimationFrame(v)},lt=function(){var n=document.body,t,i,r,u,f;return document.createElement&&n&&n.appendChild&&n.removeChild?(t=document.createElement("div"),!t.getBoundingClientRect)?null:(t.innerHTML="x",t.style.cssText="position:fixed;top:100px;",n.appendChild(t),i=n.style.height,r=n.scrollTop,n.style.height="3000px",n.scrollTop=500,u=t.getBoundingClientRect().top,n.style.height=i,f=u===100,n.removeChild(t),n.scrollTop=r,f):null},ct=function(n){n=n||window.event;n.preventDefault&&n.preventDefault();n.returnValue=!1};u.init=function(){u.options=n.extend({},n.ScrollToFixed.defaultOptions,i);tt=r.css("z-index");u.$el.css("z-index",u.options.zIndex);o=n("<div />");e=r.css("position");b=r.css("position");ot=r.css("float");nt=r.css("top");s()&&u.$el.after(o);n(window).bind("resize.ScrollToFixed",g);n(window).bind("scroll.ScrollToFixed",et);"ontouchmove"in window&&n(window).bind("touchmove.ScrollToFixed",v);u.options.preFixed&&r.bind("preFixed.ScrollToFixed",u.options.preFixed);u.options.postFixed&&r.bind("postFixed.ScrollToFixed",u.options.postFixed);u.options.preUnfixed&&r.bind("preUnfixed.ScrollToFixed",u.options.preUnfixed);u.options.postUnfixed&&r.bind("postUnfixed.ScrollToFixed",u.options.postUnfixed);u.options.preAbsolute&&r.bind("preAbsolute.ScrollToFixed",u.options.preAbsolute);u.options.postAbsolute&&r.bind("postAbsolute.ScrollToFixed",u.options.postAbsolute);u.options.fixed&&r.bind("fixed.ScrollToFixed",u.options.fixed);u.options.unfixed&&r.bind("unfixed.ScrollToFixed",u.options.unfixed);u.options.spacerClass&&o.addClass(u.options.spacerClass);r.bind("resize.ScrollToFixed",function(){o.height(r.height())});r.bind("scroll.ScrollToFixed",function(){r.trigger("preUnfixed.ScrollToFixed");f();r.trigger("unfixed.ScrollToFixed");v()});r.bind("detach.ScrollToFixed",function(t){ct(t);r.trigger("preUnfixed.ScrollToFixed");f();r.trigger("unfixed.ScrollToFixed");n(window).unbind("resize.ScrollToFixed",g);n(window).unbind("scroll.ScrollToFixed",et);r.unbind(".ScrollToFixed");o.remove();u.$el.removeData("ScrollToFixed")});g()};u.init()};n.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"};n.fn.scrollToFixed=function(t){return this.each(function(){new n.ScrollToFixed(this,t)})}})(jQuery);app.directive("accordionSlider",["$compile",function(n){var t={pagerIndex:0,pagerSum:0,displaySlides:0,slidesSum:0,slideName:[],pagerHtml:"",slideState:[],changeSlide:{}},r=function(n,t){return n-(t-1)},u=function(n){var u=/\$\{pageID\}/g,e=n.pagerHtml,f="<span ng-click=\"changePager(${pageID})\" ng-class=\"{'active':selectPager=='${pageID}'}\"><\/span>",i=">",r=Math.ceil(n.slidesSum/n.displaySlides),t;for(n.pagerSum=r,t=0;t<r;t++){if(t+1===r)return i=i+f.replace(u,t)+"<",n.pagerHtml.replace(/\>\</,i);i=i+f.replace(u,t)}},i=function(n){var f=t.pagerIndex,i,u;for(t.pagerIndex=n,i=n*t.displaySlides,n+1===t.pagerSum&&(i=r(t.slidesSum,t.displaySlides)-1),u=0;u<t.slideState.length;u++)t.slideState[u]=u===i||u>i&&u<i+t.displaySlides?!0:!1,u+1===t.slideState.length&&(f>t.pagerIndex&&(i=i+t.displaySlides-1),t.changeSlide(i))};return{restrict:"A",link:function(r,f,e){var v=parseInt(e.accordionDisplaySlide||7,10),o=e.accordionSlideTag||"li.slide",c=e.accordionPagerTag||".pagers",k=e.accordionActive||"active",l=e.accordionUnactive||"unactive",y=e.accordionAttrName||"silde-name",p=e.accordionScopeName||"selectItem",w=parseInt(e.accordionHoverWidth,10)||260,s=angular.element(f),h=angular.element(f.find(o)),b=angular.element(f.find(c))[0].outerHTML,a;t={pagerIndex:0,displaySlides:v,slidesSum:h.length,pagerHtml:b,slideName:[],slideState:[],changeSlide:function(n){r.selectPager=t.pagerIndex;for(var i=0;i<t.slideState.length;i++)t.slideState[i]?angular.element(f.find(o)[i]).removeClass(l):angular.element(f.find(o)[i]).addClass(l);r[p]=t.slideName[n]}},function(n){for(var i=0;i<n.length;i++)t.slideName.push(n[i].attributes[y].value),t.slideState.push(!1)}(h);s.css({width:w*h.length+"px"});angular.element(s.parent()).css({overflow:"hidden"});r.changePager=i;angular.element(f.find(c)).remove();a=u(t);s.append(angular.element(n(a)(r)));i(0)}}}]);app.directive("accountBalanceDetail",["$http","$modal","CustomModalService",function(n,t,i){return{restrict:"A",scope:{},link:function(r,u){n.post("/TimeLimitedEvent/IsHaveJoinEvent",null).then(function(n){var r=n.data,f=r.ReturnObject;if(r.IsSuccess===!1){i.alert(r.ErrorMessage);return}u.bind("click",function(){t.open({templateUrl:"/TimeLimitedEvent/AccountBalanceDialog",controller:"AccountBalanceDialogCtrl",windowClass:"modal-abd",resolve:{isEnable:function(){return f}}}).result.then(function(){},function(){})})})}}}]);app.directive("accountRegisterClick",["$window","ContactInfoService",function(n,t){return{restrict:"A",link:function(i,r){function f(){var t=u.trim().toLocaleLowerCase().indexOf("/account/register")===0;n.open(u,t?"_self":"_blank")}var u="";t.getContactInfo().then(function(n){(u=n.HttpRegister,u)&&r.bind("click",f)})}}}]);app.directive("activitySwitch",["$interval","MeidonTimeService",function(n,t){return{restrict:"A",link:function(i,r,u){if(u.endTime){var e=$(r)[0].hasAttribute("start-time")?moment(u.startTime.replace(/\//g,"-")).unix():0,o=/^\d{4}\/\d{2}\/\d{2}$/.test(u.endTime)?moment(u.endTime.replace(/\//g,"-")+" 23:59:59").unix():moment(u.endTime.replace(/\//g,"-")).unix(),f,s,h=!0,c=function(){f=t.getCurrentMeidon().unix();switch(!0){case f<e:r.addClass("notStart");break;case f>=e&&f<o:r.removeClass("notStart");r.addClass("inProgress");break;case f>=o:r.removeClass("inProgress");r.addClass("overdue");n.cancel(s);h=!1}};c();h&&(s=n(c,990))}}}}]);app.directive("adaptiveWidth",["_env","$interval",function(n,t){return{link:function(i,r){var f=n.promotionTabAdaptive!==undefined?n.promotionTabAdaptive:!1,u;f&&(u=t(function(){var e;if(i.categories!==undefined){t.cancel(u);var n=r.children("li"),o=r[0].clientWidth-parseInt(r.css("padding-right"),10)-parseInt(r.css("padding-left"),10),f=0;angular.forEach(n,function(n){var t=parseInt(window.getComputedStyle(n,null).marginRight,10),i=parseInt(window.getComputedStyle(n,null).marginLeft,10),r=t+i;f+=r});e=(o-f)/n.length;n.css({width:e})}},1))}}}]);app.directive("addLiTitle",["languageService",function(n){return{restrict:"A",link:function(t,i,r){function f(){var n;n=e?i.find(".subnav").find("li"):i.find("li");n.each(function(n,t){var r=$(t),i=r.children("a");i.length===1?i.attr("title",i.text()):i.length===0&&r.attr("title",r.text())})}var u=r.addLang?r.addLang:null,e=$(i)[0].hasAttribute("title-subnav");u?u===n.currentLanguage&&f():f()}}}]);app.directive("announcementDialog",["$filter","$window","$timeout","$location","AnnouncementService","labelService","CustomModalService","_env",function(n,t,i,r,u,f,e,o){var s=o.AnnouncementDialog||{},h=s.PopupPages||["/"];return{scope:{oneTimeDelayClose:"@"},restrict:"A",template:'<div class="modal-overlay" ng-class="{\'modal-show\': enable}"><\/div><div class="modal-announcement" ng-class="{\'modal-show\': enable, \'single-content\': isSingleAnnouncement}"><div class="ma-noshow"><label><input type="checkbox" ng-model="noShowAgain"><span ng-bind="noShowLabel"><\/span><\/label><\/div><div class="ma-title"><i class="fal fa-2x fa-times-circle" ng-click="close()"><\/i><span ng-bind-html="header|trustAsHtml"><\/span><\/div><div class="ma-body"><section class="ma-sidebar"><ul><li ng-repeat="item in list" ng-class="{\'active\': item.active}" ng-mouseover="onTitleClick(item)" title="{{item.title}}"><i class="fas fa-comment-dots"><\/i><span ng-bind="item.title"><\/span><i class="fa fa-chevron-right"><\/i><\/li><\/ul><\/section><section class="ma-content" ng-bind-html="content|trustAsHtml"><\/section><\/div><div class="ma-footer"><\/div><\/div>',link:function(o,s,c){o.enable=!1;o.isSingleAnnouncement=!0;o.header=f.get("Announcement.Announcement")||"平台公告";o.noShowLabel=f.get("Announcement.NoShowAgain")||"不再显示";o.list=[];o.close=function(){o.noShowAgain?u.recordNeverPopupTimes():u.uncheckNeverPopup();o.enable=!1};o.onTitleClick=function(t){angular.forEach(o.list,function(n){n.active=!1});t.active=!0;o.content=n("unwrapImage")(t.content)};o.toggle=function(){o.enable=!o.enable};o.$on("modalAnnouncement",function(n,t){var i=t;if(o.list.length>0)o.onTitleClick(o.list[i]);o.toggle()});o._listHandler=function(n){n.PopupHeader&&(o.header=n.PopupHeader);o.list=n.List;o.isSingleAnnouncement=o.list.length<=1};o._versionHandler=function(n){if(o.list.length>0)o.onTitleClick(o.list[0]);n&&u.uncheckNeverPopup();o.noShowAgain=u.checkNeverPopupCookieExist();o.enable=o.list.length>0&&n;o.enable&&parseInt(c.oneTimeDelayClose,10)>0&&i(function(){o.close()},parseInt(c.oneTimeDelayClose))};r.search().announcement?u.addPreviewListener(function(n){o._listHandler(n.announcementContent);o._versionHandler(!0)}):u.getListSingleton().then(function(n){o._listHandler(n);var i=h.filter(function(n){return n===t.location.pathname}).length;return i===0?!1:u.checkVersion()}).then(o._versionHandler);o.$on("showModalAnnouncement",function(n,t){var i,r;if(!o.list.length){i=f.get("Announcement.NonAnnouncement")||"尚无最新公告";e.alert(i);return}r=t||0;o.onTitleClick(o.list[r]);o.enable=!0});o.$on("hideModalAnnouncement",function(){o.enable=!1})}}}]);app.directive("anyTimeDiscountFloat",["$http","$modal",function(n,t){return{restrict:"A",scope:{},template:'<div id="atd-banner" class="atd-banner">    <div class="banner-img text-center">        <span class="banner-close" ng-click="closed()"><\/span>        <span class="banner-content">您有返水 <span class="banner-money" ng-bind="totalAmount | customCurrency"><\/span> 可领取!<\/span>    <\/div><\/div>',link:function(i,r){function f(){e();r.bind("click",function(){o()})}function e(){n.post("/AnyTimeDiscount/GetMemberDiscountTotalAmount").then(function(n){var t=n.data;if(!t.totalAmount){u();return}i.totalAmount=t.totalAmount;r.removeClass("ng-hide")})}function o(){r.addClass("ng-hide");t.open({templateUrl:"/AnyTimeDiscount/DetailDialog",controller:"AnyTimeDiscountDetailDialogCtrl",windowClass:"modal-atd"}).result.then(function(){},function(){})}function u(){r.remove()}r.addClass("ng-hide");i.closed=u;f()}}}]);app.directive("automaticSubnav",[function(){return{restrict:"A",link:function(n,t,i){function r(n){return parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10)+parseInt(n.css("border-left-width"),10)+parseInt(n.css("border-right-width"),10)}function f(n,t){n.css("width",t+"px");e(n)}function e(n){(n.attr("automatic-align")==="false"?!1:!0)&&n.css({left:"50%","margin-left":"-"+n.outerWidth()/2+"px"});o(n)}function o(n){n.addClass("extension-show-block")}var u=angular.element(document.querySelectorAll(".subnav")),s=i.automaticVis||1;if(angular.forEach(u,function(n){var i=angular.element(n),u=i.children("ol")||0,e=0,h=i.attr("automatic-width")==="false"?!1:!0,l,c,o;if(i.closest("li").addClass("extension-position-relative"),t[0].hasAttribute("automatic-vis"))l=i.attr("automatic-vis")||s,e=h?i.find("li").outerWidth(!0)*l+r(i):parseInt(i.css("width"),10),f(i,e);else if(u.length===0||u===0)e=h?i.children("li").outerWidth(!0)+r(i):parseInt(i.css("width"),10),f(i,e);else{if(h){for(c=0,o=0;o<u.length;o++)c+=parseInt(u.css("width"),10)?parseInt($(u[o]).outerWidth(!0),10):u.find("li").outerWidth(!0)+r(u)+$(u[o]).outerWidth(!0);e=r(i)+c}else e=parseInt(i.css("width"),10);f(i,e)}}),i.automaticSubnav)switch(i.automaticSubnav){case"slide":(function(){u.removeClass("extension-show-block").parent().addClass("has-menu");t.slide({type:"menu",titCell:".has-menu",targetCell:".subnav",effect:"slideDown",delayTime:parseInt(t.attr("automatic-time"),10)||300})})();break;case"rotate":(function(){u.addClass("extension-rotate-effect");$(function(){u.css("display","block")})})()}}}}]);app.directive("carouselSlider",["$timeout","$compile",function(n,t){var i=[],r=!0;return{restrict:"A",priority:451,compile:function(){return{pre:function(n,t,r){r.ngInit&&(i.push(r.ngInit),r.ngInit="")},post:function(n,u,f){$(u).slide({mainCell:".main-cell >",autoPage:!1,effect:f.superEffect||"leftLoop",autoPlay:!(f.superPlay==="false"),vis:parseInt(f.superVis)||5,trigger:"click",interTime:parseInt(f.superInterTime)||2500,delayTime:parseInt(f.superDelayTime)||500,mouseOverStop:!1,opp:!1,startFun:function(u,f,e,o,s){var h,c;if(r){for(h=0;h<i.length;h++)n.$eval(i[h]);r=!1}c=t(s.html())(n);s.empty().append(c)}})}}}}}]);app.directive("checkcodeDisplay",["$parse","captchaService",function(n,t){return{restrict:"A",link:function(i,r,u){var o=n(u.checkcodeDisplay),s=o.assign,h=u.checkcodeType,e=!0,f=function(){e&&(e=!1,t.post(h).then(function(n){n&&s(i,{encrypt:n.checkCodeEncrypt,image:n.image});e=!0}))};$(window).on("load",f);$(r).next("img").on("click",f);i.$on("$destroy",function(){$(window).off("load",f);$(r).next("img").off("click",f)})}}}]);app.directive("checkcodeRetriever",["$parse","captchaService",function(n,t){return{restrict:"A",link:function(i,r,u){var o=n(u.checkcodeRetriever),s=o.assign,h=u.checkcodeType,e=!0,f=function(){e&&(e=!1,t.post(h).then(function(n){n&&s(i,{encrypt:n.checkCodeEncrypt,image:n.image});e=!0}))};r.on("focus",f);r.on("mousedown",f);i.$on("$destroy",function(){r.off("focus",f);r.off("mousedown",f)})}}}]);app.directive("checkInOfferLink",["CheckInOfferService",function(n){return{restrict:"A",link:function(t,i){var r=$('[ng-controller="SiteMailCountCtrl"]').length!==0;(i.addClass("ng-hide"),r)&&n.getSwitchSingleton().then(function(r){var u=r.Enable;u&&(t.openCheckInModal=n.openModal,i.removeClass("ng-hide"))})}}}]);app.directive("closePopupOnClick",["$window",function(n){return{restrict:"A",link:function(t,i){i.on("click",function(){n.close()});t.$on("$destroy",function(){i.off("click")})}}}]);app.directive("copyText",["labelService","$timeout",function(n,t){return{restrict:"A",scope:{info:"=",iconClass:"@?",copyTip:"@?"},template:'<span class="copy-btn" data-clipboard-text="{{info}}" ng-click="copyAnimation($event)">    <i ng-class="iconClass"><\/i>    {{ copyTip || langs.ClickToCopy }}<\/span><span class="copy-after">{{ langs.Copied }}<\/span>',link:function(i){new ClipboardJS(".copy-btn");i.langs=n.get("CompanyDeposit");i.copyAnimation=function(n){var i=$(n.currentTarget);$(i).next().css("display","inline");t(function(){$(i).next().fadeOut(500)},500)}}}}]);app.directive("copyTextDirect",["labelService",function(n){return{restrict:"A",scope:{info:"="},template:'<span class="copy-btn" ng-show="!showHint" data-clipboard-text="{{info}}" ng-click="copyAnimation($event)">{{ info }}<\/span><span class="copy-after" ng-show="showHint">{{ langs.Copied }}<\/span>',link:function(t){new ClipboardJS(".copy-btn");t.langs=n.get("CompanyDeposit");t.copyAnimation=function(n){t.showHint=!0;var i=$(n.currentTarget);$(i).next().fadeIn().delay(2e3).fadeOut(500,function(){t.showHint=!1})}}}}]);app.directive("customAlert",["CustomModalService",function(n){return{restrict:"A",link:function(t,i,r){msg=r.alertMsg?r.alertMsg:"";i.click(function(){n.alert(msg)})}}}]);app.directive("customPagination",[function(){return{scope:{totalItems:"=",itemsPerPage:"=",clickCallback:"&"},restrict:"A",template:'<ul><li class="custom-pagination-btn prev-page" ng-class="{\'disabled\': page === 1}" ng-click="selectPage(page - 1)"><<\/li><li class="custom-pagination-btn page" ng-repeat="page in viewPages track by $index" ng-class="{\'active\': page.active}" ng-click="selectPage(page.number)">{{page.text}}<\/li><li class="custom-pagination-btn next-page" ng-class="{\'disabled\': page === totalPages}" ng-click="selectPage(page + 1)">><\/li><\/ul>',link:function(n){function t(n,t,i){return{number:n,text:t,active:i}}function i(n,i){for(var f,u=[],e=i,r=1;r<=e;r++)f=t(r,r,r===n),u.push(f);return u}function r(t){angular.forEach(n.pages,function(n){n.active=n.number===t})}n.page=1;n.totalPages=Math.ceil(n.totalItems/n.itemsPerPage);n.pages=i(n.page,n.totalPages);n.viewPages=n.pages.slice(0,n.itemsPerPage);n.selectPage=function(t){var i,u;t<1||t>n.totalPages||(n.page=t,r(t),t<n.viewPages[0].number?(i=n.viewPages[0].number-1-n.itemsPerPage,u=n.viewPages[0].number-1,n.viewPages=n.pages.slice(i,u)):t>n.viewPages[n.viewPages.length-1].number&&(i=n.viewPages[n.viewPages.length-1].number,u=n.viewPages[n.viewPages.length-1].number+n.itemsPerPage,n.viewPages=n.pages.slice(i,u)),n.clickCallback()(t-1))}}}}]);app.directive("datepicker",["$timeout","$parse",function(n,t){var i=angular.copy($.fn.datepicker.defaults);return{restrict:"A",require:"?^ngModel",scope:{value:"&datepickerSetValue"},link:function(r,u,f){var l=t(f.ngModel),o=l.assign,e=f.datepickerOptions,h,s,c;if(e&&(e=e.replace(/'/g,'"'),e=angular.fromJson(e)),e=angular.extend(angular.copy(i),e||{}),h=$(u).datepicker(e),this.value=null,s=this,c=r.$watch("value",function(t){var i=t()||null;angular.equals(i,s.value)||(s.value=i,$(u).datepicker("setValue",i),o&&n(function(){o(r.$parent,$(u).val())}))}),o)h.on("changeDate",function(){var n=$(u).val();o(r.$parent,n)});r.$on("$destroy",function(){c()})}}}]);app.directive("datepickerui",["$parse",function(n){return function(t,i,r){var u=n(r.ngModel);$(i).datepicker({inline:!0,dayNames:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],altFormat:"yy/mm/dd",dateFormat:"yy/mm/dd",changeYear:!0,changeMonth:!0,yearRange:"1900:",showOptions:{direction:"up"},onSelect:function(n){t.$apply(function(t){u.assign(t,n)})}})}}]);app.directive("datetimepicker",["$parse",function(n){return function(t,i,r){var u=n(r.ngModel);$(i).datetimepicker({lang:"zh",format:"Y/m/d H:i:s",step:30,defaultSelect:!0,timepickerScrollbar:!1})}}]);app.directive("digital",["$interval",function(n){function t(n,t){return Math.floor(Math.random()*(t-n+1)+n)}return{restrict:"AE",link:function(i,r,u){var e=parseInt(u.digitalMin),c=parseInt(u.digitalMax),l=parseInt(u.time)?parseInt(u.time):t(1e3,5e3),s=u.word?u.word:"",f=$(r)[0].hasAttribute("not-point")?"":"."+t(10,99),h=$(r)[0].hasAttribute("one-digital"),a=parseInt(u.addMin)?parseInt(u.addMin):1,v=parseInt(u.addMax)?parseInt(u.addMax):10,o;o=$(r)[0].hasAttribute("not-thousandth")?function(n){return n}:function(n){for(var t=n.toString(),i=/(\d+)(\d{3})/;i.test(t);)t=t.replace(i,"$1,$2");return t};h&&(f="."+t(1,9));$(r)[0].hasAttribute("add")?($(r).html(s+o(e)+f),n(function(){var n=t(a,v);e+=n;f=$(r)[0].hasAttribute("not-point")?"":h?"."+t(1,9):"."+t(10,99);$(r).html(s+o(e)+f)},l)):($(r).html(s+o(t(e,c))+f),n(function(){f=$(r)[0].hasAttribute("not-point")?"":h?"."+t(1,9):"."+t(10,99);$(r).html(s+o(t(e,c))+f)},l))}}}]);app.directive("digitalRule",["$interval",function(n){return String.prototype.repeat||(String.prototype.repeat=function(n){"use strict";var t,i;if(this===null)throw new TypeError("can't convert "+this+" to object");if(t=""+this,n=+n,n!==n&&(n=0),n<0)throw new RangeError("repeat count must be non-negative");if(n===Infinity)throw new RangeError("repeat count must be less than infinity");if(n=Math.floor(n),t.length===0||n===0)return"";for(i=t.length*n,n=Math.floor(Math.log(n)/Math.log(2));n;)t+=t,n--;return t+t.substring(0,i-t.length)}),{link:function(t,i,r){function y(){(f=(""+f).charCodeAt(0),o=(""+o).charCodeAt(0),f>o)||(u=h?0:f,c=n(p,v))}function p(){h?(i.text(e[u]),u=u===e.length-1?0:u+1):(l=String.fromCharCode(u),i.text(l.repeat(a)),u=u===o?f:u+1)}var s=r.digitalRule?r.digitalRule:"default",a=r.digitalRuleNumber?parseInt(r.digitalRuleNumber):1,v=r.digitalRuleTime?parseInt(r.digitalRuleTime):1e3,c,e,f,o,u,l,h;switch(!0){case s==="default":f=0;o=9;break;case/^(\d|[a-z]){1}\-(\d|[a-z]){1}$/gi.test(s):e=s.match(/\d|[a-z]/gi);f=e[0];o=e[1];break;case/(\w|\.|\:)*\,(\w|\.|\:)*/gi.test(s):e=s.split(",");h=!0;break;default:return}y();i.on("$destroy",function(){n.cancel(c)})}}}]);app.directive("directOpenPage",[function(){return{restrict:"A",link:function(n){if(window.location.search&&window.location.search!==""){var i=window.location.search.split("?")[1],t=i.split("=");n[t[0]]=t[1]}}}}]);app.directive("disableOnSubmit",[function(){return{restrict:"A",link:function(n,t,i){var r=i.disableOnSubmit,u=t.parents("form"),f;if(u.length){f=u[0];$(f).on("submit",function(){if(t.attr("disabled","disabled"),r){var n=$(t).children("span");n&&n.length?n.text(r):t.text(r)}})}}}}]);app.directive("externalPayment",["ExternalPaymentService","$window",function(n){return{restrict:"A",link:function(t,i,r){n.GetExternalPayment().then(function(n){t.externalPayment=n;t.externalPayment!==""?angular.element(i).css("display",r.externalPaymentDisplay?r.externalPaymentDisplay:"block"):angular.element(i).remove()});i.children('p[ng-bind="externalPayment.Description"]').css({"white-space":"pre-wrap","word-break":"break-all"})}}}]);app.directive("financialModalPage",["$http","$location","$rootScope","$state","$timeout","$q","$filter","$modal","labelService","UserService","languageService",function(n,t,i,r,u,f,e,o,s,h,c){return{restrict:"A",scope:{},template:["<style>",".finance-loading-progress {","    padding: 15px;","    border-radius: 4px;","}","","    .finance-loading-progress p {","        margin-bottom: 12px;","        font-size: 16px;","        font-weight: bold;","        text-align: center;","    }","","    .finance-loading-progress .progress-bg {","        height: 14px;","        background-color: #ebeef5;","        -moz-border-radius: 8px;","        -webkit-border-radius: 8px;","        border-radius: 8px;","    }","","        .finance-loading-progress .progress-bg .progress-rate {","            height: 14px;","            background-color: #409eff;","            -moz-border-radius: 8px;","            -webkit-border-radius: 8px;","            border-radius: 8px;","            transition:width .3s;","        }","","[financial-modal-page] .btn-close {","     position: absolute;","     top: -12px;","     right: -12px;","     z-index: 1;","     width: 38px;","     height: 38px;","     padding: 2px 0 0 1px;","     color: #333;","     font-size: 23px;","     background-color: #fff;","     -moz-border-radius: 50%;","     -webkit-border-radius: 50%;","     border-radius: 50%;","     text-align: center;","}","<\/style>",'<div class="container body" style="display:none;"><div id="title"><\/div><\/div>','<div ng-show="isShowModal">','    <div class="modal">','        <div class="modal-dialog">','            <span class="btn-close" ng-click="closeModal()"><i class="fas fa-times"><\/i><\/span>','            <div ng-if="isLoading">','                <div class="finance-loading-progress">',"                    <p>{{langs.Loading}} ({{progress}}%)<\/p>",'                    <div class="progress-bg">',"                        <div class=\"progress-rate\" ng-style=\"{'width': progress + '%'}\"><\/div>","                    <\/div>","                <\/div>","            <\/div>",'            <div ng-if="!isLoading && isUnSupported" style="padding: 20px;">','                <div class="alert alert-danger" style="font-size:20px">','                    <i class="fa fa-exclamation-triangle"><\/i>',"                    {{errorTitle}}","                <\/div>",'                <p ng-bind-html="errorMsg | trustAsHtml">',"                <\/p>","                <p>","                    {{memberCenterLang.Device}}：{{nowUserAgent}}","                <\/p>","            <\/div>",'            <div id="finance-container" style="position:relative;" ng-show="!isLoading"><\/div>',"        <\/div>","    <\/div>","<\/div>",].join(""),link:function(n,l){function a(){$("body.layout").removeClass("modal-open");n.isShowModal=!1;n.isPreview=!1;r.go("None")}function w(){n.isShowLoginTip=!1;r.go("None")}function b(){g();y=!0;$("body.layout").addClass("modal-open");n.isShowModal=!0}function k(){var n=$(".body.container #title"),t=document.createElement("style");t.type="text/css";t.innerHTML=":root { --financial-text: "+n.css("color")+"; --financial-bg: "+n.css("background-color")+";}";n.append(t)}function d(){i.$on("$stateChangeSuccess",function(t,i){if(n.isPreview||i.page==="financial"){if(/MemberCenter/.test(window.location.pathname)){window.location.href="/#"+i.url;return}b();return}a()})}function g(){if(!y){if(n.$on("enterMicroServiceError",function(){n.isLoading&&p()}),!window.__IsESModuleSupported||!window.__IsDynamicImportSupported){p();return}if("serviceWorker"in navigator){const n=navigator.serviceWorker;n.getRegistrations?n.getRegistrations().then(function(n){n.forEach(function(n){n.unregister()})}):n.getRegistration&&n.getRegistration().then(function(n){n&&n.unregister()})}f.all([h.getJwtTokens(),]).then(function(t){var r=t[0],u;if(r){localStorage.setItem("jwtToken",r.JwtToken);localStorage.setItem("refreshToken",r.RefreshToken);n.progress=10;try{window.__Qiankun_addGlobalUncaughtErrorHandler(()=>{n.isLoading&&nt()});u=localStorage.getItem("mobileType")?localStorage.getItem("mobileType"):"Origin";n.microAppState=window.__Qiankun_InitGlobalState({action:null,data:null});n.microAppState.onGlobalStateChange(function(t){switch(t.action){case"Mounted":n.isLoading=!1;break;case"SignOut":window.location.href="/Account/SignOut";break;case"RouteToChangeMoneyPassword":window.location.href="/MemberCenter/#/MemberCenter/ChangeMoneyPassword";break;case"RouteToSetRealName":window.location.href="/MemberCenter/#/MemberCenter/SetRealName";break;case"RouteToSetRealNameAndChangeMoneyPassword":window.location.href="/MemberCenter/#/MemberCenter/SetRealName?setMoneyPwd";break;case"OpenChangeMoneyPasswordDialog":tt();break;case"ProgressRate":n.progress=t.data}});n.microApp=window.__Qiankun_LoadMicroApp({name:"finance",entry:window.__IsDebuggingEnabled?"http://localhost:8082/":"/fe/finance/",container:"#finance-container",props:{Account:_Account,ApiDomain:window.__IsDebuggingEnabled?null:window.location.origin,JwtToken:r.JwtToken,RefreshToken:r.RefreshToken,Language:c.currentLanguage,IsHashMode:!0,DefaultCurrency:i.defaultCurrency,DefaultCountryCode:i.defaultCountryCode,DefaultTimezone:+sessionStorage.getItem("web_Timezone"),RouterBaseUrl:"/"}})}catch(f){alert(f)}}})}}function nt(){n.isLoading=!1;n.isUnSupported=!0;n.errorTitle=s.get("MemberCenter.MicroAppTitleError");let t=window.navigator.userAgent;n.nowUserAgent=t;t.indexOf("agwv")>-1||t.indexOf("igwv")>-1||t.indexOf("agna")>-1||t.indexOf("igna")>-1?(n.errorTitle=s.get("MemberCenter.MicroAppTitleError2"),t.indexOf("agwv")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("agwv","")),t.indexOf("igwv")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("igwv","")),t.indexOf("agna")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("agna","")),t.indexOf("igna")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("igna","")),n.errorMsg=/Macintosh|Mac OS X/i.test(t)?s.get("MemberCenter.IosBrowserErrorMsg2"):e("format")(s.get("MemberCenter.UcWebviewErrorMsg2"),['<a href="https://browser.qq.com/" target="_blank">QQ浏览器<\/a>'])):n.errorMsg=/Macintosh|Mac OS X/i.test(t)?s.get("MemberCenter.IosBrowserErrorMsg"):e("format")(s.get("MemberCenter.UcWebviewErrorMsg"),['<a href="https://browser.qq.com/" target="_blank">QQ浏览器<\/a>'])}function p(){n.isLoading=!1;n.isUnSupported=!0;n.errorTitle=s.get("MemberCenter.BrowserVersionError");let t=window.navigator.userAgent;n.nowUserAgent=t;t.indexOf("agwv")>-1||t.indexOf("igwv")>-1||t.indexOf("agna")>-1||t.indexOf("igna")>-1?(t.indexOf("agwv")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("agwv","")),t.indexOf("igwv")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("igwv","")),t.indexOf("agna")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("agna","")),t.indexOf("igna")>-1&&(n.nowUserAgent=n.nowUserAgent.replace("igna","")),/Macintosh|Mac OS X/i.test(t)?(n.errorTitle=s.get("MemberCenter.MicroAppTitleError"),n.errorMsg=s.get("MemberCenter.IosBrowserErrorMsg2")):n.errorMsg=e("format")(s.get("MemberCenter.CheckES6Tip2"),['<a href="https://browser.qq.com/" target="_blank">QQ浏览器<\/a>'])):/Macintosh|Mac OS X/i.test(t)?(n.errorTitle=s.get("MemberCenter.MicroAppTitleError"),n.errorMsg=s.get("MemberCenter.IosBrowserErrorMsg")):n.errorMsg=e("format")(s.get("MemberCenter.CheckES6Tip"),['<a href="https://browser.qq.com/" target="_blank">QQ浏览器<\/a>'])}function tt(){o.open({templateUrl:"/Account/ChangePwdSmsAuthenticationDialog",controller:"ChangePwdSmsAuthenticationDialogCtrl",windowClass:"modal-cpsad",backdrop:"static",resolve:{info:function(){return{isChangeMoneyPwd:!0}}}}).result.then(function(n){o.open({templateUrl:"/Account/ChangePwdDialog",controller:"ChangePwdDialogCtrl",windowClass:"modal-cpd",backdrop:"static",resolve:{info:function(){return{token:n.token,isChangeMoneyPwd:!0}}}}).result.then(function(){})})}var v=i.userInfo.isLogin&&!i.userInfo.isTrial,y=!1;if(n.isPreview=t.search().financial,n.isShowModal=!1,n.isShowLoginTip=!1,n.langs=s.get("Financial"),n.langs.Loading=s.get("Common.Loading"),n.isLoading=!0,n.microApp,n.microAppState,n.progress=0,n.isUnSupported=!1,n.nowUserAgent="",n.errorTitle="",n.errorMsg="",n.closeModal=a,n.closeLoginTip=w,!v&&!n.isPreview){a();l.remove();return}if(!v&&n.isPreview){n.isShowLoginTip=!0;return}d();u(function(){k()});n.$on("hideModalFinancial",function(){a()})}}}]);app.directive("floatEntrance",[function(){return{restrict:"A",scope:{},template:'<div class="entrance-track" ng-class={\'on-the-top\':$root.showJackPotActivity}>    <div jack-pot-activity-float ng-if="isUser"><\/div>    <div any-time-discount-float ng-if="isUser"><\/div><\/div>',link:function(n){n.isUser=$('[ng-controller="SiteMailCountCtrl"]').length!==0}}}]);app.directive("floatNativeApp",["labelService","CustomModalService","SystemNumberService",function(n,t,i){return{restrict:"A",scope:{color:"@displayColor"},template:'<div class="float-native-app {{color}} {{currentLang}}" ng-if="isEnable" ng-cloak><div class="click-box" ng-click="openLink()" title="{{langs.DownloadNow}}"><div class="app-icon"><div class="icon"><\/div><span class="en">APP<\/span>{{langs.Download}}<\/div><div class="app-text">{{langs.Slogan}}<div class="download">{{langs.DownloadNow}}<\/div><i class="fas fa-arrow-circle-down"><\/i><\/div><\/div><span class="close" ng-click="close()" title="{{langs.Close}}"><i class="fas fa-times-circle"><\/i><\/span><\/div>',link:function(r,u){r.isEnable=!1;var f=$('[ng-controller="SiteMailCountCtrl"]').length!==0;r.langs=n.get("NativeApp")||{};r.currentLang=angular.element("html").attr("moment-lang")||"";i.getSwitchSingleton().then(function(n){if(n===!1){u.remove();return}r.isEnable=!0});r.openLink=function(){if(!f){t.alert(r.langs.LoginFirst||"請先登入");return}var n;n=window.open("/NativeApp","_nativeApp","resizable=no,scrollbars=yes, width=1216, height=864");n.moveTo((screen.width-1216)/2,(screen.height-864)/3);n.focus()};r.close=function(){u.css("display","none")}}}}]);app.directive("floatService",["$q","$window","$timeout","$location","$rootScope","$modal","JackPotActivityService","LoginRedirectService","ActivityEntranceService","FunctionSwitchService","ActivityService","CustomModalService",function(n,t,i,r,u,f,e,o,s,h,c,l){return{restrict:"A",scope:{},template:'<aside id="service-float">    <span ng-click="closed()" class="closed"><\/span>    <ul class="activity-list">       <li ng-repeat="activity in activityList">               <div ng-if="activity.isReceiveAll" ng-click="allReceive()">                   <img ng-src="{{activity.img}}"/>               <\/div>               <div ng-if="activity.isMemberCenter">                   <a href="{{activity.link}}">                       <img ng-src="{{activity.img}}"/>                   <\/a>               <\/div>               <div ng-if="!activity.isReceiveAll&&!activity.isMemberCenter" ng-click="openModel(activity)">                   <img ng-src="{{activity.img}}"/>               <\/div>       <\/li>    <\/ul >     <ul class="float-pager"><\/ul><\/aside>',link:function(a,v){function nt(){if(w){if(["LuckyWheel","JackPotActivity"].indexOf(r.search().eventname)===-1&&!b){o.requireLogin();return}tt();return}n.all([s.getSwitchSingleton(),h.getEnableFunctionSwitch()]).then(function(n){y=n[1].OneClickToReceiveAllActivityReward;var t=n[0];p(t)})}function tt(){function n(i){var r=i.data;d[r.EventName]=r.ImageUrl;p(r);t.removeEventListener("message",n,!1)}t.addEventListener("message",n,!1);t.opener.postMessage("message",r.search().evententranceimg)}function p(n){if(a.activityList=n.filter(function(n,t){return k?t===0:!0}).filter(function(n){return n.img}),a.activityList.length){if(a.activityList.length>1){it();return}angular.element(v[0].querySelector("#service-float")).show()}}function it(){i(function(){angular.element(v[0].querySelector("#service-float")).slide(g);angular.element(v[0].querySelector("#service-float")).show()},1)}function rt(n){s.openModal(n)}function ut(){angular.element(v).hide()}function ft(){y&&c.receivedAll().then(function(n){if(n.Code!==200){l.alertError(n.Error[0].Message);return}let i=n.Result.List.filter(function(n){return n.ReceivedTotalAmount>0}),r=i.map(function(n){return n.ReceivedTotalAmount}).reduce(function(n,t){return n+t},0);f.open({templateUrl:"/MemberCenter/ReceivedDetail",controller:"ActivityReceivedDetailDialogCtrl",windowClass:"activity-received-detail-dialog",resolve:{data:function(){return{totalAmount:r,receivedList:i}}}}).result.then(function(){t.location.reload()},function(){})})}var w=r.search().evententranceimg||!1,b=u.userInfo&&u.userInfo.isLogin,k=u.userInfo&&u.userInfo.isTrial,d={},g={titCell:".float-pager",mainCell:".activity-list",autoPage:!0,autoPlay:!0,interTime:5e3,trigger:"click"},y=!1;a.activityList=[];a.closed=ut;a.openModel=rt;a.allReceive=ft;nt()}}}]);app.directive("floatServiceTop",["$timeout",function(n){return{restrict:"A",link:function(t,i,r){function u(n){i.addClass("float-fixed-service").addClass("extension-position-"+n);i.find(".closed").addClass("float-fixed-closed").addClass("extension-position-"+n);var t=i.children(r.floatServiceTop);if(i[0].hasAttribute("float-animation")){t.addClass("float-element-default");return}t.addClass("element-animation-"+n);t.addClass("extension-height-zero");i.on({mouseenter:function(){t.addClass("element-animation-start");t.removeClass("extension-height-zero")},mouseleave:function(){t.addClass("extension-height-zero");t.removeClass("element-animation-start")}})}var f=r.floatPosition||"left";i.hide();u(f);n(function(){i.show()})}}}]);app.directive("floatSlider",[function(){return{restrict:"A",link:function(n,t,i){var r=$(t)[0].hasAttribute("float-pager");r&&t.prepend('<ul class="float-pager"><\/ul>');$(t).slide({titCell:".float-pager",mainCell:".main-cell >",autoPage:r,effect:i.floatEffect||"leftLoop",autoPlay:!(i.floatPlay==="false"),vis:parseInt(i.floatVis)||1,trigger:i.floatTrigger||"click",interTime:parseInt(i.floatInterTime)||2500,delayTime:parseInt(i.floatDelayTime)||500,mouseOverStop:i.floatMouseoverStop==="true"})}}}]);app.directive("focusOn",["$timeout","$parse",function(n,t){return{restrict:"A",link:function(i,r,u){function a(){var t=h(i),u=l(i);angular.isString(t)&&angular.equals(t,o)&&!angular.equals(t,u)&&(e(i,t),n(function(){r[0].focus()}))}var o=u.name,f;if(o){var s=u.focusOn+".target",h=t(s),v=h.assign,c=u.focusOn+"._focused",l=t(c),e=l.assign;e(i,null);t(u.focusOn+".focus").assign(i,function(t){n(function(){e(i,null);v(i,t)})});f=[];f.push(i.$watch(s,a));f.push(i.$watch(c,a));i.$on("$destroy",function(){angular.forEach(f,function(n){n()})})}}}}]);app.directive("freeMovielink",["$http","$rootScope","$timeout","CustomModalService",function(n,t,i,r){return{restrict:"A",link:function(u,f){function e(){n.post("/GetSiteMasterCustomLink").then(function(n){var t=n.data;f.click(function(){if(t.IsSuccess==!1){r.alertError(t.ErrorMessage);return}window.open(t.Link)})})}i(function(){t.user&&e()})}}}]);app.directive("historyScrolled",["$window","$timeout",function(n,t){return{restrict:"A",link:function(i,r,u){var e=null,f=angular.element(n),o=function(){if(!i.complete&&!e){var n=f.height()+f.scrollTop(),o=r.offset().top+r.height(),s=o-n,h=s<=f.height();h&&(e=t(function(){i.$apply(u.historyScrolled);e=null}))}};f.on("scroll",o);i.$on("$destroy",function(){return f.off("scroll",o)})}}}]);app.directive("iframeAutoHeight",["$interval",function(n){return{restrict:"A",scope:{},link:function(t,i,r){function s(){var i=$(u).contents().find("body"),r;i.length!==0&&(t.count===-1&&i.css("overflow","hidden"),r=i.height(),parseInt(u.height)===r?(t.count++,t.count>o&&(i.css("overflow","auto"),n.cancel(f))):t.count=0,u.height=parseInt(r))}var e=parseInt(r.resizeTime)?parseInt(r.resizeTime):200,o=parseInt(r.resizeCount)?parseInt(r.resizeCount):100,u=$(i).get(0),f;t.count=-1;f=n(s,e)}}}]);app.directive("jackPotActivityFloat",["$interval","$rootScope","JackPotActivityService",function(n,t,i){return{restrict:"A",scope:{},template:'<div>   <a href="/JackPotActivity" target="_blank">       <span class="ja-title" ng-bind="name"><\/span>       <span class="ja-tag" toggle-color ng-if="tag">{{tag}}<\/span>   <\/a>    <span class="ja-close" ng-click="closed();$event.stopPropagation();">X<\/span><\/div>',link:function(r,u){function o(){i.getStatusSingleton().then(function(n){var f=sessionStorage.getItem("JackPotActivityFloatShowed")==="true";f||n===0||n>=5||i.getActivityName().then(function(i){r.name=i.ReturnObject;switch(n){case 3:r.tag="抢";break;case 4:r.tag="翻倍领大奖"}t.showJackPotActivity=!0;sessionStorage.setItem("JackPotActivityFloatShowed","true");u.removeClass("ng-hide");s()})})}function s(){f=n(function(){angular.element(u).offset().left<-e&&(n.cancel(f),t.showJackPotActivity=!1,u.addClass("visibility-hidden"))},1e3)}function h(){u.addClass("visibility-hidden")}var f,e=angular.element(u).width();u.addClass("ng-hide");r.closed=h;o()}}}]);app.directive("jackPotActivityWalletDialog",["$modal",function(n){return{restrict:"A",scope:{},link:function(t,i){var r=!1;i.bind("click",function(){r||(r=!r,n.open({templateUrl:"/JackPotActivity/WalletDialog",controller:"JackPotActivityWalletDialogCtrl",windowClass:"modal-jpawd",resolve:{}}).result.then(function(){},function(){r=!r}))})}}}]);app.directive("lineChatClick",["$window","ContactInfoService","_env",function(n,t,i){return{restrict:"A",link:function(r,u,f){function s(){var r=(new Date).getTime(),u=e.lineChat.target,h=e.lineChat.width,c=e.lineChat.height,i=o[f.lineChatClick]||o[e.lineChat.cdnKey]||o.Live800Link,s,t;i+=i.indexOf("?")!==-1?"&_="+r:"?_="+r;s=u==="_blank"?"":"width="+h+",height="+c;t=n.open(i,u,s);e.lineChat.fullScreen&&(t.moveTo(0,0),t.resizeTo(screen.width,screen.height));t.focus()}var e=i.LayoutCtrl,o={};t.getContactInfo().then(function(n){o=n;u.bind("click",s)})}}}]);app.directive("luckywheelLink",["$http","$window",function(n,t){return{link:function(i,r){var u=r[0].hasAttribute("luckywheel-remove");n.post("/LuckyWheel/GetEventInfo",null).then(function(n){if(!n&&!n.data){u&&r.remove();return}if(n.data.IsSuccess===!1){u&&r.remove();return}r.click(function(){var n=t.open("/LuckyWheel","_blank");n.focus()})})}}}]);app.directive("marqueeDialog",["$location","$window","AnnouncementService","languageService",function(n,t,i,r){return{restrict:"A",scope:{},template:['<div id="marquee-wrapper" ng-class="{show: enable || enableForce}">','    <aside id="marquee">',"        <header>",'            <h2 ng-bind="langs.Shared_NewsInfo"><\/h2>',"        <\/header>",'        <ul id="newsBags">','            <li ng-repeat="news in marquee track by $index">{{ news }}<\/li>',"        <\/ul>","        <footer>",'            <span ng-click="close()" ng-bind="langs.Common_Closed"><\/span>',"        <\/footer>","    <\/aside>","<\/div>",].join(""),link:function(u){function f(n){u.marquee=n}function e(n){u.enable=u.marquee.length>0&&n}var o=["/"];u.enable=!1;u.close=function(){u.enable=!1;u.enableForce=!1};r.getMultilingual(["Common","Shared"]).then(function(n){u.langs=n.data});n.search().announcement?i.addPreviewListener(function(n){f(n.marquee);e(!0)}):i.getMarqueeSingleton().then(function(n){f(n);var r=o.some(function(n){return n===t.location.pathname});return r?i.checkMarqueeVersion():!1}).then(function(n){e(n)});u.$on("toggleModalMarquee",function(n,t){if(!t){u.close();return}u.enable=t});u.$on("showModalMarqueeForce",function(){u.enableForce=!0})}}}]);app.directive("meidonCountdown",["$interval","MeidonTimeService","labelService",function(n,t,i){return{restrict:"A",scope:{endtime:"@",endFn:"&"},link:function(r,u,f){function c(n){var t=Math.floor(moment.duration(n).asDays()),i=""+o(moment.duration(n).get("hours")),r=""+o(moment.duration(n).get("minutes")),u=""+o(moment.duration(n).get("seconds"));a(t,i,r,u)}function o(n){return parseInt(n)<10?"0"+n:n}function a(n,t,r,f){if(n>0){u.html('<div class="day-mode '+(n>999?"large-amount":"")+'">    <span class="remain">'+(i.get("MeidonCountdown.Countdown")||"倒数")+"        <span>"+n+"<\/span>    "+(i.get("MeidonCountdown.Day")||"天")+"<\/span><\/div>");return}var e='<div>    <span class="hour">        <span class="unit">'+t[0]+'<\/span>        <span class="unit">'+t[1]+'<\/span>    <\/span>    <span class="separate">:<\/span>    <span class="minute">        <span class="unit">'+r[0]+'<\/span>        <span class="unit">'+r[1]+'<\/span>    <\/span>    <span class="separate">:<\/span>    <span class="second">        <span class="unit">'+f[0]+'<\/span>        <span class="unit">'+f[1]+"<\/span>    <\/span><\/div>";u.html(e)}var s=t.getCurrentMeidon(),l=f.endtime?moment(f.endtime):s,e=l.diff(s),h;c(e);h=n(function(){if(e=e-990,e<=0){n.cancel(h);f.endFn?r.endFn():null;return}c(e)},990)}}}]);app.directive("navActive",["$location",function(n){return{restrict:"A",link:function(t,i){t.location=n;var r=i.attr("href");r===location.pathname?i.parent().addClass("active"):i.parent().removeClass("active")}}}]);app.directive("newLuckyWheelRoulette",["$http","$timeout","$location","CustomModalService","NewLuckyWheelService","uiRotateCore",function(n,t,i,r,u,f){return{restrict:"A",template:['<style id="roulette-position"><\/style>','<div class="roulette-wrapper">','    <div class="wheel count-{{rewardList.length}}">','        <div class="reward reward-{{$index}}" ng-show="!isLoading" ng-cloak','            ng-repeat="reward in rewardList track by $index">','            <img ng-src="{{reward.imageUrl}}" alt="{{reward.name}}" ng-if="reward.imageUrl" />','            <div class="no-pic" ng-if="!reward.imageUrl">','                <span ng-bind="reward.name"><\/span>',"            <\/div>","        <\/div>","    <\/div>",'    <div class="arrow" ng-click="startRotate()"><\/div>',"<\/div>",].join(""),scope:{isEnable:"=",eventId:"=",remainCount:"=",rewardList:"=",rotateCompleteFn:"&"},link:function(e){function v(){s=e.eventId;o=e.rewardList.length;y()}function y(){p()}function p(){var n="",i=360/o;h=e.rewardList.map(function(n,t){return{id:n.id,angle:i*t}});n=h.map(function(n,t){var i=u.getCssPosition(n.angle);return".reward-"+t+" {    top: "+i.top+";    left: "+i.left+";    transform: translate(-50%, -50%) rotate("+n.angle+"deg);}"}).join("");$("#roulette-position").append(n);t(function(){e.isLoading=!1})}function w(){if(a){b();return}e.remainCount&&!e.isRotating&&(s||s===0)&&e.isEnable&&(e.isRotating=!0,n.post("/NewLuckyWheel/StartRaffle",{luckyWheelId:s}).then(function(n){var t=n.data;if(t.IsSuccess===!1){e.isRotating=!1;r.alertError(t.ErrorMessage);return}l(t.ReturnObject)}))}function b(){var n=k();l({RewardID:n,MemberLotteryCount:e.remainCount||0})}function k(){var n=Math.floor(Math.random()*o);return e.rewardList[n].id}function l(n){var t=h.filter(function(t){return t.id===n.RewardID})[0];if(t){var r=t.angle,s=u.getRotateTime(o),l=u.getRotateAngle(r,o),i=f($("[new-lucky-wheel-roulette] .wheel"));i.rotate({angle:c,duration:s,animateTo:l,callback:function(){e.isRotating=!1;c=i.getRotateAngle()%360;e.rotateCompleteFn({rewardId:t.id,remainCount:n.MemberLotteryCount})}})}}var a=i.search().newluckywheel,s=0,o=0,h=[],c=0;e.isLoading=!0;e.isRotating=!1;e.startRotate=w;v()}}}]);app.directive("newsMarquee",["$timeout","$rootScope","$q","$location","AnnouncementService",function(n,t,i,r,u){return{restrict:"A",transclude:!0,template:'<div class="main-cell"><ul class="news-list"><li ng-repeat="news in marquee track by $index" ng-click="openModal($index)" ng-bind="news"><\/li><\/ul><\/div><div class="option-wrapper" ng-transclude><\/div>',link:function(t,f,e){function c(n){var i=n.marquee,r=n.announcement;t.marquee=i.length>0?i:r}function l(n){t.openModal=n.length>0?u.openMarqueeDialog:u.openAnnouncementDialog}function a(){n(function(){v?f.slide({mainCell:".main-cell >",effect:s==="up"?"topLoop":"leftLoop",autoPlay:!0,vis:1,trigger:"click",interTime:o||4e3,prevCell:".news-prev",nextCell:".news-next"}):f.children(".main-cell").marquee({duration:o||12500,gap:50,delayBeforeStart:0,direction:s,duplicated:!1,pauseOnHover:!0})})}var s=e.hasOwnProperty("newsUp")?"up":"left",o=parseInt(e.newsSpeed),h=e.newsAssign,v=e.hasOwnProperty("newsPager"),y=location.pathname==="/"?"/home":location.pathname.toLowerCase();h&&h.split(" ").forEach(function(n){if(y==="/"+n.split("-")[0])return s=n.split("-")[1]||"left",o=parseInt(n.split("-")[2])||o,!1});r.search().announcement?u.addPreviewListener(function(n){var t=n.marquee,i=n.announcementTitle;c({marquee:t,announcement:i});l(t);a()}):i.all([u.getMarqueeSingleton(),u.getSettingSingleton()]).then(function(n){var t=n[0],i=n[1];c({marquee:t,announcement:i});l(t);a()})}}}]);app.directive("numeral",["$interval",function(n){function t(n,t){return Math.floor(Math.random()*(t-n+1)+n)}return{restrict:"A",link:function(i,r,u){function v(){return b===1?t(1,9):t(10,99)}function e(n){return a==="timepiece"&&d?n.toFixed(b).toString():a==="timepiece"?n.toFixed(b).toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,","):d?n:n.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,",")}function h(n){var i,f,t;if(nt)for(i=n.split(""),f=parseInt(u.giveSpan,10),t=f||i.length;t>0;t--)r.find('span[data-numeralbox="'+t+'"]').html(i.pop());else r.html(n)}function y(n){for(var i=n.length,f=parseInt(u.giveSpan,10)||i,t=0;t<f;t++)r.append("<span data-numeralbox="+(t+1)+"><\/span>")}function rt(){function i(){var u=n.getItem(t).originalFrom,i=c,e=n.getItem(t).itemMode,r=a;u!==i||e!==r?(n.clearItem(t),n.setItem(t,o,i,r)):f=n.getItem(t).itemName}var n={setItem:function(n,t,i,r){var u=new Date;localStorage[n]=JSON.stringify({itemName:t,originalFrom:i,expires:u.getTime()+it*36e5,itemMode:r})},getItem:function(n){if(typeof localStorage[n]!="undefined"){var t=JSON.parse(localStorage[n]);return!t||t.expires<Date.now()?null:t}return null},clearItem:function(n){localStorage.removeItem(n)}},t=u.memoryKey||"numeral-storage",r=n.getItem(t);r?i():n.setItem(t,o,c,a);window.addEventListener("beforeunload",function(i){i.preventDefault();a!=="timepiece"&&n.setItem(t,o,c,a);var r=Math.floor(o);n.setItem(t,r,c,a)})}function ut(){function nt(){var a=f,n=t(c,l),r=function(){i<c?i=c:i>l&&(i=l)},u=function(){w?h(s+e(i)):h(s+e(i)+"."+v())};a>n?(i=i-t(d,g),r(),u(),f=n,o=i):(i=i+t(d,g),r(),u(),f=n,o=i)}var a=parseInt(u.gapCustomized,10)||0,i=a||t(f,k),b=r[0].hasAttribute("gap-random")?!0:!1,d=parseInt(u.gapMin,10)||0,g=parseInt(u.gapMax,10)||0,tt,it;(a<f||a>k)&&(i=f);tt=function(){b?(nt(),o=i):(i=t(c,l),h(s+e(i)),o=i)};it=function(){b?(nt(),o=i):(i=t(c,l),h(s+e(i)+"."+v()),o=i)};w?(y(s+e(i)),h(s+e(i)),f=i,n(tt,p)):(y(s+e(i)+"."+v()),h(s+e(i)+"."+v()),n(it,p))}function ft(){var n=function(){function d(){n+=k;c++;o=n;h(e(n));c>=s&&(clearInterval(t),n=p)}var a=r[0].hasAttribute("numeral-to")?u.numeralTo.length:-1,v=f||0,p=l||0,i=5,w=parseInt(u.speed,10)||function b(n){var t=10;return n===0?t:t*b(n-1)}(a+1),s=Math.ceil(w/i),k=(l-f)/s,c=0,n=v,t;t&&clearInterval(t);y(e(l));t=setInterval(d,i)};n()}function g(){var a=parseInt(u.addMin)||1,b=parseInt(u.addMax)||10,k=r[0].hasAttribute("mix"),i=1,d=parseInt(u.mixCycle,10)||t(3,8),g=parseInt(u.mixMin)||1,nt=parseInt(u.mixMax)||10,c=0,l=function(){i>d&&k?(i=1,c=t(g,nt),f=function(){return f-c<=0?f:f-c}()):(f+=t(a,b),i++)};w?(y(s+e(f)),h(s+e(f)),o=f,n(function(){l();h(s+e(f));o=f;i++},p)):(y(s+e(f)+"."+v()),h(s+e(f)+"."+v()),o=f,n(function(){l();h(s+e(f)+"."+v());o=f},p))}var a=u.numeralMode||"default",c=parseInt(u.numeralFrom,10)||0,l=parseInt(u.numeralTo,10)||0,f=c,k=l,s=u.word||"",p=parseInt(u.time)||t(1e3,5e3),w=r[0].hasAttribute("no-point")?!0:!1,b=r[0].hasAttribute("one-point")?1:2,d=r[0].hasAttribute("no-switchThousand")?!0:!1,nt=r[0].hasAttribute("give-span")?!0:!1,tt=r[0].hasAttribute("memory"),o=0,it=u.memoryDate||24;tt&&rt();switch(a){case"gap":ut();break;case"timepiece":ft();break;case"increment":g();break;default:g()}}}}]);app.directive("onlyNumbers",function(){return{require:"ngModel",link:function(n,t,i,r){r.$parsers.push(function(n){if(n===undefined)return"";var t=n.replace(/[^0-9]/g,"");return t!==n&&(r.$setViewValue(t),r.$render()),t})}}});app.directive("openLuckywheel",["$compile","$window","$http",function(n,t,i){return{restrict:"A",link:function(r,u,f){r.hasLuckywheel=!1;var e=f.luckywheelWidth||screen.width,o=f.luckywheelHeight||screen.height,s=f.luckywheelNoimage==="true"||!1,h="notClose"in f,c=f.luckywheelSrc||"https://cdn.fidlite.com/Web.Portal/_Common/Content/Views/LuckyWheel/luckywheel_service_new.png",l="<style>.open-luckywheel{display:inline-block;position:fixed;top:auto;left:0;right:auto;bottom:0;z-index:999;}.open-luckywheel>.close-luckywheel{"+["position:absolute;","display:block;","top:0;","right:0;","height:26px;","width:26px;","cursor:pointer;","background:url('https://cdn.fidlite.com//Web.Portal/_Common/Content/Views/Shared/images/close.png') no-repeat center center;",].join("")+"}<\/style>",a='<img ng-click="openLuckywheel()" class="openluckywheel-image"  style="width:200px;" src="'+c+'"><\/img>',v=h?"":'<span class="close-luckywheel" ng-click="closedLuckywheel()"><\/span>',y=l+a+v;i.post("/LuckyWheel/GetEventInfo",{}).then(function(i){if(!i&&!i.data){angular.element(u).css("display","none");return}if(i.data.IsSuccess===!1){angular.element(u).css("display","none");return}if(s)u.on("click",function(){r.openLuckywheel()});else u.append(n(y)(r));r.hasLuckywheel=!0;r.openLuckywheel=function(){var n=t.open("/LuckyWheel","_luckywheel","width="+e+",height="+o);n.moveTo(0,0);n.focus()};r.closedLuckywheel=function(){angular.element(u).css("display","none")}})}}}]);app.directive("popupAnnouncementDialog",["AnnouncementService","CustomModalService","labelService",function(n,t,i){return{restrict:"A",link:function(r,u){n.getSettingSingleton().then(function(r){var f=r.length>0,e=i.get("Announcement.NonAnnouncement")||"尚无最新公告";u.click(function(){f?n.openAnnouncementDialog():t.alert(e)})})}}}]);app.directive("popupDialog",["$window","ContactInfoService",function(n,t){return{restrict:"A",link:function(i,r,u){t.getContactInfo().then(function(t){var i=t,e,f,l,h;if(i.Dialog!=undefined&&i.DialogPage!=undefined){var a=u.closeTime?parseInt(u.closeTime):12e4,c=u.topOffset?parseInt(u.topOffset):120,o=u.leftOffset,s="centerOffset"in u,v="notClose"in u,y="showOverlay"in u,p="dialogFixed"in u,w="targetSelf"in u;r.attr("title",i.DialogTitle||"");e=document.createElement("img");e.src=i.Dialog;e.onload=function(){var u=this.naturalWidth,f=i.DialogPage.split(","),t;$.each(f,function(t,i){n.location.pathname==i&&($.widget("ui.dialog",$.extend({},$.ui.dialog.prototype,{_title:function(n){n.html(this.options.title)}})),r.dialog({dialogClass:"popup-dialog",width:u+8,autoOpen:!0,modal:y,buttons:{"关闭":function(){r.dialog("close")}},open:function(){v||setTimeout(function(){r.dialog("close")},a)},position:{my:s?"center":(o===undefined?"":"left")+" top",at:s?"center":(o===undefined?"":"left+"+o)+" top+"+c}}))});p&&(t=angular.element(".ui-dialog"),t.css({position:"fixed",top:s?(n.innerHeight-t.height())/2:c}))};f=$("<a>");angular.isDefined(i.HttpDialog)&&i.HttpDialog!==""?(w&&i.HttpDialog!="/Yuebao"?(l=/^(http|https):\/\/.+/,f.attr({href:i.HttpDialog,target:l.test(i.HttpDialog)?"_blank":"_self"})):f.attr({href:i.HttpDialog,target:"_blank"}),f.append(e)):f=e;h=$("<div>").addClass("dialog-footer");angular.isDefined(i.DialogFooter)&&h.html(i.DialogFooter);r.append(f).append(h)}})}}}]);app.directive("popupNews",["$timeout","$rootScope","$q","AnnouncementService",function(n,t,i,r){return{restrict:"A",link:function(t,u,f){function c(){n(function(){if(o){var n=o.every(function(n){return s!=="/"+n.toLowerCase()});if(n)return}r.openMarqueeDialogForce()})}var e=f.closeTime?parseInt(f.closeTime):!1,o=f.popupPage?f.popupPage.split(" "):!1,s=!!$("#home").length||location.pathname==="/"?"/home":location.pathname.toLowerCase(),h=[r.getMarqueeSingleton()];i.all(h).then(function(t){t[0].length>0&&(e&&n(function(){r.closeMarqueeDialog()},e),c())})}}}]);app.directive("popupOpener",["$parse","$window",function(n,t){return{restrict:"A",link:function(n,i,r){var u=r.device,f=u!=undefined&&u.toLowerCase()=="true"?!0:!1,e=r.popupOpenerName,o=r.popupOpenerOptions;i.on("click",function(){f?t.location=r.popupOpener:t.open(r.popupOpener,e||"_blank",o||"width=800,height=500,resizable,scrollbars=yes")});n.$on("$destroy",function(){i.off()})}}}]);app.directive("qqClick",["ContactInfoService","_env",function(n,t){return{restrict:"A",link:function(i,r,u){function o(){var t=f.QQ.width,r=f.QQ.height,u=f.QQ.link.replace("QQVal",i.QQVal),n=window.open(u,"_open","width="+t+",height="+r);f.QQ.fullScreen&&(n.moveTo(0,0),n.resizeTo(screen.width,screen.height));n.focus()}i.QQVal="";var f=t.LayoutCtrl,e={};n.getContactInfo().then(function(n){e=n;i.QQVal=e[u.qqClick]||e.QQ;r.bind("click",o)})}}}]);app.directive("redEnvelopeFloat",["$location","$rootScope","labelService","RedEnvelopeService",function(n,t,i,r){return{restrict:"A",scope:{},template:'<link href="/Content/Views/RedEnvelope/List.css?version=20190614" rel="stylesheet" /><div>    <span class="re-tip" ng-bind-html="tip | trustAsHtml"><\/span>    <span class="re-close" ng-click="closed();$event.stopPropagation();">X<\/span>    <div class="ng-hide" ng-repeat="redEnvelope in redEnvelopes"         meidon-countdown endtime="{{redEnvelope.EndTime}}" end-fn="removeRedenvelope(redEnvelope.Id)"><\/div > <\/div>',link:function(u,f){function c(){r.getListSingleton().then(function(t){if(u.redEnvelopes=t,t.length===0){e();return}o(u.redEnvelopes.length);l();f.bind("click",function(){h()});f.removeClass("ng-hide");n.search().redenvelope&&h()})}function o(n){if(n===0){e();return}u.tip=i.get("RedEnvelope.ReceiveAmountTip").replace("{0}","<span>"+n+"<\/span>")}function l(){t.$on("hideRedEnvelope",function(n,t){s(t)});t.$on("oneClickCloseAll",function(){e()})}function s(n){for(var i=[],t=0;t<u.redEnvelopes.length;t++)u.redEnvelopes[t].Id!==n&&i.push(u.redEnvelopes[t]);u.redEnvelopes=i;o(u.redEnvelopes.length)}function h(){r.openModal().result.then(function(){},function(){})}function e(){f.addClass("ng-hide")}f.addClass("ng-hide");u.removeRedenvelope=s;u.closed=e;c()}}}]);app.directive("redEnvelopeLink",["RedEnvelopeService",function(n){return{restrict:"A",link:function(t,i,r){var u=r.isLogin==="true";u&&n.getListSingleton().then(function(t){t.length!==0&&i.bind("click",function(){n.openModal().result.then(function(){},function(){})})})}}}]);app.directive("redirectUrl",[function(){return{restrict:"A",scope:{condition:"@redirectUrlCondition",target:"@redirectUrlTarget"},link:function(n){function t(){return n.condition.toLowerCase()==="true"}function i(){return/^(\/|http)/i.test(n.target)}function r(){window.location=n.target}t()&&i()&&r()}}}]);app.directive("registerAgreementDialog",["$location","$modal",function(n,t){return{restrict:"A",scope:{},link:function(n,i){function r(){t.open({templateUrl:"/Register/Agreement",controller:"RegisterAgreementCtrl"}).result.then(function(){},function(){})}i.bind("click",function(){r()})}}}]);app.directive("registerInfo",["$http","$location","$q","$window","$filter","$rootScope","SiteSettingService",function(n,t,i,r,u,f,e){function s(){var t=sessionStorage.getItem("registerInfoPreview");return t?(o.resolve(t),f.$broadcast("showRegisterDialog")):n.post("/Register/GetRegisterCopywriting").then(function(n){var t=n.data.ReturnObject;o.resolve(t)}),o.promise}function h(n){var t="[register-info] ";return t+n.trim().replace(/\r?\n|\r/g,"").replace(/}(?!$)/g,"}"+t)}function c(n,t){return n.replace(/&lt;前台站名&gt;/g,t)}var o=i.defer();return{restrict:"A",scope:{},link:function(n,t,r){r.hasOwnProperty("useStatic")||(t.addClass("ng-hide"),i.all([s(),e.getSiteTitleSingleton()]).then(function(n){var r=n[0],f=n[1].PortalSiteName,i;r!==null&&(t.empty(),i=r.replace(/src=\"([^\"])+(png|jpg|gif)\"/g,function(n){return u("filterCdn")(n,"https://cdn.fidlite.com/")}),i=c(i,f),t.html(i),t.append("<style>img{max-width:100%;}<\/style>"),t.find("style").each(function(){var n=$(this).text();$(this).empty();$(this).append(h(n))}));t.removeClass("ng-hide")}))}}}]);app.directive("reviewGame",["$compile","CookieService","GenericGameService","LobbyNavService","labelService",function(n,t,i,r,u){return{replace:!1,restrict:"A",template:'<ul ng-class="{\'no-data\':reviewLists.length===0}" tip="{{noDataTip}}"><\/ul>',link:function(f,e,o){function b(){c.length>0&&p?i.checkGames(c).then(function(n){f.reviewLists=n;localStorage.setItem(h,JSON.stringify(n));t.setCookieMinute(a,!0,y);l()}):(f.reviewLists=c,l())}function l(){s.slick("slickRemove",null,null,!0);f.reviewLists.forEach(function(n,t){var i='<li><img src="'+n.ButtonImagePath+'" onerror="this.src =\'https://cdn.fidlite.com/Web.Portal/_Common/Content/Views/Shared/images/review/default.png\';" title="'+n.DisplayName+'" ng-click="toReviewGame('+t+')"/><div ng-click="toReviewGame('+t+')" title="'+n.DisplayName+'">'+n.DisplayName+"<\/div><\/li>";s.slick("slickAdd",i)});n(s)(f)}f.noDataTip=u.get("ReviewGame.NoData");var h="reviewGame_0.0.2",a="reviewGame",y=10,c=JSON.parse(localStorage.getItem(h))||[],p=t.getCookie(a)===null,v=null,s=e.find("> ul"),w={infinite:!0,slidesToShow:angular.isDefined(o.slidesToShow)?parseInt(o.slidesToShow):12,slidesToScroll:12,arrows:!0};f.reviewLists=[];i.getCategoryKey("近期浏览").then(function(n){v=n;s.slick(w);b()});f.gameLength=parseInt(o.gameLength)?parseInt(o.gameLength):10;f.toReviewGame=function(n){var u=f.reviewLists[n],t=i.getGameInfo(u,v);r.openLobbyNav(t.action,t.supplier)};window.addEventListener("storage",function(){f.reviewLists=JSON.parse(localStorage.getItem(h))||[];l()})}}}]);app.directive("scrollFloat",["$interval",function(n){return{restrict:"A",link:function(t,i,r){var o=parseInt(r.floatTop),s=parseInt(r.floatSide),h=parseInt(r.floatMargin==""||r.floatMargin==null?"0":r.floatMargin),u=document.createElement("script"),f,e;u.type="text/javascript";u.src="https://cdn.fidlite.com/Web.Portal/_Common/Scripts/float.js";angular.isDefined(t.loadFloatLibrary)||(document.body.appendChild(u),t.loadFloatLibrary=!0);f=n(function(){typeof $.prototype.Float=="function"&&(n.cancel(f),e())},1);e=function(){i.Float({topSide:o,floatRight:s,side:h})}}}}]);app.directive("scrollfollow",[function(){return{restrict:"A",link:function(n,t,i){var u=$(t).offset(),l=$(t)[0].hasAttribute("show-btn");if(l){var a=$(t).find("*"),f=$(t).css("left")==="0px"?"left":"right",v=$(t).css("left")==="0px"?"right":"left",e="#"+f+"-trigger",s=i.btnWidth?i.btnWidth+"px":"34px",y=$(t).width(),r=!0,o,h=$(t)[0].hasAttribute("hide-arrow"),c=(i.showText||"更多")+(h?"":f==="left"?"►":"◄"),p=(i.hideText||"隐藏")+(h?"":f==="left"?"◄":"►"),w=$(t)[0].hasAttribute("hover-show")?"mouseover":"click";(function(){var n='<div id="'+f+'-trigger">'+c+"<\/div>",r=f==="left"?"right":"left",i=e+"{position: absolute;top: 59px;display: none;width: "+s+";"+v+":-"+s+';padding: 8px 0;color: #fff;font-size: 18px;font-weight: bold;text-align: center;background: url("https://cdn.fidlite.com/Web.Portal/_Common/Content/Views/Shared/images/transparent-black.png");border-radius: 6px;cursor: pointer;}';$("head").append('<style type="text/css">'+i+"<\/style>");$(t).append(n)})();function n(){a.stop().animate({width:r?"0":y},300);$(e).text(r?c:p);r=!r}if(w==="mouseover")$(t).mouseenter(function(){n()}).mouseleave(function(){n()});else $(e).on("click",function(){n()});$(window).on("load resize",function(){var i;clearTimeout(i);i=setTimeout(function(){var i=$(window).height(),f=$(t).outerHeight()+u.top;i<f?r&&!o&&(n(),$(e).show("fast"),o=!0):(o=!1,$(e).hide("fast"),r||n())},100)})}else $(window).on("load resize",function(){var n=$(window).height(),i=$(t).outerHeight()+u.top;n<i?$(t).hide():$(t).show()});$(window).on("scroll",function(){$(window).scrollTop()>u.top?$(t).stop().animate({top:$(document).scrollTop()+u.top}):$(t).stop().animate({top:u.top})})}}}]);app.directive("scrollToFixed",function(){return{restrict:"A",link:function(n,t,i){var r={zIndex:null,spacerClass:"spacer",className:"fixed-top"};angular.isDefined(i.scrollToFixed)&&(r.marginTop=parseInt(i.scrollToFixed));angular.isDefined(i.scrollBottom)&&(r.bottom=parseInt(i.scrollBottom),r.limit=t.offset().top);angular.isDefined(i.scrollLimit)&&(r.limit=parseInt(i.scrollLimit));angular.isDefined(i.scrollZindex)&&(r.zIndex=parseInt(i.scrollZindex));angular.isDefined(i.spacerClass)&&(r.spacerClass=i.spacerClass);angular.isDefined(i.className)&&(r.className=i.className);t.scrollToFixed(r)}}});app.directive("scrolltopFixed",[function(){return{restrict:"A",link:function(n,t,i){var r=function(){var n=i.scrolltopFixed||0,r=$("body").width(),u=$(window).width();$(window).scrollTop()>n?$(t).addClass("ScrollTop"):$(t).removeClass("ScrollTop");r>u&&$(t).css("position")==="fixed"?$(window).scrollLeft()>0?$(t).css("left",-$(window).scrollLeft()):$(t).removeAttr("style"):$(t).removeAttr("style")};r();$(window).on("scroll",r)}}}]);app.directive("scrollToTop",[function(){return{restrict:"A",link:function(n,t,i){var r=0,u=i.animate===""||i.animate?!0:!1,f=i.animate===""?"slow":i.animate;i.scrollToTop!==""&&(r=isNaN(parseInt(i.scrollToTop,10))?$(i.scrollToTop).offset().top:parseInt(i.scrollToTop,10));angular.element(t).on("click",function(){u?$("html,body").animate({scrollTop:r},f):window.scrollTo(0,r)})}}}]);app.directive("selectLanguage",["$http","$timeout","languageService",function(n,t,i){return{restrict:"A",link:function(n,r){function f(){r.is("select")?r.change(function(){i.changeLanguage($(this).val()).then(u)}):r.find("[data-language]").click(function(){i.changeLanguage($(this).attr("data-language")).then(u)})}function u(){location.reload()}n.currentLanguage=i.currentLanguage;i.getLanguageData().then(function(i){n.language=i;t(f)})}}}]);app.directive("selfAnnouncement",["ContactInfoService","$timeout",function(n,t){return{restrict:"A",priority:599,link:function(i,r,u){function s(){var n="";n+='<style type="text/css">';n+="[self-announcement] {position: fixed; top: 50%; left: 50%; z-index: 10000; background-color: transparent; overflow: hidden;";n+="width: "+f+"px;";n+="height: "+e+"px;";n+="margin: -"+e/2+"px 0 0 -"+f/2+"px; }";n+="[self-announcement] .closed  {position: absolute; top: 0; right: 0; z-index: 1 ; width: 30px; height: 30px; cursor: pointer;}";n+="<\/style>";$("head").prepend(n)}var f=parseInt(u.iframeWidth),e=parseInt(u.iframeHeight),o=parseInt(u.iframeTime)?parseInt(u.iframeTime):0;if(r.hide(),location.pathname!=="/"){r.remove();return}n.getContactInfo().then(function(n){var u=n,h=location.protocol,i;if(h=="https:"&&u.HttpHtmlDialog.indexOf(h)==-1){r.remove();return}i=document.createElement("iframe");i.src=u.HttpHtmlDialog;i.width=f;i.height=e;i.frameborder=0;i.scrolling="no";i.attachEvent?i.attachEvent("onload",function(){r.show()}):i.onload=function(){r.show()};s();r.append(i);r.children(".closed").on("click",function(){r.remove()});o&&t(function(){r.remove()},o)})}}}]);app.directive("serviceClosed",[function(){return{restrict:"A",link:function(n,t){var i=$(t);i.on("click",function(){i.parents("aside").hide()})}}}]);app.directive("serviceNinja",[function(){return{restrict:"A",link:function(n,t,i){var r=t,u=i.serviceNinja?i.serviceNinja:"fast";r.on("click",function(){r.hasClass("accordion")?r.removeClass("accordion").nextAll("[ninja]").slideDown(u,"linear"):r.addClass("accordion").nextAll("[ninja]").slideUp(u,"linear")});n.$on("$destroy",function(){t.off()})}}}]);app.directive("showContent",["_env",function(n){return{restrict:"A",link:function(t,i){if(n.showContent===undefined||n.showContent.Height!==0){var r=n.showContent!==undefined?n.showContent.Height:0;angular.element(i).on("click",function(){var n=i.next(".content").offset().top-r;$("html,body").animate({scrollTop:n},"fast")})}}}}]);app.directive("slideBanner",["$compile","SliderService",function(n,t){return{restrict:"A",link:function(i,r,u){var f=r.css("display")||"block";r.css("display","none");t.getSliderNew().then(function(t){var s=t,c,l,o,a;if(s.length!==0){r.css("display",f);var h=[],v=$(r).children(".slide"),e=u.slidePager===undefined||u.slidePager===""?!1:u.slidePager;if(e&&(c=r.find(".slide-pager")),l=$(r)[0].hasAttribute("default-url"),o=[{regexp:/^https?|^\/Yuebao/i,temp:'<a href="${link}" target="_blank">${img}<\/a>'},{regexp:/\(\)$/,temp:'<a href="javascript:void(0)" ng-click="${link}">${img}<\/a>'},{regexp:/.*/,temp:'<a href="${link}">${img}<\/a>'}],angular.forEach(s,function(n,t){for(var s,r="https://cdn.fidlite.com/"+n.Url,a=$("<img>").attr("src",r)[0].outerHTML,f=n.Link!==""?n.Link:l?u.defaultUrl:"javascript:void(0)",i=0;i<o.length;i++)if(o[i].regexp instanceof RegExp&&o[i].regexp.test(f)){h[t]=o[i].temp.replace("${link}",f).replace("${img}",a);break}e&&/img/gi.test(e)&&(s=e.replace(/<img>/gi,'<img src="'+r+'" />'),c.append($("<li>").append(s)))}),a=h.join(""),v.append(n(a)(i)),s.length===1){r.find(".slide-pager").css("display","none");r.find(".slide-click").css("display","none");return}$(r).slide({titCell:e?"ul.slide-pager li":"ul.slide-pager",mainCell:"div.slide",autoPage:e?!1:!0,autoPlay:!0,vis:u.slideVis?u.slideVis:"1",effect:u.slideEffect||"fold",interTime:parseInt(u.slideDuration)||3e3,delayTime:parseInt(u.slideDelay)||500,easing:u.slideEase||"swing",trigger:u.slideTrigger||"click"})}})}}}]);app.directive("slideMenu",[function(){return{restrict:"A",link:function(n,t,i){$(t).find(".subnav").parent().addClass("has-menu");var r=i.slideMenu,u=$(t).attr("time"),f=r?r:"slideDown",e=u?u:"300";$(t).slide({type:"menu",titCell:".has-menu",targetCell:".subnav",effect:f,delayTime:e})}}}]);app.directive("slideNavbg",[function(){return{restrict:"A",link:function(n,t,i){var u,h=location.pathname,f=$(t).children("ul"),e=f.children("li"),o=i.slideNavbg===""?100:parseInt(i.slideNavbg),s=$(t)[0].hasAttribute("return-current"),r;if(f.append("<li id='slide-block'><\/li>"),r=$("#slide-block"),e.each(function(){$(this).children("a").attr("href")===h&&(u=$(this).position().left)}),s){function n(){r.stop().animate({left:r.data("origLeft")})}}else function n(){return}r.css("left",u||0).data("origLeft",r.position().left);e.hover(function(){u=$(this).position().left;r.stop().animate({left:u},o)},function(){s()},o)}}}]);app.directive("superJackpot",["$filter",function(){function n(n){n=(Math.round(n*100)/100).toString().replace(/^(\d*)$/,"$1.");n=(n+"00").replace(/(\d*\.\d{2})\d*/,"$1");n=n.replace(".",",");for(var t=/(\d)(\d{3},)/;t.test(n);)n=n.replace(t,"$1,$2");return n.replace(/,(\d{2})$/,".$1")}return{restrict:"AE",link:function(t,i){var r=parseInt("6"+Math.floor(Math.random()*1e6));$(i).html(n(r));setInterval(function(){var t=Math.random()*1e3;r+=t;$(i).html(n(r))},Math.random()*2e4)}}}]);app.directive("systemNumber",["SystemNumberService",function(n){return{link:function(t,i){(function(){n.getCodeSingleton().then(function(n){var t=n;if(t===""){i.remove();return}i.text(t)})})()}}}]);app.directive("toggleColor",["$interval",function(n){return{restrict:"A",link:function(t,i,r){function s(){i.css("color","#"+f[u]);u=u>=f.length-1?0:u+1}function h(){i.toggleClass("color")}var f=r.colors?r.colors.split(","):!1,o=r.toggleColor?r.toggleColor:500,e,u=0;f?e=n(s,o):(i.addClass("toggle-color"),e=n(h,o));i.on("$destroy",function(){n.cancel(e)})}}}]);app.directive("trialClick",["$modal","$rootScope",function(n,t){return{restrict:"A",link:function(i,r){function u(){t.trialModalIsShow||(t.trialModalIsShow=!0,n.open({templateUrl:"/Trial/NewIndex",controller:"TrialNewCtrl",windowClass:"modal-nt",resolve:{}}).result.then(function(){t.trialModalIsShow=!1},function(){t.trialModalIsShow=!1}))}r.on("click",u)}}}]);app.directive("winnerList",["_env","$compile",function(n,t){return{restrict:"A",scope:{},template:'<ul class="winner-list-target"><\/ul>',link:function(i,r,u){function e(){var e=u.winnerAssign?u.winnerAssign:"default",t=JSON.parse(JSON.stringify(n.winnerListRoll[e])),o=t.length,r,f;for(i.winnerList=[],r=0;r<o;r++)f=Math.floor(Math.random()*t.length),i.winnerList.push(t[f]),t.splice(f,1)}function o(){for(var o,f=u.winnerFormat.split(","),s=angular.element(r[0].querySelector("ul.winner-list-target")),e="",n=0;n<f.length;n++)e+='<span class="'+f[n]+'" title="{{item.'+f[n]+'}}">{{item.'+f[n]+"}}<\/span>";o='<li ng-repeat="item in winnerList track by $index" ng-cloak>'+e+"<\/li>";s.append(t(o)(i))}function s(){r.slide({mainCell:".winner-list-target",autoPlay:u.winnerAuto||!0,effect:u.winnerEffect||"topMarquee",vis:parseInt(u.winnerVis,10)||10,interTime:parseInt(u.winnerInterTime,10)||50,scroll:parseInt(u.winnerScroll,10)||1,delayTime:parseInt(u.winnerDelayTime,10)||500,mouseOverStop:u.winnerMouseoverStop||!1})}var f=function(){var n=angular.element("#home").length||window.location.pathname==="/"?"home":window.location.pathname.replace(/\/lobby\/|\//gi,""),t=u.winnerDisablePage?u.winnerDisablePage.replace(/\,/g,"|"):"normal",i=new RegExp(t,"gi");if(n.match(i))return!0}();if(f){r.remove();return}e();o();$(function(){s()})}}}]);app.directive("yuebaoLink",["$compile","FunctionSwitchService",function(n,t){return{link:function(i,r,u){var h=u.isLogin==="true",f=r[0].hasAttribute("yuebao-title")?u.yuebaoTitle:"",c=r[0].hasAttribute("yuebao-remove"),e=u.notShowPage?u.notShowPage.replace(/\//g,"").replace(/,/g,"|"):!1,l=!!$("#home").length||location.pathname==="/"?"home":location.pathname.replace(/\//g,""),a='<a href="javascript:void(0)" data-popup-opener="/Yuebao" data-popup-opener-options="width = 1284, height = 893, resizable, scrollbars = yes" data-popup-opener-name="_yuebao">'+f+"<\/a>",o='<a href="javascript:void(0)">'+f+"<\/a>",s;if(e&&(s=new RegExp(e,"i"),s.test(l))){r.remove();return}if(h)t.getEnableFunctionSwitch().then(function(t){var u=t.YuebaoSwitch;if(u)r.html(n(a)(i));else return c?r.remove():r.html(o)});else return r.html(o)}}}]),function(n){n.fn.slide=function(t){return n.fn.slide.defaults={type:"slide",effect:"fade",autoPlay:!1,delayTime:500,interTime:2500,triggerTime:150,defaultIndex:0,titCell:".hd li",mainCell:".bd",targetCell:null,trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",pageStateCell:".pageState",opp:!1,pnLoop:!0,easing:"swing",startFun:null,endFun:null,switchLoad:null,playStateCell:".playState",mouseOverStop:!0,defaultPlay:!0,returnDefault:!1},this.each(function(){var u=n.extend({},n.fn.slide.defaults,t),v=n(this),a=u.effect,d=n(u.prevCell,v),g=n(u.nextCell,v),ir=n(u.pageStateCell,v),ot=n(u.playStateCell,v),c=n(u.titCell,v),o=c.size(),i=n(u.mainCell,v),f=i.children().size(),nt=u.switchLoad,ft=n(u.targetCell,v),r=parseInt(u.defaultIndex),l=parseInt(u.delayTime),gt=parseInt(u.interTime),ur=parseInt(u.triggerTime),s=parseInt(u.scroll),pi=u.autoPlay=="false"||u.autoPlay==!1?!1:!0,ni=u.opp=="false"||u.opp==!1?!1:!0,rr=u.autoPage=="false"||u.autoPage==!1?!1:!0,lt=u.pnLoop=="false"||u.pnLoop==!1?!1:!0,ti=u.mouseOverStop=="false"||u.mouseOverStop==!1?!1:!0,ht=u.defaultPlay=="false"||u.defaultPlay==!1?!1:!0,wi=u.returnDefault=="false"||u.returnDefault==!1?!1:!0,p=isNaN(u.vis)?1:parseInt(u.vis),ii=!-[1,]&&!window.XMLHttpRequest,y=0,e=0,ct=0,at=0,w=u.easing,et=null,vt=null,yt=null,tt=u.titOnClassName,bi=c.index(v.find("."+tt)),ri=r=bi==-1?r:bi,ki=r,st=r,h=f>=p?f%s!=0?f%s:s:0,b,it=a=="leftMarquee"||a=="topMarquee"?!0:!1,di=function(){n.isFunction(u.startFun)&&u.startFun(r,o,v,n(u.titCell,v),i,ft,d,g)},k=function(){n.isFunction(u.endFun)&&u.endFun(r,o,v,n(u.titCell,v),i,ft,d,g)},ui=function(){c.removeClass(tt);ht&&c.eq(ki).addClass(tt)},pt,wt,rt,fi,ei,nr,vi,yi,tr,dt;if(u.type=="menu"){ht&&c.removeClass(tt).eq(r).addClass(tt);c.hover(function(){b=n(this).find(u.targetCell);var t=c.index(n(this));vt=setTimeout(function(){r=t;c.removeClass(tt).eq(r).addClass(tt);di();switch(a){case"fade":b.stop(!0,!0).animate({opacity:"show"},l,w,k);break;case"slideDown":b.stop(!0,!0).animate({height:"show"},l,w,k)}},u.triggerTime)},function(){clearTimeout(vt);switch(a){case"fade":b.animate({opacity:"hide"},l,w);break;case"slideDown":b.animate({height:"hide"},l,w)}});wi&&v.hover(function(){clearTimeout(yt)},function(){yt=setTimeout(ui,l)});return}if(o==0&&(o=f),it&&(o=2),rr){if(f>=p?a=="leftLoop"||a=="topLoop"?o=f%s!=0?(f/s^0)+1:f/s:(pt=f-p,o=1+parseInt(pt%s!=0?pt/s+1:pt/s),o<=0&&(o=1)):o=1,c.html(""),wt="",u.autoPage==!0||u.autoPage=="true")for(rt=0;rt<o;rt++)wt+="<li>"+(rt+1)+"<\/li>";else for(rt=0;rt<o;rt++)wt+=u.autoPage.replace("$",rt+1);c.html(wt);c=c.children()}if(f>=p){i.children().each(function(){n(this).width()>ct&&(ct=n(this).width(),e=n(this).outerWidth(!0));n(this).height()>at&&(at=n(this).height(),y=n(this).outerHeight(!0))});fi=i.children();ei=function(){for(var n=0;n<p;n++)fi.eq(n).clone().addClass("clone").appendTo(i);for(n=0;n<h;n++)fi.eq(f-n-1).clone().addClass("clone").prependTo(i)};switch(a){case"fold":i.css({position:"relative",width:e,height:y}).children().css({position:"absolute",width:ct,left:0,top:0,display:"none"});break;case"top":i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+p*y+'px"><\/div>').css({top:-(r*s)*y,position:"relative",padding:"0",margin:"0"}).children().css({height:at});break;case"left":i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+p*e+'px"><\/div>').css({width:f*e,left:-(r*s)*e,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({float:"left",width:ct});break;case"leftLoop":case"leftMarquee":ei();i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+p*e+'px"><\/div>').css({width:(f+p+h)*e,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-(h+r*s)*e}).children().css({float:"left",width:ct});break;case"topLoop":case"topMarquee":ei();i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+p*y+'px"><\/div>').css({height:(f+p+h)*y,position:"relative",padding:"0",margin:"0",top:-(h+r*s)*y}).children().css({height:at})}}var oi=function(n){var t=n*s;return n==o?t=f:n==-1&&f%s!=0&&(t=-f%s),t},gi=function(t){var u=function(r){for(var u=r;u<p+r;u++)t.eq(u).find("img["+nt+"]").each(function(){var r=n(this),u,t;if(r.attr("src",r.attr(nt)).removeAttr(nt),i.find(".clone")[0])for(u=i.children(),t=0;t<u.size();t++)u.eq(t).find("img["+nt+"]").each(function(){n(this).attr(nt)==r.attr("src")&&n(this).attr("src",n(this).attr(nt)).removeAttr(nt)})})},f;switch(a){case"fade":case"fold":case"top":case"left":case"slideDown":u(r*s);break;case"leftLoop":case"topLoop":u(h+oi(st));break;case"leftMarquee":case"topMarquee":var o=a=="leftMarquee"?i.css("left").replace("px",""):i.css("top").replace("px",""),c=a=="leftMarquee"?e:y,l=h;o%c!=0&&(f=Math.abs(o/c^0),l=r==1?h+f:h+f-1);u(l)}},ut=function(n){var t,u,v;if(!ht||ri!=r||n||it){if(it?r>=1?r=1:r<=0&&(r=0):(st=r,r>=o?r=0:r<0&&(r=o-1)),di(),nt!=null&&gi(i.children()),ft[0]&&(b=ft.eq(r),nt!=null&&gi(ft),a=="slideDown"?(ft.not(b).stop(!0,!0).slideUp(l),b.slideDown(l,w,function(){i[0]||k()})):(ft.not(b).stop(!0,!0).hide(),b.animate({opacity:"show"},l,function(){i[0]||k()}))),f>=p)switch(a){case"fade":i.children().stop(!0,!0).eq(r).animate({opacity:"show"},l,w,function(){k()}).siblings().hide();break;case"fold":i.children().stop(!0,!0).eq(r).animate({opacity:"show"},l,w,function(){k()}).siblings().animate({opacity:"hide"},l,w);break;case"top":i.stop(!0,!1).animate({top:-r*s*y},l,w,function(){k()});break;case"left":i.stop(!0,!1).animate({left:-r*s*e},l,w,function(){k()});break;case"leftLoop":t=st;i.stop(!0,!0).animate({left:-(oi(st)+h)*e},l,w,function(){t<=-1?i.css("left",-(h+(o-1)*s)*e):t>=o&&i.css("left",-h*e);k()});break;case"topLoop":t=st;i.stop(!0,!0).animate({top:-(oi(st)+h)*y},l,w,function(){t<=-1?i.css("top",-(h+(o-1)*s)*y):t>=o&&i.css("top",-h*y);k()});break;case"leftMarquee":u=i.css("left").replace("px","");r==0?i.animate({left:++u},0,function(){i.css("left").replace("px","")>=0&&i.css("left",-f*e)}):i.animate({left:--u},0,function(){i.css("left").replace("px","")<=-(f+h)*e&&i.css("left",-h*e)});break;case"topMarquee":v=i.css("top").replace("px","");r==0?i.animate({top:++v},0,function(){i.css("top").replace("px","")>=0&&i.css("top",-f*y)}):i.animate({top:--v},0,function(){i.css("top").replace("px","")<=-(f+h)*y&&i.css("top",-h*y)})}c.removeClass(tt).eq(r).addClass(tt);ri=r;lt||(g.removeClass("nextStop"),d.removeClass("prevStop"),r==0&&d.addClass("prevStop"),r==o-1&&g.addClass("nextStop"));ir.html("<span>"+(r+1)+"<\/span>/"+o)}};ht&&ut(!0);wi&&v.hover(function(){clearTimeout(yt)},function(){yt=setTimeout(function(){r=ki;ht?ut():a=="slideDown"?b.slideUp(l,ui):b.animate({opacity:"hide"},l,ui);ri=r},300)});var si=function(n){et=setInterval(function(){ni?r--:r++;ut()},!n?gt:n)},bt=function(n){et=setInterval(ut,!n?gt:n)},kt=function(){ti||!pi||ot.hasClass("pauseState")||(clearInterval(et),si())},hi=function(){(lt||r!=o-1)&&(r++,ut(),it||kt())},ci=function(){(lt||r!=0)&&(r--,ut(),it||kt())},li=function(){clearInterval(et);it?bt():si();ot.removeClass("pauseState")},ai=function(){clearInterval(et);ot.addClass("pauseState")};pi?it?(ni?r--:r++,bt(),ti&&i.hover(ai,li)):(si(),ti&&v.hover(ai,li)):(it&&(ni?r--:r++),ot.addClass("pauseState"));ot.click(function(){ot.hasClass("pauseState")?li():ai()});u.trigger=="mouseover"?c.hover(function(){var n=c.index(this);vt=setTimeout(function(){r=n;ut();kt()},u.triggerTime)},function(){clearTimeout(vt)}):c.click(function(){r=c.index(this);ut();kt()});it?(g.mousedown(hi),d.mousedown(ci),lt&&(vi=function(){nr=setTimeout(function(){clearInterval(et);bt(gt/10^0)},150)},yi=function(){clearTimeout(nr);clearInterval(et);bt()},g.mousedown(vi),g.mouseup(yi),d.mousedown(vi),d.mouseup(yi)),u.trigger=="mouseover"&&(g.hover(hi,function(){}),d.hover(ci,function(){}))):(g.click(hi),d.click(ci));u.vis=="auto"&&s==1&&(a=="left"||a=="leftLoop")&&(dt=function(){ii&&(i.width("auto"),i.children().width("auto"));i.parent().width("auto");e=i.parent().width();ii&&i.parent().width(e);i.children().width(e);a=="left"?(i.width(e*f),i.stop(!0,!1).animate({left:-r*e},0)):(i.width(e*(f+2)),i.stop(!0,!1).animate({left:-(r+1)*e},0));ii||e==i.parent().width()||dt()},n(window).resize(function(){clearTimeout(tr);tr=setTimeout(dt,100)}),dt())})}}(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,i,r,u){return jQuery.easing[jQuery.easing.def](n,t,i,r,u)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInOutBack:function(n,t,i,r,u,f){return(f==undefined&&(f=1.70158),(t/=u/2)<1)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},easeInBounce:function(n,t,i,r,u){return r-jQuery.easing.easeOutBounce(n,u-t,0,r,u)+i},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,t,i,r,u){return t<u/2?jQuery.easing.easeInBounce(n,t*2,0,r,u)*.5+i:jQuery.easing.easeOutBounce(n,t*2-u,0,r,u)*.5+r*.5+i}})