!function(o){var t={};function e(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return o[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=o,e.c=t,e.d=function(o,t,n){e.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:n})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,t){if(1&t&&(o=e(o)),8&t)return o;if(4&t&&"object"==typeof o&&o&&o.__esModule)return o;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var a in o)e.d(n,a,function(t){return o[t]}.bind(null,a));return n},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},e.p="./",e(e.s=0)}([function(o,t,e){o.exports=e(1)},function(o,t,e){"use strict";e.r(t);var n={};function a(o,t,e){for(var n=0,a=0,r=0;r<o.length;r++)if("secureConnectionStart"!==t||o[r][t]){var i=o[r][e]-o[r][t];i>0&&i<8e3&&(n+=i,a++)}return 0===n?0:n/a}function r(){var o,t,e,n=(o=performance.getEntries(),t=/(http|https):\/\/(www.)?(\w+(-)?(\.)?)+/g,e={},o.forEach((function(o){if(o.name.match(t)){var n=o.name.match(t)[0];e[n]?e[n].push(o):e[n]=[o]}})),e),r={};return Object.keys(n).forEach((function(o){var t=n[o],e=a(t,"domainLookupStart","domainLookupEnd"),i=a(t,"connectStart","connectEnd"),l=a(t,"secureConnectionStart","connectEnd"),s=a(t,"requestStart","responseEnd"),c=a(t,"requestStart","responseStart"),d=a(t,"responseStart","responseEnd"),u=a(t,"startTime","responseStart");r[o]={dnstime:e,tcptime:i,ssltime:l,responseTotal:s,requestTime:c,responseTime:d,ttfb:u}})),console.log(r),r}function i(o,t){var e,a,r,i,l,s,c,d,u,p,m,w,v,f,b,g,h,y,O,T,M,C,S,D,P,j,L=t.slsOpts,k=t.isHomepage;if("TTFB"===o.name&&o.entries[0]?n[o.name]=o.value-o.entries[0].requestStart:n[o.name]=o.value,"LCP"===o.name&&(null===(e=null==o?void 0:o.entries[o.entries.length-1])||void 0===e?void 0:e.element)&&(n.lcpDOM=null===(a=o.entries[o.entries.length-1].element)||void 0===a?void 0:a.outerHTML.substr(0,50),console.log(n.lcpDOM,"lcpDOM")),"CLS"===o.name&&o.entries.length&&(o.entries.sort((function(o,t){return t.value-o.value})),(null===(r=o.entries[0])||void 0===r?void 0:r.sources)&&(null===(i=o.entries[0])||void 0===i?void 0:i.sources.length)&&((null===(c=null===(s=null===(l=o.entries[0])||void 0===l?void 0:l.sources[0])||void 0===s?void 0:s.node)||void 0===c?void 0:c.outerHTML)?n.clsDOM=null===(m=null===(p=null===(u=null===(d=o.entries[0])||void 0===d?void 0:d.sources[0])||void 0===u?void 0:u.node)||void 0===p?void 0:p.outerHTML)||void 0===m?void 0:m.substr(0,50):(null===(f=null===(v=null===(w=o.entries[0])||void 0===w?void 0:w.sources[0])||void 0===v?void 0:v.node)||void 0===f?void 0:f.innerHTML)?n.clsDOM=null===(y=null===(h=null===(g=null===(b=o.entries[0])||void 0===b?void 0:b.sources[0])||void 0===g?void 0:g.node)||void 0===h?void 0:h.innerHTML)||void 0===y?void 0:y.substr(0,50):(null===(M=null===(T=null===(O=o.entries[0])||void 0===O?void 0:O.sources[0])||void 0===T?void 0:T.node)||void 0===M?void 0:M.parentNode)&&(n.clsDOM=null===(j=null===(P=null===(D=null===(S=null===(C=o.entries[0])||void 0===C?void 0:C.sources[0])||void 0===S?void 0:S.node)||void 0===D?void 0:D.parentNode)||void 0===P?void 0:P.innerHTML)||void 0===j?void 0:j.substr(0,50))),n.clsDOMValue=o.entries[0].value,console.log(n.clsDOM,"clsDOM"),console.log(n.clsDOMValue,"clsDOM_Value")),console.log(o.name+": "+o.value),null!=n.LCP&&null!=n.CLS){var E={};n.lcpDOM&&(E.p2=n.lcpDOM),n.clsDOM&&n.clsDOMValue&&(E.p20=n.clsDOM,E.p21=n.clsDOMValue),console.log(n,"perf log"),window.trace.setConfig({pid:"tmall-oversea-seo"}),window.trace.log(Object.assign({code:12,type:"webvitals",msg:"webvitals",sampleRate:1,c1:n.LCP,c2:n.FID||50,c3:n.CLS,c4:n.TTFB,c5:n.FCP},L,E)),k&&window.trace.setConfig({pid:"overseaMain"})}}function l(o,t){var e=document.createElement("script");e.defer=!0,e.src=o,e.onload=t,document.head.appendChild(e)}var s=Object.assign({},window.seo_log_config||{},window.log_config||{}),c=s.hasArmsSDK,d=void 0!==c&&c,u=s.hasJstrackerSDK,p=void 0!==u&&u,m=s.notInitArmsSdk,w=void 0!==m&&m,v=s.armsPid,f=void 0===v?"tmall-oversea-seo":v,b=s.isHomepage,g=void 0!==b&&b,h=s.domainListNeedCollect,y=void 0===h?[]:h,O=s.seoCwvCollectConfig,T=void 0===O?{doCollectCWV:!0,logPath:""}:O,M=T.doCollectCWV,C=T.logPath,S=[].concat(["h5api.m.taobao.com","g.alicdn.com","gw.alicdn.com","img.alicdn.com","world.taobao.com","www.taobao.com","m.intl.taobao.com","guide-acs.m.taobao.com","trade-acs.m.taobao.com","acs-m.taobao.com","h5api-intl.m.taobao.com"],y);function D(){if(d&&!w||(window.trace=TraceSdk({pid:f,plugins:[[TracePvPlugin,{autoPV:!0}],[TraceApiPlugin,{sampling:1}],[TracePerfPlugin,{enableLCP:!0}],[TraceResourceErrorPlugin]]}),window.trace.install()),M){l("https://unpkg.com/web-vitals@3.1.1/dist/web-vitals.iife.js",(function(){return function(o){webVitals.onCLS((function(t){return i(t,o)})),webVitals.onFID((function(t){return i(t,o)})),webVitals.onLCP((function(t){return i(t,o)})),webVitals.onFCP((function(t){return i(t,o)})),webVitals.onTTFB((function(t){return i(t,o)}))}(s)}));var o=function(o){var t="https://world.taobao.com",e={"list/category/":"https://www.taobao.com/list/category","list/product/":"https://www.taobao.com/list/product","list/category/keywords/":"https://www.taobao.com/list/category/keywords","list/category/wap/":"https://www.taobao.com/list/wap/category","list/product/wap/":"https://www.taobao.com/list/wap/product","list/item/":"https://www.taobao.com/list/item","list/item/wap/":"https://www.taobao.com/list/item/wap","list/product/top-rated":"https://www.taobao.com/list/product/top-rated","list/product/top-rated/wap":"https://www.taobao.com/list/product/top-rated/wap","world.taobao.com/category/":"https://world.taobao.com/category","world.taobao.com/product/":"https://world.taobao.com/product","world.taobao.com/category/keywords/":"https://world.taobao.com/category/keywords","world.taobao.com/category/wap/":"https://world.taobao.com/category/wap","world.taobao.com/product/wap/":"https://world.taobao.com/product/wap","world.taobao.com/item/":"https://world.taobao.com/item","world.taobao.com/item/wap/":"https://world.taobao.com/item/wap","world.taobao.com/dianpu":"https://world.taobao.com/dianpu","world.taobao.com/qingdan":"https://world.taobao.com/qingdan","world.taobao.com/jiage":"https://world.taobao.com/jiage","world.taobao.com/product/top-rated":"https://world.taobao.com/product/top-rated","world.taobao.com/product/top-rated/wap":"https://world.taobao.com/product/top-rated/wap","m.intl.taobao.com/detail/detail":"https://m.intl.taobao.com/detail/detail.html"};if(o)t=o;else for(var n in e)location.href.indexOf(n)>-1&&(t=e[n]);return t}(C);console.log(o,"logUrl"),window.trace.before("send",(function(t){t.url=o}))}var t=r();S.forEach((function(o){var e="https://"+o;t[e]&&(window.trace.setConfig({pid:"tmall-oversea-seo"}),window.trace.log({code:12,type:"network",msg:"network",sampleRate:1,c1:o,c2:t[e].dnstime,c3:t[e].tcptime,c4:t[e].ssltime,c5:t[e].responseTotal,p6:t[e].requestTime,p7:t[e].responseTime,p8:t[e].ttfb}),g&&window.trace.setConfig({pid:"overseaMain"}))}))}p&&window.addEventListener("jstracker.fsp",(function(o){var t=o.detail,e=t.cost,n=t.timestamp;console.log(o.detail,n),function(o){var t=r();S.forEach((function(e){var n="https://"+e;if(t[n]&&p){var a={name:""+e,url:window.location.host+window.location.pathname,st:t[n].dnstime,ser:t[n].tcptime,req:t[n].ssltime,duration:o,size:t[n].responseTotal,ratio:t[n].requestTime,speed:t[n].responseTime,repeatUseDns:0===t[n].dnstime,ttfb:t[n].ttfb};window.JSTracker2.push({type:"api_perf",msg:JSON.stringify(a),sampling:1,name:"performance"})}}))}(e)})),d?D():l("//g.alicdn.com/trace/trace/??sdk.js,resourceError-plugin.js,perf-plugin.js,pv-plugin.js,api-plugin.js",D)}]);