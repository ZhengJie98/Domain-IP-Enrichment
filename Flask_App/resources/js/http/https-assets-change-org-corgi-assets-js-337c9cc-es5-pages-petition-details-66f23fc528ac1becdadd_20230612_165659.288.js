"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6644],{42484:function(t,e,n){n.d(e,{E:function(){return kt}});var r=n(14818),i=n(29498),o=n(49458),a=n(1558),c=n.n(a),s=n(83843),u=n.n(s),l=n(63750),p=n(58730),d=n(76441),f=n(58745),m=n(5307),h=n(79809),v=n(45866),g=n(60079),b=n(30429),y=n(90999),_=(0,g.A)({name:"ReportAbuseConfirmModal",title:function(){return(0,y.tZ)(m.v,{value:"fe.components.petition_report_abuse.form_title"})},body:function(){return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.J,{icon:v.Z,size:"m",mr:8,sx:{transform:"translateY(2px)"}}),(0,y.tZ)(b.xv,{children:(0,y.tZ)(m.v,{value:"fe.components.petition_report_abuse.form_confirmation"})})]})}}),O=n(83644),Z=n(59246),w=n(79757),x=n(54814);function P(t){var e=t.type;return(0,(0,Z.Q)().translate)("fe.components.".concat(e,"_report_abuse.notice"),{tosUrl:"",cgUrl:""}).includes("<a")?(0,y.tZ)(b.xv,{as:"div",size:"caption",sx:{textAlign:"center"},mt:16,children:(0,y.tZ)(w.B,{value:"fe.components.".concat(e,"_report_abuse.notice"),replacements:{tosUrl:"/policies/terms",cgUrl:"/policies/community"}})}):(0,y.tZ)(b.xv,{as:"div",size:"caption",sx:{textAlign:"center"},mt:16,children:(0,y.tZ)(w.B,{value:"fe.components.".concat(e,"_report_abuse.notice"),replacements:{tosUrl:(0,y.tZ)(x.r,{to:"/policies/terms",children:(0,y.tZ)(m.v,{value:"fe.pages.terms_of_service.title"})}),cgUrl:(0,y.tZ)(x.r,{to:"/policies/community",children:(0,y.tZ)(m.v,{value:"fe.pages.community_guidelines.title"})})}})})}function k(){return(0,y.tZ)(b.xv,{as:"div",children:(0,y.tZ)(w.B,{value:"fe.components.petition_report_abuse.form_description",replacements:{tosUrl:"/policies/terms",cgUrl:"/policies/community"}})})}var j=n(23476),C=n(26223),S=n(86642),D=n(49670),I=n(86802);function E(){return(0,y.tZ)(I.z,{type:"submit",children:(0,y.tZ)(m.v,{value:"fe.components.petition_report_abuse.form_submit"})})}var M=n(36477),N=n(1951),B=n(4662),R=n(41015),H=n(24916);function T(t,e){var n=(0,Z.Q)(),r=n.translate,o=n.translationExists;return(0,i.useCallback)((function(n,i){var a="".concat("subcategory"===e?"abuse_sub_category":"abuse_category").concat(i?"_help":"",".").concat(n);return r(o("fe.components.".concat(t,"_report_abuse.").concat(a))?(0,S.B)("fe.components.".concat(t,"_report_abuse.").concat(a)):(0,S.B)("fe.components.petition_report_abuse.".concat(a)))}),[t,e,r,o])}var z=n(77754);function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){(0,O.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q=["dont_like","spam","infringes_rights","abusive_hateful_content","inappropriate_images","child_abuse","suicide_self_harm","impersonation"],X={petition:{}};var V={spam:"Misleading or Spam",infringes_rights:"Infringes on my rights",abusive_hateful_content:"Abusive or hateful",inappropriate_images:"Inappropriate images",child_abuse:"Harmful to children",suicide_self_harm:"Violence, suicide or self harm",impersonation:"Impersonation"},$={petition:A(A({},V),{},{dont_like:"I don't like this petition"}),comment:A(A({},V),{},{dont_like:"I don't like this comment"})};var F=(0,H.np)({i18n:{key:(0,S.B)("fe.components.petition_report_abuse.errors.category_required")}});function L(t){var e=t.type,n=t.category,r=(0,C.cI)(),o=(0,C.U$)("category",{type:"radio",value:n}).input,a=T(e,"category"),c=(0,i.useCallback)((function(t){r.change("subCategory",""),o.onChange(t)}),[r,o]);return(0,y.BX)(B.x,{my:4,children:[(0,y.tZ)(M.Y,{id:"report-abuse-category-".concat(n),label:a(n),value:o.value,name:o.name,checked:o.checked,onChange:c,"data-testid":"reportAbuse-category-".concat(n,"-radio"),"data-qa":"reportAbuse-category-".concat(n,"-radio")}),(0,y.tZ)(B.x,{sx:{display:o.checked?"block":"none"},pl:"m",children:(0,y.tZ)(b.xv,{as:"div",size:"caption",color:"typography-secondary",children:a(n,!0)})})]})}function Y(t){var e=t.type,n=t.countryCode,r=(0,R.m)().getErrorMessage,o=(0,i.useMemo)((function(){return function(t,e){var n=X[t]||{};return[].concat(q,(0,z.Z)(n[e]||[]))}(e,n)}),[e,n]);return(0,y.tZ)(B.x,{p:4,children:(0,y.tZ)(C.gN,{name:"category",subscription:{error:!0,touched:!0},validate:F,children:function(t){var n=t.meta;return(0,y.tZ)(N.E,{id:"report-abuse-category",error:n.touched&&r(n.error),children:o.map((function(t){return(0,y.tZ)(L,{type:e,category:t},t)}))})}})})}var G=n(17656);function Q(t){var e=t.error,n=(0,R.m)().getErrorMessage;return(0,y.tZ)(G.g,{size:"large",variant:"error",my:16,children:n(e)})}function FormError(){return(0,y.tZ)(C.lP,{subscription:{submitError:!0,submitting:!0},children:function(t){var e=t.submitError,n=t.submitting;return e&&!n?(0,y.tZ)(Q,{error:e}):null}})}var W=n(98036),J=n(58655);function K(t){var e=t.errors,n=(0,R.m)().getErrorMessage;return e?(0,y.tZ)(J.T,{children:(0,y.BX)(G.g,{size:"large",role:"alert",variant:"error",children:[(0,y.tZ)(m.v,{value:"corgi.components.form.invalid.alert"}),(0,y.tZ)("ul",{children:Object.entries(e).map((function(t){var e=(0,W.Z)(t,2),r=e[0],i=e[1];return(0,y.tZ)("li",{children:n(i)},r)}))})]})}):null}function InvalidFormError(){return(0,y.tZ)(C.lP,{subscription:{hasValidationErrors:!0,errors:!0,modifiedSinceLastSubmit:!0,submitFailed:!0},children:function(t){var e=t.hasValidationErrors,n=t.errors,r=t.submitFailed,i=t.modifiedSinceLastSubmit;return e&&r&&!i?(0,y.tZ)(K,{errors:n}):null}})}var tt=n(70586),et=(0,H.np)({i18n:{key:(0,S.B)("fe.components.petition_report_abuse.errors.reason_required")}});function nt(t){var e=t.type,n=(0,Z.Q)().translate,r=(0,R.m)().getErrorMessage;return(0,y.tZ)(B.x,{mb:8,children:(0,y.tZ)(C.gN,{name:"reason",validate:et,children:function(t){var i=t.input,o=t.meta;return(0,y.tZ)(tt.g,{id:"report-abuse-reason",rows:4,name:i.name,value:i.value,onChange:i.onChange,onFocus:i.onFocus,onBlur:i.onBlur,error:o.touched&&r(o.error),placeholder:n("fe.components.".concat(e,"_report_abuse.form_placeholder")),"aria-label":n("fe.components.".concat(e,"_report_abuse.form_placeholder")),label:n("fe.components.".concat(e,"_report_abuse.form_placeholder")),"data-testid":"reportAbuse-reason-input"})}})})}var rt=n(6086);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){(0,O.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var at={dont_like:[],spam:["fake_news","misleading","spam"],infringes_rights:[],abusive_hateful_content:["hate_speech","bullying","defamatory_content"],inappropriate_images:["unauthorized_use_of_my_image","image_too_graphic"],child_abuse:["child_pornography","unauthorized_use_of_minor"],suicide_self_harm:["suicide_self_harm","violence_incitement"],impersonation:["did_not_sign","impersonation"]},ct={petition:ot(ot({},at),{},{spam:[].concat((0,z.Z)(at.spam),["content_changed"]),infringes_rights:[].concat((0,z.Z)(at.infringes_rights),["defamatory_content","plagiarism","copyright_infringement","trademark_infringement","personal_information_exposure"])}),comment:ot(ot({},at),{},{spam:[].concat((0,z.Z)(at.spam),["against_petition"]),infringes_rights:[].concat((0,z.Z)(at.infringes_rights),["defamatory_content","personal_information_exposure"])})};var st="N/A",ut={fake_news:"Fake news",spam:"Spam",defamatory_content:"Defamatory",personal_information_exposure:"Personal Information Exposure",hate_speech:"Hate Speech",bullying:"Bullying or Harassment",unauthorized_use_of_my_image:"Unauthorized Use of my Image",image_too_graphic:"Image is too Graphic",child_pornography:"Child Sexual Exploitation",unauthorized_use_of_minor:"Unauthorized Use of a Child's Photo or Name",suicide_self_harm:"Suicide or Self Harm",violence_incitement:"Incites Violence",did_not_sign:"I did not sign this petition"},lt={petition:ot(ot({},ut),{},{misleading:"Misleading content",against_petition:st,content_changed:"legal___abuse___high_risk__petition_content_dramatically_changed",plagiarism:"Plagiarism",copyright_infringement:"Copyright Infringement",trademark_infringement:"Trademark Infringement",impersonation:"I Did Not Start this Petition"}),comment:ot(ot({},ut),{},{misleading:"Misleading comment",against_petition:"Comment goes against the petition",content_changed:st,plagiarism:st,copyright_infringement:st,trademark_infringement:st,impersonation:"I Did Not Leave this Comment"})};var pt=(0,H.np)({i18n:{key:(0,S.B)("fe.components.petition_report_abuse.errors.sub_category_required")}});function dt(t){var e=t.type,n=(0,C.U$)("category",{subscription:{value:!0}}).input.value,r=(0,i.useMemo)((function(){return n?function(t,e){return ct[t][e]}(e,n):[]}),[e,n]),o=(0,Z.Q)().translate,a=(0,R.m)().getErrorMessage,c=T(e,"subcategory");return r.length?(0,y.tZ)(B.x,{mb:8,children:(0,y.tZ)(C.gN,{name:"subCategory",validate:pt,children:function(t){var e=t.input,n=t.meta;return(0,y.BX)(rt.P,{id:"report-abuse-subcategory",name:e.name,value:e.value,onChange:e.onChange,error:n.touched&&a(n.error),autoComplete:"country","data-testid":"reportAbuse-subCategory-select","aria-label":o("fe.components.petition_report_abuse.sub_category_aria_label"),label:o("fe.components.petition_report_abuse.sub_category_aria_label"),children:[(0,y.tZ)("option",{value:"",children:o("fe.components.petition_report_abuse.sub_category_prompt")}),r.map((function(t){return(0,y.tZ)("option",{value:t,children:c(t)},t)}))]})}})}):null}var ft=n(96976);function mt(t){switch(t.type){case"petition":return{item_type:"petition",petition_id:t.petitionId,petition_url:t.petitionUrl,item_id:t.petitionId,abuse_category:t.category,abuse_sub_category:t.subCategory,reason:t.reason};case"comment":return{item_type:"comment",comment_id:t.commentId,comment_url:t.commentUrl,petition_url:t.petitionUrl,item_id:t.commentId,abuse_category:t.category,abuse_sub_category:t.subCategory,reason:t.reason};default:throw new Error("unsupported report type")}}function ht(t,e){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.Z)(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.http.post,t.next=3,r("/api-proxy/-/abuse_reports",mt(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(t,e){var n=e.category?function(t,e){return $[t][e]}(t.type,e.category):"",r=e.subCategory?function(t,e){return lt[t][e]}(t.type,e.subCategory):n;switch(t.type){case"petition":return{type:"petition",category:n,subCategory:r,petitionId:t.petitionId,petitionUrl:"/p/".concat(t.petitionSlug),reason:e.reason||""};case"comment":return{type:"comment",category:n,subCategory:r,commentId:t.comment.id,petitionUrl:"/p/".concat(t.petitionSlug),commentUrl:"/p/".concat(t.petitionSlug,"/c/").concat(t.comment.id),reason:e.reason||""};default:throw new Error("Unsupported report context type")}}var bt=n(30848);function yt(t){var e=(0,ft.RA)(),n=function(t){var e=(0,d.g5)(),n=(0,f.kR)(e)?e.value:void 0,r=(0,bt.r)();return(0,i.useCallback)((function(e){var i=e.success;switch(t.type){case"petition":return void r("petition_report_abuse",{petition_id:t.petitionId,user_id:n,successful:i});case"comment":return void r("comment_report_abuse",{comment_id:t.comment.id,likes:t.comment.likes,role:t.comment.role.toLowerCase(),petition_id:t.petitionId,report_abuse_location:t.location,user_id:n,successful:i});default:return}}),[r,t,n])}(t);return(0,i.useCallback)(function(){var r=(0,o.Z)(c().mark((function r(i){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ht(gt(t,i),e);case 3:n({success:!0}),r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(0),n({success:!1}),r.t0;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t){return r.apply(this,arguments)}}(),[t,n,e])}var _t=["onSuccess"];function Ot(t){var e=t.onSuccess,n=(0,r.Z)(t,_t),a=(0,D.nO)(),s=yt(n),u=n.type,l=(0,i.useCallback)(function(){var t=(0,o.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(n);case 3:return null==e||e(),t.abrupt("return",void 0);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,O.Z)({},j.Ck,{key:(0,S.B)("fe.errors.generic_try_again")}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[s,e]);return(0,y.tZ)(C.l0,{onSubmit:l,children:function(t){var e=t.handleSubmit;return(0,y.BX)("form",{onSubmit:e,"data-qa":"abuse-report-form",children:[(0,y.tZ)(Y,{type:u,countryCode:a}),(0,y.tZ)(dt,{type:u}),(0,y.tZ)(nt,{type:u}),(0,y.tZ)(InvalidFormError,{}),(0,y.tZ)(FormError,{}),(0,y.tZ)(E,{})]})}})}function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){(0,O.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xt=(0,g.A)({name:"ReportAbuseModal",title:function(){return(0,y.tZ)(m.v,{value:"fe.components.petition_report_abuse.form_title"})},body:function(t){var e=t.options.reportContext,n=t.closeModal;return(0,y.BX)(y.HY,{children:[(0,y.tZ)(k,{}),(0,y.tZ)(Ot,wt({onSuccess:function(){return n()}},e)),(0,y.tZ)(P,{type:e.type})]})}});var Pt=["children"];function kt(t){var e=t.children,n=(0,r.Z)(t,Pt),a=function(t){var e=t.reportContext,n=(0,d.pp)(),r=(0,l.TH)(),a=(0,p.s)(),s=xt(),m=_();return(0,i.useCallback)((0,o.Z)(c().mark((function t(){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,f.kR)(n)&&"AUTHENTICATED"===n.value){t.next=4;break}return i="/login_or_join?".concat(u().stringify({user_flow:"report_abuse",redirect_to:"".concat(r.pathname).concat(r.search)},{encodeValuesOnly:!0})),a(i),t.abrupt("return");case 4:return t.next=6,s({reportContext:e}).waitForClosed();case 6:"result"===t.sent.source&&m({});case 9:case"end":return t.stop()}}),t)}))),[r,n,a,m,s,e])}({reportContext:n});return(0,y.tZ)(y.HY,{children:e&&(0,i.cloneElement)(e,{onClick:a,"data-qa":"report-abuse-".concat(n.type)})})}},28630:function(t,e,n){n.d(e,{b:function(){return o}});var r=n(90164),i=n(90999);function o(){return(0,i.tZ)(r.a,{size:"s",mt:64,mx:"auto"})}},78048:function(t,e,n){n.d(e,{Y2:function(){return a},Te:function(){return l},eI:function(){return d},Gu:function(){return m}});var r=n(76243),i=n(87454),o=n(90999);function a(t){var e=t.children;return(0,o.BX)(i.W,{variant:"small",children:[(0,o.tZ)(r.Z,{role:"presentation",my:24}),e]})}var c=n(5307),s=n(17656),u=n(4662);function l(){return(0,o.tZ)(u.x,{py:24,children:(0,o.tZ)(s.g,{size:"large",variant:"error",children:(0,o.tZ)(c.v,{value:"fe.errors.generic_try_again"})})})}var p=n(21762);function d(t){var e=t.title;return(0,o.tZ)(p.X6,{as:"h2",size:["h4","h3"],px:[0,8],mb:24,pb:0,children:(0,o.tZ)(c.v,{value:e})})}var f=n(90164);function m(){return(0,o.tZ)(f.a,{size:"m",mx:"auto",my:24})}},35249:function(t,e,n){n.d(e,{z:function(){return R}});var r=n(83644),i=n(29498),o=n(36112),a=n(4662),c=n(46036),s=n(30429),u=n(2614),l=n(20858),p=n(90999),d=(0,l.X)((function(t){var e=t.update;return e.description?(0,p.tZ)(s.xv,{as:"div",color:"typography-primary",lineClamp:[4,3],sx:{height:[96,72]},children:(0,u.j)(e.description)}):null})),f=n(67581),m=n(59246),h=n(15104),v=n(79809),g=n(72396),b=n(93574),y=n(94327),_=12,O=36;function Z(t){var e=t.update;if("staff"===e.type)return(0,p.tZ)(v.J,{size:O,icon:b.Z,mr:_,color:"primary-changeRed"});if("featuredNews"===e.type)return(0,p.tZ)(v.J,{size:O,icon:y.Z,mr:_,color:"neutral-grey600"});if(!e.author)return null;var n=e.author.photo,r=n&&!n.processing&&n.url||void 0;return(0,p.tZ)(g.q,{variant:"subtle",src:r,alt:"",size:O,mr:_})}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={paddingLeft:8,marginLeft:-8};function k(t){var e=t.update,n=(0,f.m)(),r=(0,m.Q)(),i=r.localizeRelativeTime,o=r.translate,c=e.author,u="staff"===e.type?o("fe.pages.sponsors.change_team"):null==c?void 0:c.displayName;return u?(0,p.BX)(h.k,{mt:[8,16],sx:{alignItems:"center"},children:[(0,p.tZ)(Z,{update:e}),(0,p.BX)(a.x,{sx:{flex:1},children:[(0,p.tZ)(s.xv,{as:"div",color:"typography-primary",size:"caption",sx:x({fontWeight:"bold"},P),ellipsis:!0,children:u}),(0,p.tZ)(s.xv,{as:"div",color:"typography-primary",size:"caption",sx:P,ellipsis:!0,children:i(n,e.createdAt)})]})]}):null}var j=n(5307),C=n(76243);function S(t){return"dmResponse"!==t.update.type?null:(0,p.BX)(p.HY,{children:[(0,p.tZ)(s.xv,{as:"div",p:16,size:"caption",color:"typography-primary",children:(0,p.tZ)(j.v,{value:"fe.components.updates_feed.decision_maker_post_title"})}),(0,p.tZ)(C.Z,{role:"presentation",m:0})]})}var D=n(68360),I=n(90164),E=n(4177);function M(t){var e=t.update.photo,n=(0,E.i)(null==e?void 0:e.url,{maxAttempts:10,pollingTime:3e3,processing:null==e?void 0:e.processing});return e?n?(0,p.tZ)(D.E,{aspectRatio:"16/9",fit:"cover",sx:{width:"100%",verticalAlign:"top"},src:e.url,alt:"",loading:"lazy"}):(0,p.tZ)(h.k,{sx:{aspectRatio:"16/9",alignItems:"center",justifyContent:"center"},"aria-hidden":"true",children:(0,p.tZ)(I.a,{size:"xs"})}):null}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R=(0,i.forwardRef)((function(t,e){var n=t.update;return(0,p.tZ)(o.r,{to:n.url,sx:B(B({},c.R),{},{display:"block",borderRadius:"standard","&:focus, &:hover":{a:{color:"primary-black",textDecoration:"none"}}}),ref:e,children:(0,p.BX)(a.x,{variant:"bordered",sx:{borderColor:"neutral-grey100",overflow:"hidden"},backgroundColor:"primary-white",children:[(0,p.tZ)(S,{update:n}),(0,p.tZ)(M,{update:n}),(0,p.BX)(a.x,{p:16,children:[(0,p.tZ)(s.xv,{as:"div",size:"large",sx:{fontSize:[16,20],fontWeight:"bold"},mb:8,children:n.title}),(0,p.tZ)(d,{update:n}),(0,p.tZ)(k,{update:n})]})]})})}))},67044:function(t,e,n){n.d(e,{M:function(){return s}});var r=n(98036),i=n(29498),o=n(86645),a=n(34141),c=n(90999);function s(t){var e=t.petitionId,n=t.promotionToken,s=t.placement,u=(0,i.useState)(!1),l=(0,r.Z)(u,2),p=l[0],d=l[1],f=(0,a.sA)({petitionId:e,promotionToken:n,placement:s}),m=(0,i.useCallback)((function(t){var e=t.currentPosition;p||"below"===e||(f(),d(!0))}),[f,p,d]);return(0,c.tZ)(o.h,{onPositionChange:m})}},37917:function(t,e,n){n.d(e,{m:function(){return a}});var r=n(58008),i=n(57371),o=(0,i.Ms)({experimentName:"movement_petition_modules_experiment",fcmConfigs:{content:r.dH},isEnabled:function(t){return!!t.fcm.content&&!1}}),a=(0,i.KW)(o,{async:!0,hook:!0}).useFcmExperiment},80535:function(t,e,n){n.d(e,{p:function(){return r}});var r=function(t){return t.MOVEMENT_SINGLE="var1_single_module",t.MOVEMENT_SINGLE_PETITIONS="var2_single_module_petitions",t.MOVEMENT_TOP_THREE="var3_top_three_module",t.CONTROL="control",t}({})},5643:function(t,e,n){n.d(e,{L:function(){return v}});var r=n(29498),i=n(69055),o=n(6441),a=n(96976),c=n(83644),s=n(91758);var u=n(59246);var l=n(30596),p=n.n(l);var d=n(28004);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t){var e,n,i,o,a=(e=(0,s.H0)(),n=(0,r.useMemo)((function(){return[p()(1,9),p()(10,99),p()(100,999)]}),[e]),(0,r.useMemo)((function(){return{random_1_digit_number:n[0],random_2_digit_number:n[1],random_3_digit_number:n[2]}}),[n])),c=function(){var t=(0,s.H0)(),e=(0,u.Q)().getCountry;return(0,r.useMemo)((function(){var n,r,i,o,a,c;return{starter_name:(null===(n=t.organization)||void 0===n?void 0:n.name)||t.user.displayName,starter_city_state:t.user.formattedLocationString,starter_city_country:(o=t.user.city,a=null===(r=t.user.country)||void 0===r?void 0:r.countryCode,c=a&&(null===(i=e(a))||void 0===i?void 0:i.name)||"",o&&c&&"".concat(o,", ").concat(c)||"")}}),[t,e])}(),l=function(){var t=(0,s.H0)(),e=(0,u.Q)().getCountry;return(0,r.useMemo)((function(){var n,r,i,o,a,c,s;return{petition_name:t.ask,petition_country:(null===(n=e(t.country.countryCode))||void 0===n?void 0:n.name)||"",petition_location:(i=t.city,o=t.stateCode,a=t.country.countryCode,c=(null===(r=e(a))||void 0===r?void 0:r.name)||"",s=t.user.formattedLocationString,[i,o,c].filter((function(t){return!!t})).join(", ")||s)}}),[t,e])}(),f=function(t){return(0,r.useMemo)((function(){return{sharer_name:(null==t?void 0:t.displayName)||"",sharer_name_short:(null==t?void 0:t.shortDisplayName)||"",sharer_location:(null==t?void 0:t.formattedLocationString)||"",preferredName:(null==t?void 0:t.shortDisplayName)||"",preferred_name:(null==t?void 0:t.shortDisplayName)||""}}),[t])}(t),h=function(){var t=(0,s.H0)();return(0,r.useMemo)((function(){var e;return{petition_name_dm:t.displayTitle,primary_dm_name:(null===(e=t.primaryDecisionMakerConnection.nodes[0])||void 0===e?void 0:e.displayName)||""}}),[t])}(),v=(i=(0,d.kT)(),o=(0,u.Q)().localizeNumber,(0,r.useMemo)((function(){return{signature_count:o(i.signatureCount.displayed),signature_target:o(i.signatureGoal.displayed-i.signatureCount.displayed)}}),[i,o]));return(0,r.useMemo)((function(){return m(m(m(m(m(m({},l),v),c),h),f),a)}),[l,v,c,h,f,a])}function v(t){var e=h(t),n=(0,a.RA)().errorReporter.report;return(0,r.useCallback)((function(t){if(!t)return t;try{return(0,i.g)(t,e)}catch(e){return e instanceof o.O?(n({error:"bandit: missing replacement values",params:{translation:e.translation,missingReplacements:e.missingReplacements}}),e.finalTranslation):t}}),[e,n])}},88746:function(t,e,n){n.d(e,{w:function(){return o}});var r=n(32153),i=n(91758);function o(){var t=(0,i.H0)().requireHumanVerification;return(0,r.s_)().captchaEnabled&&t}},32153:function(t,e,n){n.d(e,{yy:function(){return g},fk:function(){return d},eu:function(){return c},GC:function(){return l},IB:function(){return a},s_:function(){return h},cK:function(){return u}});var r=n(58008),i=n(2834),o=(0,i.UB)({sapCtaEnabled:r.$J,unsignedCopyLinkEnabled:r.fZ,signeesHidden:r.SF,statsTopSupportersEnabled:r.sh,statsRecruiterNameEnabled:r.x_,statsRecentSignersEnabled:r.tc,statsRecentSignersSignatureThreshold:r.Yo,captchaEnabled:r.mQ,signValidationErrorTrackSampleRate:r.Bc,signValidationIntentValidTrackSampleRate:r.Xz,storeReasonForSigning:r.E0,promotionCtaEnabled:r.LY,chatEnabled:r.kh,chatDisplayDaysPostPublish:r.r1,suggestedVictoriousPetitionsEnabled:r.s2,onDemandDayTriggers:r.hk,onDemandMaxRequests:r.uD,onDemandSupport:r.tG,onDemandText:r.sn,profilePlusPageEnabled:r.OF,profilePlusPageFeatureFlags:r.bs,starterDashUpdateModuleNew:r.Uf},{hook:!0,prefetch:!0}),a=o.useFcm,c=o.prefetchFcm,s=(0,i.UB)({geolocGuestDisabled:r.nU,geoFieldsEnabled:r.TO,gdprOptInEnabled:r.Ci,gdprOptInCopy:r.ZE,doubleOptInEnabled:r.Z3,mobileOptInCountries:r.Ww,facebookSignEnabled:r.tR,googleSignEnabled:r.oL},{hook:!0,prefetch:!0}),u=s.useFcm,l=s.prefetchFcm,p=(0,i.UB)({milestoneCopy:r.H5},{hook:!0,prefetch:!0}),d=(p.useFcm,p.prefetchFcm),f=n(29498),m=(0,f.createContext)(void 0);function h(){var t=(0,f.useContext)(m);if(!t)throw new Error("PetitionDetailsFcmContext was not set");return t}var v=n(90999);function g(t){var e=t.fcm,n=t.children;return(0,v.tZ)(m.Provider,{value:e,children:n})}},99860:function(t,e,n){n.d(e,{d:function(){return r}});var r=(0,n(29498).createContext)(void 0)},91758:function(t,e,n){n.d(e,{Kj:function(){return o},Bs:function(){return Z},SN:function(){return O},H0:function(){return a.H},E6:function(){return c}});var r=n(99860),i=n(90999);function o(t){var e=t.petitionDetails,n=t.children;return(0,i.tZ)(r.d.Provider,{value:e,children:n})}var a=n(36707);function c(){return"PUBLISHED"===(0,a.H)().status}var s=n(49458),u=n(1558),l=n.n(u),p=n(27377),d=n(96976),f=n(81193),m=n(49670),h=n(76441),v=n(58745);function g(t,e,n,r){return b.apply(this,arguments)}function b(){return b=(0,s.Z)(l().mark((function t(e,n,r,i){var o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.LS)(e,n,r,i);case 3:return o=t.sent,t.abrupt("return",o);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("other",{cause:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),b.apply(this,arguments)}function y(t,e,n,r){return _.apply(this,arguments)}function _(){return _=(0,s.Z)(l().mark((function t(e,n,r,i){var o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n,r,i);case 2:if(o=t.sent){t.next=5;break}throw new Error("notFound");case 5:return t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function O(t,e){var n=(0,d.RA)(),r=(0,m.bU)(),i=(0,m.nO)(),o=(0,h.ms)(),a=(0,v.kR)(o)?o.value:void 0,c=!!a&&"GUEST"!==a.loginState;return(0,p.td)((0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,{locale:r,countryCode:i},{loadBandits:c},n);case 2:return e.t0=e.sent,e.abrupt("return",{details:e.t0});case 4:case"end":return e.stop()}}),e)}))),[t,r,i,n,c],{id:t,prefetchedState:e,errorHandler:function(t){return{reason:t.message,cause:t.cause}}})}var Z=function(){var t=(0,s.Z)(l().mark((function t(e,n){var r,i,o,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.l10n,i=n.utilityContext,o=n.session,a=!!o&&"GUEST"!==o.loginState,t.abrupt("return",(0,p.pT)((0,s.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e,r,{loadBandits:a},i);case 2:return t.t0=t.sent,t.abrupt("return",{details:t.t0});case 4:case"end":return t.stop()}}),t)}))),{id:e,errorHandler:function(t){return{reason:t.message,cause:t.cause}}}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},36707:function(t,e,n){n.d(e,{H:function(){return o}});var r=n(29498),i=n(99860);function o(){var t=(0,r.useContext)(i.d);if(!t)throw new Error("PetitionDetailsContext was not set");return t}},28004:function(t,e,n){n.d(e,{rX:function(){return b},SR:function(){return Z},kT:function(){return O},__:function(){return y}});var r=n(29498),i=(0,r.createContext)(void 0),o=n(49458),a=n(1558),c=n.n(a),s=n(27377),u=n(96976),l=n(81193),p=n(61264),d=n(25421);function f(t,e,n){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(c().mark((function t(e,n,r){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.oL)(e,(0,p.rH)(n),r);case 3:return i=t.sent,t.abrupt("return",i);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("other");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function h(t,e,n){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(c().mark((function t(e,n,r){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e,n,r);case 2:if(i=t.sent){t.next=5;break}throw new Error("notFound");case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=n(90999);function b(t){var e=t.slug,n=t.children,r=function(t){var e=(0,u.RA)(),n=(0,d.QT)("recruiter");return(0,s.aM)((0,o.Z)(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h(t,n,e);case 2:return r.t0=r.sent,r.abrupt("return",{stats:r.t0});case 4:case"end":return r.stop()}}),r)}))),[t,n,e],{loadingBetweenQueries:!0,errorHandler:function(t){return{reason:t.message}}})}(e);return(0,g.tZ)(i.Provider,{value:r,children:n})}function y(){var t=(0,r.useContext)(i);if(!t)throw new Error("PetitionStatsContext was not set");return t}var _=n(36707);function O(){var t=(0,_.H)(),e=y();return(0,r.useMemo)((function(){return"loaded"===e.status?{petitionId:e.stats.id,upToDate:!0,signatureCount:e.stats.signatureCount,signatureGoal:e.stats.signatureGoal}:{petitionId:t.id,upToDate:!1,signatureCount:t.signatureCount,signatureGoal:t.signatureGoal}}),[e,t])}var Z=i.Provider},39544:function(t,e,n){n.d(e,{Eb:function(){return s},Z5:function(){return d}});var r=n(34141),i=n(91758);var o=n(98036),a=n(29498),c=n(25421);function s(){var t,e=(0,c.QT)("pt"),n=(0,c.QT)("source_location"),s=(t=(0,i.H0)().id,(0,r.T5)(t)),u=(0,o.Z)(s,2),l=u[0],p=u[1],d=e||(null==l?void 0:l.token),f=n||(null==l?void 0:l.placement),m=(0,a.useMemo)((function(){if(d)return{token:d,placement:f}}),[d,f]);return(0,a.useEffect)((function(){d&&(null==l?void 0:l.token)!==d&&p({token:d,placement:n})}),[d,l,n,p]),m}var u=n(96976),l=n(81193),p=n(49670);function d(){var t=s(),e=(0,p.nO)(),n=(0,u.RA)();(0,a.useEffect)((function(){null!=t&&t.token&&(0,l.a)("VIEW",{promotionToken:t.token,countryCode:e,placement:t.placement||null},n)}),[t,e,n])}},45209:function(t,e,n){n.d(e,{R:function(){return o}});var r=n(32153),i=n(91758);function o(){var t=(0,i.H0)(),e=(0,r.s_)();return!t.hideSignees&&!t.country.hideSignees&&!e.signeesHidden}},1035:function(t,e,n){n.d(e,{Y3:function(){return a},O9:function(){return c},Et:function(){return s}});var r=n(29498),i=(0,r.createContext)(void 0),o=n(90999);function a(t){var e=t.insideMobileModal,n=t.children,a=(0,r.useMemo)((function(){return{insideMobileModal:e}}),[e]);return(0,o.tZ)(i.Provider,{value:a,children:n})}function c(){var t=(0,r.useContext)(i);return t&&t.insideMobileModal?function(t){return"mobile___".concat(t)}:function(t){return t}}function s(){var t=(0,r.useContext)(i);return!(null==t||!t.insideMobileModal)}},25210:function(t,e,n){n.d(e,{e:function(){return a}});var r=n(29498),i=n(94508),o=n(25421);function a(){var t="true"===(0,o.QT)("request_mc"),e="true"===(0,o.QT)("show_sign");return{setRedirectData:(0,r.useCallback)((function(){var t=(0,i.k$)(),e=new URLSearchParams(t.search);e.set("request_mc","true"),e.set("show_sign","true");var n="".concat(t.protocol,"//").concat(t.host).concat(t.pathname,"?").concat(e.toString());(0,i.s1)().replaceState({},"",n)}),[]),showMarketingConsent:t,showSignForm:e}}},44818:function(t,e,n){n.d(e,{G:function(){return _}});var r=n(83644),i=n(29498),o=n(98036),a=n(30848),c=n(32153),s=n(91758);function u(t){return Math.random()<t/100}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){return t.connectedToFacebook?"existing_fb_connected":t.passwordSet?"existing_pswd":"existing_no_pswd"}function f(t){if(t instanceof Error){if(t.statusCode){var e=t;return JSON.stringify({status:e.statusCode,result:e.result})}return t.message}if(t.status){var n=t;return JSON.stringify({status:n.status})}return JSON.stringify(t)}var m=n(25421),h=n(76441),v=n(58745);function g(){var t,e,n,r=(0,a.r)(),o=(0,c.s_)().signValidationIntentValidTrackSampleRate,l=(t=(0,s.H0)(),e=(0,h.ms)(),n=(0,m.QT)("recruited_by_uuid"),(0,i.useCallback)((function(r){var i,o=(0,v.kR)(e)&&(null===(i=e.value.ipCountry)||void 0===i?void 0:i.countryCode)||void 0,a=(0,v.kR)(e)?e.value.geoipData:void 0;return{user_country_code:r.countryCode,petition_id:t.id,public:r.public,reasons_for_signing_completed:!1,ip_country_code:o,ip_city:(null==a?void 0:a.city)||void 0,ip_postal_code:(null==a?void 0:a.postalCode)||void 0,ip_region:(null==a?void 0:a.region)||void 0,recruited_by_uuid:n,context:"petitions_show",phone_number_filled_out:!!r.phoneNumber,sms_comms_consent_given:!!r.smsCommsConsentGiven,whatsapp_comms_consent_given:!!r.whatsappCommsConsentGiven}}),[t,n,e]));return(0,i.useMemo)((function(){return{trackSignIntent:function(t){r("sign_intent",l(t))},trackSignIntentValid:function(t){u(o)&&r("sign_intent_valid",l(t))}}}),[r,o,l])}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(){var t,e,n=(t=(0,a.r)(),e=(0,s.H0)(),(0,i.useMemo)((function(){return{trackMobileSignIntent:function(){t("mobile_sign_intent",{petition_id:e.id,context:"petitions_show"})}}}),[e,t])),r=g(),l=function(){var t=(0,a.r)(),e=(0,c.s_)().signValidationErrorTrackSampleRate,n=(0,s.H0)();return(0,i.useMemo)((function(){return{trackSignError:function(r,i){var a=i.submitError,c=i.errors;if(u(e)){var s=c&&Object.entries(c).filter((function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n&&n.key})).map((function(t){var e=(0,o.Z)(t,2),n=e[0],r=e[1];return"".concat(n,": ").concat(r.key)})).join(" | ")||void 0;t("error",p({type:"sign_validation_error",petition_id:n.id,signature:JSON.stringify(r),server_error:!!a,reason:s,first_name_valid:!(null!=c&&c.firstName),last_name_valid:!(null!=c&&c.lastName),email_valid:!(null!=c&&c.email)},a?{mutation_response:f(a)}:{}))}},trackSuggestedPetitionSignError:function(e){var n=e.petitionId,r=e.submitError,i=e.reason;t("error",p({type:"sign_petition_card",petition_id:n,server_error:!!r,reason:i},r?{mutation_response:f(r)}:{}))},trackDoubleOptIn:function(){t("double_opt_in_required",{guest_user_state:"new",user_flow:"sign",context:"petitions_show"})},trackExistingEmail:function(e){t("attempted_sign_with_existing_email",{guest_user_state:d(e),connected_to_facebook:e.connectedToFacebook,password_set:e.passwordSet,context:"petitions_show"})},trackPerimeterX:function(){t("px_captcha_shown")}}}),[n,t,e])}();return(0,i.useMemo)((function(){return y(y(y({},n),r),l)}),[n,r,l])}},69391:function(t,e,n){n.d(e,{_g:function(){return p},TI:function(){return u},Pc:function(){return l}});var r=n(29498),i=(0,r.createContext)(void 0),o=n(83644),a=n(90999);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){var e=t.userInfo,n=t.decisionMaker,o=t.gdprConsentProvided,c=t.experiments,u=t.children,l=(0,r.useMemo)((function(){return s(s({},e),{},{decisionMaker:n,gdprConsentProvided:o,experiments:c})}),[e,n,o,c]);return(0,a.tZ)(i.Provider,{value:l,children:u})}function l(){var t=(0,r.useContext)(i);if(void 0===t)throw new Error("UserInfoContext was not set");return t}var p=i.Provider},17075:function(t,e,n){n.r(e),n.d(e,{PetitionDetails:function(){return uo},PetitionDetailsBandit:function(){return ho},PetitionDetailsBanditGuest:function(){return vo},PetitionDetailsFacebook:function(){return lo},PetitionDetailsFacebookBandit:function(){return fo},PetitionDetailsFacebookBanditGuest:function(){return mo},PetitionDetailsFacebookGuest:function(){return po},PetitionDetailsShareForStarters:function(){return go},PromotedImpressionTrackerContainer:function(){return bo.M}});var r=n(46028),i=n(82466),o=n(75252),a=n(28004),c=n(83644),s=n(98036),u=n(49458),l=n(1558),p=n.n(l),d=n(29498),f=n(79622),m=n(90164),h=n(43412),v=n(76441),g=n(58745),b=n(27377),y=n(96976),_=n(81193),O=n(85431),Z=n(25421);function w(){return(0,Z.QT)(h.bi)}var x=function(){var t=(0,u.Z)(p().mark((function t(e,n,r){var i,o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.slug,o=n.decisionMakerHash,t.next=3,(0,b.pT)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e&&!o){t.next=6;break}return t.next=3,(0,_.i4)({slugOrId:i,decisionMakerHash:o},r);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=!1;case 7:return t.t1=t.t0,t.abrupt("return",{decisionMaker:t.t1});case 9:case"end":return t.stop()}}),t)}))),{id:(0,O.K)(),errorHandler:function(t){return{cause:t.cause}}});case 3:return a=t.sent,t.abrupt("return",(0,g.kR)(a)?{decisionMaker:a.decisionMaker}:void 0);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),P=n(22817),k=n(57371),j=n(58008),C=n(67913),S=(0,k.Ms)({fcmConfigs:{copy:j.H5},isEnabled:function(t){return!!t.fcm.copy},experimentName:function(t){var e=t.fcm.copy,n=t.locale;if(e){var r=(0,C.getLocaleBasedExperimentFromLocale)(e,n);return null!=r&&r.variants?r.name:void 0}}}),D=(0,k.Ms)({experimentName:j.Uf.name,fcmConfigs:{copy:j.Uf},isEnabled:function(t){return!!t.fcm.copy.updateModuleEnabled}}),I=(0,k.db)({milestoneExperiment:S,starterDashUpdateModuleNew:D},{async:!0,hook:!0,getter:!0,valueProperty:"experiments"}),E=I.useFcmExperiments,M=I.getFcmExperiments,N=function(t){var e=t.experiments;return{values:{milestoneExperimentName:e.milestoneExperiment.name,milestoneExperimentVariation:e.milestoneExperiment.variation,starterDashUpdateModuleNewName:e.starterDashUpdateModuleNew.name,starterDashUpdateModuleNewVariation:e.starterDashUpdateModuleNew.variation}}};function B(t){return R.apply(this,arguments)}function R(){return R=(0,u.Z)(p().mark((function t(e){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:return n=t.sent,t.abrupt("return",N({experiments:n}).values);case 4:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}var H=n(32153),T=n(91758),z=n(69391),U=n(96134),A=n(99699),q=n(4662),X=n(87454),V=n(26589),$=n(4486),F=n(97041),L=n(2244),Y=n(83041),G=n(55627),Q=n(26123),W=n(94734),J=n(66684),K=n(78953),tt=n(90999);function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt=(0,V.default)($.gb).withConfig({componentId:"corgi__sc-e48n5o-0"})(["box-shadow:0px 4px 4px rgba(0,0,0,0.25);background-color:",";border:1px solid ",";padding:","px;border-radius:10px;margin-right:","px;max-width:350px;"],F.Z.colors.white,F.Z.colors.gray.light,F.Z.space.m,F.Z.space.s),it=(0,V.default)(L.x).withConfig({componentId:"corgi__sc-e48n5o-1"})(["background:none;padding:0;outline:none;border:0;"]),ot=(0,V.default)(Y.Z).withConfig({componentId:"corgi__sc-e48n5o-2"})(["cursor:pointer;"]),at={message:" Hi there! Our campaign coaches offer free support to help you with your petition. Want to chat?",confirm:"Yes please",cancel:"Maybe later",close:"Close"};function ct(t){var e,n=t.onOpenChat,r=t.onCancelChat,i=t.onHide,o=t.widgetStyles,a=t.ctaText,c=void 0===a?{}:a,s=null!==(e=(0,K.DY)(o,4))&&void 0!==e?e:{};s.zIndex=F.Z.zIndices.modal-10;var u=nt(nt({},at),c),l=(0,d.useCallback)((function(){n(u.confirm)}),[n,u.confirm]);return o?(0,tt.BX)(rt,{style:s,children:[(0,tt.tZ)($.e2,{top:F.Z.space.m,right:F.Z.space.m,children:(0,tt.tZ)(it,{as:"button",onClick:i,"aria-label":u.close,"data-testid":"close-button",children:(0,tt.tZ)(ot,{})})}),(0,tt.BX)(G.k,{flexDirection:"column",children:[(0,tt.tZ)(G.k,{justifyContent:"center",children:(0,tt.tZ)(Q.E,{alt:"",height:"64px",width:"133px",src:"https://static.change.org/Starter-dashboard/PetitionCoachingProfile.png"})}),(0,tt.tZ)(W.x,{fontSize:"l","data-testid":"message",my:"m",children:u.message}),(0,tt.BX)(L.x,{children:[(0,tt.tZ)(J.f5,{mr:"s",onClick:l,"data-testid":"confirm-button",children:u.confirm}),(0,tt.tZ)(J.f5,{onClick:r,"data-testid":"cancel-button",children:u.cancel})]})]})]}):null}var st=n(77511),ut=n(47642),lt=n(16938);function pt(){var t=(0,lt.N)("petition_details");return(0,d.useEffect)((function(){t()}),[t]),(0,tt.tZ)(L.x,{p:"n",bg:"white",my:"m",children:(0,tt.tZ)(ut.x,{p:"xs",backgroundColor:"green.4","data-testid":"petition-details-phone-ask-success",children:(0,tt.tZ)(W.x,{color:"green.1",children:"Thanks! You will receive a confirmation text. One of our expert campaigners will be with you soon."})})})}var dt=n(14818),ft=["children","viewportSize"];function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t){var e=t.children,n=t.viewportSize,r=(0,dt.Z)(t,ft),i=(0,d.useMemo)((function(){return"small"===n?["block","none"]:["none","block"]}),[n]);return(0,tt.tZ)(q.x,ht(ht({},r),{},{sx:{display:i},children:e}))}var gt=n(78048),bt=n(86645),yt=(0,d.createContext)(void 0);function _t(){var t=(0,d.useContext)(yt);if(!t)throw new Error("PageScrollPositionContext was not set");return t}function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t){var e=t.children,n=function(){var t=(0,d.useState)({afterDescription:void 0,setAfterDescription:function(t){r((function(e){return t===e.afterDescription?e:Zt(Zt({},e),{},{afterDescription:t})}))},beforeSuggestedPetitions:void 0,setBeforeSuggestedPetitions:function(t){r((function(e){return t===e.beforeSuggestedPetitions?e:Zt(Zt({},e),{},{beforeSuggestedPetitions:t})}))},afterMedia:void 0,setAfterMedia:function(t){r((function(e){return t===e.afterMedia?e:Zt(Zt({},e),{},{afterMedia:t})}))}}),e=(0,s.Z)(t,2),n=e[0],r=e[1];return n}();return(0,tt.tZ)(yt.Provider,{value:n,children:e})}function xt(){var t=_t().setBeforeSuggestedPetitions,e=(0,d.useCallback)((function(e){var n=e.currentPosition;return t("below"===n)}),[t]);return(0,tt.tZ)(bt.h,{onPositionChange:e})}var Pt=n(56956),kt=n(66994);function jt(t,e){var n,r=(0,y.RA)().resolveUrl,i="?utm_source=support&utm_medium=chat",o={},a=(0,v.rI)(),c=(0,g.kR)(a)?null==a?void 0:a.value:void 0,s=function(t){var e=(0,v.ms)(),n=(0,g.kR)(e)?e.value.geoipData.postalCode:void 0;if(null==t||!t.publishedAt)return"UTC";if(!n)return Intl.DateTimeFormat().resolvedOptions().timeZone;var r=parseInt(null==n?void 0:n.slice(0,2),10);return r<80&&59!==r?"EST/Central":"PST/Mountain"}(t),u=(0,v.lY)(),l=(0,g.kR)(u)?null===(n=u.data)||void 0===n?void 0:n.phoneNumber:"";null!=t&&t.slug&&(o.dashboardUrl=r("/p/".concat(t.slug,"/dashboard").concat(i)),o.perfUrl=r("/p/".concat(t.slug,"/perf")),o.petitionUrl=r("/p/".concat(t.slug).concat(i)));var p=(0,kt.o3)(o),f=null!=t&&t.starterVanityUrl?r("/".concat(t.starterVanityUrl)):p.petitionUrl;return(0,d.useMemo)((function(){return{petitionId:null==t?void 0:t.id,petitionSlug:null==t?void 0:t.slug,petitionTitle:(null==t?void 0:t.title)||"",petitionPerformanceUrl:null==p?void 0:p.perfUrl,petitionDashboardUrl:null==p?void 0:p.dashboardUrl,petitionUrl:f,userFirstName:(null==c?void 0:c.firstName)||"",userLastName:(null==c?void 0:c.lastName)||"",userEmail:null==c?void 0:c.email,contactNumber:l,publishedAt:null==t?void 0:t.publishedAt,timeZone:s,viewContext:e}}),[null==t?void 0:t.id,null==t?void 0:t.slug,null==t?void 0:t.title,null==t?void 0:t.publishedAt,null==p?void 0:p.perfUrl,null==p?void 0:p.dashboardUrl,f,c,e,l,s])}var Ct=n(79977);var St=n(58819);var Dt=n(39544);var It=n(61721),Et=n.n(It),Mt=n(30848),Nt=n(88746);function Bt(){switch((0,T.H0)().status){case"VICTORY":return"victory";case"CLOSED":return"closed";default:return"active"}}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tt(){var t,e=(0,T.H0)(),n=e.id,r=e.promotable,i=e.video,o=e.movements,a=e.signatureCount,c=null===(t=o.nodes[0])||void 0===t?void 0:t.id,s=(0,z.Pc)(),u=s.signed,l=s.ownPetition,p=(0,Mt.r)(),f=(0,Nt.w)(),m=(0,Z.Nc)(),h=Bt();(0,d.useEffect)((function(){p("petition_view",Ht({petition_id:"petition_".concat(n),signed:u,movement_id:c,promotable:r,petition_status:h,captcha:f,video:!!i,signature_count:a.displayed,own_petition:l},function(t){return Ht({grid_position:t.grid_position&&t.grid_position.match(/^\d+$/)?t.grid_position:void 0},Et()(["source_location","algorithm","original_footer_petition_id","fb_ref","fb_action_types","recruit_variation","recruit_context"])(t))}(m)))}),[n])}var zt=n(5307),Ut=n(36112),At=n(76243),qt=n(79809),Xt=n(11754),Vt=n(45866),$t=n(15104),Ft=n(46036),Lt=n(83843),Yt=n.n(Lt),Gt=n(59246),Qt="dm@change.org";function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt={feedUrl:void 0,responseRequestUrl:void 0};function te(){var t=(0,Z.QT)("r"),e=function(){var t=(0,Gt.Q)().translate,e=(0,T.H0)(),n=e.ask,r=e.slug,i=(0,y.RA)().resolveUrl;return(0,d.useMemo)((function(){var e=t("fe.components.petition_decision_maker_response_request.email_subject",{petition_title:n}),o=t("fe.components.petition_decision_maker_response_request.email_body",{petition_title:n,petition_url:i("/p/".concat(r))});return"mailto:".concat(Qt).concat(Yt().stringify({subject:e,body:o},{addQueryPrefix:!0}))}),[t,n,r,i])}(),n=(0,y.RA)().resolveUrl;return(0,d.useMemo)((function(){if(!t)return Kt;try{var r=new URL(t),i=Yt().parse(r.search,{ignoreQueryPrefix:!0}),o=Yt().stringify(Jt(Jt({},i),{},{source_location:"dm_back_link"}),{addQueryPrefix:!0});return{feedUrl:n("".concat(r.pathname).concat(o).concat(r.hash)),responseRequestUrl:"mentions"===i.facet?e:void 0}}catch(t){return Kt}}),[t,n,e])}function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function re(){var t=(0,v.pp)(),e=te(),n=e.feedUrl,r=e.responseRequestUrl,i=(0,d.useState)(!1),o=(0,s.Z)(i,2),a=o[0],c=o[1],u=(0,d.useCallback)((function(){return c(!0)}),[c]);return(0,g.kR)(t)&&"GUEST"!==t.value&&n?(0,tt.BX)(vt,{viewportSize:"normal",sx:{alignItems:"center",backgroundColor:"primary-changeRed",color:"typography-lightPrimary"},children:[(0,tt.BX)(X.W,{variant:"small",sx:{height:54,display:"flex",alignItems:"center"},mx:[0,"auto"],children:[(0,tt.BX)(Ut.r,{to:n,sx:ne(ne({},Ft.R),{},{display:"flex",alignItems:"center","&:hover":{textDecoration:"underline"}}),children:[(0,tt.tZ)(qt.J,{size:"xxl",icon:Xt.Z,mr:8}),(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_banner.back_link"})]}),r&&(0,tt.tZ)($t.k,{sx:{alignItems:"center"},ml:32,"data-testid":"dm-response-request",children:a?(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(qt.J,{icon:Vt.Z,mr:4}),(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_response_request.acknowledgement"})]}):(0,tt.tZ)(Ut.r,{to:r,sx:ne(ne({},Ft.R),{},{"&:hover":{textDecoration:"underline"}}),onClick:u,children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_response_request.request_to_respond"})})})]}),(0,tt.tZ)(At.Z,{role:"presentation",my:0})]}):null}var ie=n(19592),oe=n(43029),ae=n(63750);function ce(){var t=(0,T.H0)();return t.signatureCount.total>=5&&t.discoverable}function se(){var t=(0,y.RA)(),e=(0,ae.TH)().pathname,n=t.resolveUrl(e),r=ce();return(0,tt.BX)(oe.ql,{children:[(0,tt.tZ)("meta",{property:"og:url",content:n}),r&&(0,tt.tZ)("link",{rel:"canonical",href:n})]})}var ue=n(2614),le=n(5643),pe=(0,d.createContext)(void 0);function de(t){var e=t.children,n=t.description,r=t.title,i=t.sharer,o=(0,d.useMemo)((function(){return{description:n,title:r,sharer:i}}),[n,r,i]);return(0,tt.tZ)(pe.Provider,{value:o,children:e})}function fe(){var t=(0,ae.UO)(),e=t.sharerDisplayName,n=t.sharerLocation;return(0,d.useMemo)((function(){if(e&&n)return{displayName:e,shortDisplayName:e,formattedLocationString:n}}),[e,n])}function me(){var t=(0,Gt.Q)().translate,e=(0,d.useMemo)((function(){return t("fe.components.petition_share.share_text_fb",{sharer_name:"%{sharer_name}",signature_target:"%{signature_target}",random_2_digit_number:"%{random_2_digit_number}"})}),[t]),n="%{petition_name}";return(0,d.useMemo)((function(){return{title:e,description:n}}),[e,n])}function he(){var t=(0,T.H0)(),e=t.status,n=t.signatureCount,r=t.ask,i=t.description,o=(0,Gt.Q)(),a=o.translate,c=o.translatePlural,s=o.localizeNumber,u=function(){var t=(0,d.useContext)(pe),e=(0,le.L)(null==t?void 0:t.sharer);return(0,d.useMemo)((function(){if(t&&null!=t&&t.sharer)return{title:e(t.title)||"",description:e(t.description)||""}}),[t,e])}(),l="VICTORY"===e?c("fe.facebook.share.victory",n.displayed,{signature_count:s(n.displayed)}):(null==u?void 0:u.title)||a("fe.facebook.share.sign_petition"),p="VICTORY"===e?r:(null==u?void 0:u.description)||r;return(0,tt.BX)(oe.ql,{children:[(0,tt.tZ)("meta",{property:"og:title",content:l}),(0,tt.tZ)("meta",{property:"og:description",content:p}),i&&(0,tt.tZ)("meta",{name:"description",content:(0,ue.j)(i).substr(0,400)})]})}var ve=n(38878);function ge(){var t,e,n=(0,T.H0)();return(0,tt.tZ)(oe.ql,{children:(0,tt.tZ)("meta",{property:"og:locale",content:(null===(t=ve.Z[n.originalLocale.localeCode])||void 0===t?void 0:t.facebook)||(null===(e=ve.Z["en-US"])||void 0===e?void 0:e.facebook)})})}var be=(0,d.createContext)(void 0);function ye(t){var e=t.children,n=t.image;return(0,tt.tZ)(be.Provider,{value:n,children:e})}function _e(){var t,e,n=(0,T.H0)(),r=(0,y.RA)().resolveUrl,i=(0,d.useContext)(be)||(null===(t=n.media)||void 0===t||null===(e=t.photo)||void 0===e?void 0:e.petitionLarge);return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(oe.ql,{children:(0,tt.tZ)("meta",{name:"twitter:card",content:"summary_large_image"})}),i&&(0,tt.BX)(oe.ql,{children:[(0,tt.tZ)("meta",{property:"og:image",content:r(i.url)}),(0,tt.tZ)("meta",{property:"og:image:secure_url",content:r(i.url)}),(0,tt.tZ)("meta",{property:"og:image:width",content:"".concat(i.width)}),(0,tt.tZ)("meta",{property:"og:image:height",content:"".concat(i.height)})]})]})}function Oe(){return ce()?null:(0,tt.tZ)(oe.ql,{children:(0,tt.tZ)("meta",{name:"robots",content:"noindex"})})}var Ze=n(80405);function we(){var t=(0,y.RA)().environment,e=t.getDemoEnvironment()||t.getEnvironment(),n=Ze.facebookNamespaces[e]||void 0;return(0,tt.tZ)(oe.ql,{children:n&&(0,tt.tZ)("meta",{property:"og:type",content:"".concat(n,":petition")})})}function xe(){return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(he,{}),(0,tt.tZ)(we,{}),(0,tt.tZ)(Oe,{}),(0,tt.tZ)(ge,{}),(0,tt.tZ)(_e,{})]})}function Pe(){var t=(0,T.H0)(),e=(0,Gt.Q)().translate;return(0,tt.tZ)(oe.ql,{children:(0,tt.tZ)("title",{children:"".concat(e("fe.pages.petition_show.title"),"  ").concat(t.ask)})})}function ke(){var t=(0,T.H0)();return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(Pe,{}),(0,tt.tZ)(se,{}),(0,tt.tZ)(xe,{}),(0,tt.tZ)(ie.k,{petitionId:t.id})]})}var je=n(21762),Ce=n(36707),Se=n(76302),De=n(93405),Ie=n(30429),Ee=n(17656),Me=n(60079),Ne=n(35249);function Be(t){var e=t.update;return(0,tt.tZ)(q.x,{my:[8,16],children:(0,tt.tZ)(Ne.z,{update:e})})}var Re=(0,Me.A)({name:"DecisionMakerResponsesModal",title:function(){var t=(0,T.H0)().dmResponsesConnection.totalCount,e=(0,Gt.Q)().localizeNumber;return(0,tt.tZ)(Se.y,{value:"fe.pages.decision_maker_show.response_count",count:t,replacements:{responseCount:e(t)}})},body:function(){var t,e,n,r,i=(0,T.H0)(),o=i.id,a=i.dmResponsesConnection.totalCount,c=(e=o,n=a,r=(0,y.RA)(),(0,b.aM)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,_.Iz)(e,n,r);case 2:return t.t0=t.sent,t.abrupt("return",{updates:t.t0});case 4:case"end":return t.stop()}}),t)}))),[e,n,r]));return(0,g.hg)(c)?(0,tt.tZ)(m.a,{size:"m",mx:"auto",my:24}):(0,g.VZ)(c)?(0,tt.tZ)(Ee.g,{size:"large",variant:"error",children:(0,tt.tZ)(zt.v,{value:"fe.errors.generic_try_again"})}):(0,tt.tZ)(q.x,{as:"ul",role:"list",children:null===(t=c.updates)||void 0===t?void 0:t.updates.map((function(t){return(0,tt.tZ)(q.x,{as:"li",children:(0,tt.tZ)(Be,{update:t})},t.id)}))})},decorator:function(t){var e=t.children,n=t.options.petitionDetails;return(0,tt.tZ)(T.Kj,{petitionDetails:n,children:e})}});function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ze(t){var e=t.totalCount,n=(0,Gt.Q)(),r=n.localizeNumber,i=n.translatePlural,o=(0,Ce.H)().ask;return(0,tt.tZ)(Ie.xv,{as:"div",size:"micro",sx:{display:"inline-block",fontWeight:"bold",backgroundColor:"#fff9df",borderRadius:"standard",textTransform:"uppercase",letterSpacing:".144em",color:"typography-primary","&:hover":{color:"typography-highlight"}},px:8,py:4,"aria-label":i("corgi.petition.details.decision_makers_responses.link_a11y",e,{num:r(e),petitionTitle:o}),children:(0,tt.tZ)(Se.y,{value:"fe.components.petition_title.num_responses",count:e,replacements:{num:r(e)}})})}function Ue(){var t=(0,Ce.H)(),e=Re();if(!t.dmResponsesConnection.totalCount)return null;var n=t.dmResponsesConnection.totalCount,r=t.dmResponsesConnection.nodes[0],i="/p/".concat(t.slug,"/responses/").concat(r.id);return(0,tt.tZ)($t.k,{sx:{justifyContent:"center"},mb:24,children:1===n?(0,tt.tZ)(Ut.r,{sx:Te(Te({},Ft.R),{},{borderRadius:"standard"}),to:i,children:(0,tt.tZ)(ze,{totalCount:n})}):(0,tt.tZ)("button",{type:"button",sx:Te(Te({},De.O),{},{borderRadius:"standard"}),onClick:function(){return e({petitionDetails:t})},children:(0,tt.tZ)(ze,{totalCount:n})})})}function Ae(){var t=(0,Ce.H)();return(0,tt.BX)(q.x,{pt:[20,40],mb:[10,60],children:[(0,tt.tZ)(Ue,{}),(0,tt.tZ)(q.x,{children:(0,tt.tZ)(je.X6,{as:"h1",size:["h3","h2"],pt:0,"data-qa":"petition-title",sx:{textAlign:["left","center"],wordBreak:"break-word"},children:t.ask})})]})}function qe(){var t=_t().setAfterDescription,e=(0,d.useCallback)((function(e){var n=e.currentPosition;return t("above"===n)}),[t]);return(0,tt.tZ)(bt.h,{onPositionChange:e})}var Xe=n(82927),Ve=n(6359);function $e(){var t,e,n=(t=(0,T.H0)().id,e=(0,Mt.r)(),(0,d.useMemo)((function(){return{trackClickLink:function(){var n=parseInt(t,10);e("petition_description_link_clicked",{petition_id:Number.isNaN(n)?void 0:n})}}}),[e,t])).trackClickLink,r=(0,Ce.H)(),i=(0,Ve.y)().decodeRichMediaTransformer,o=(0,d.useMemo)((function(){return[i]}),[i]);return(0,tt.tZ)(q.x,{"data-qa":"description-content",children:(0,tt.tZ)(Xe.Vt,{size:["small","default"],breakWord:!0,html:r.description,sx:{iframe:{width:"100%",aspectRatio:"16/9"}},transformers:o,onClickLink:n})})}function Fe(){var t=_t().setAfterMedia,e=(0,d.useCallback)((function(e){var n=e.currentPosition;return t("above"===n)}),[t]);return(0,tt.tZ)(bt.h,{onPositionChange:e})}var Le=n(4177),Ye=10,Ge=3e3;var Qe=n(27747),We=n(84465),Je=n(88375),Ke=["src"];function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nn(t){return Array.isArray(t)}function rn(t){var e=t.url,n=t.fetchPriority,r=(0,We.k)();if(!nn(e)||e.length<2)return(0,tt.tZ)(oe.ql,{children:(0,tt.tZ)("link",en({rel:"preload",href:nn(e)?e[0]:e,as:"image"},n?{fetchpriority:n}:{}))});var i=(0,Je.eu)(e).map((function(t,e){return{src:t,minWidth:e?(n=r[e-1],n.replace(/^(\d+)(.*)$/,(function(t,e,n){return"".concat(parseInt(e,10)+1).concat(n)}))):void 0,maxWidth:r[e]};var n})).reduce((function(t,e){return t.length&&e.src===t[t.length-1].src?t[t.length-1]=en(en({},t[t.length-1]),{},{maxWidth:e.maxWidth}):t.push(e),t}),[]);return(0,tt.tZ)(oe.ql,{children:i.map((function(t,r){t.src;var i,o,a,c=(0,dt.Z)(t,Ke);return(0,tt.tZ)("link",en({rel:"preload",href:nn(e)?e[0]:e,as:"image",media:(i=c,o=i.minWidth,a=i.maxWidth,o&&a?"(min-width: ".concat(o,") and (max-width: ").concat(a,")"):o?"(min-width: ".concat(o,")"):a?"(max-width: ".concat(a,")"):"")},n?{fetchpriority:n}:{}),r)}))})}var on=n(68360);function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sn(t){var e=t.id,n=t.url,r=t.mobileUrl,i=t.roundedBottomBorders,o=["none","standard"],a=Array.isArray(i)?i.map((function(t){return t?"standard":"none"})):i?"standard":"none",c={borderBottomRightRadius:a,borderBottomLeftRadius:a,borderTopRightRadius:o,borderTopLeftRadius:o};return(0,tt.tZ)(on.E,{fetchPriority:"high",aspectRatio:"16/9",fit:"contain",width:"100%",id:e,src:[r,n],alt:"",sx:cn(cn({},c),{},{verticalAlign:"top"})})}function un(){return(0,tt.tZ)(q.x,{"aria-hidden":"true",sx:{overflow:"hidden"},children:(0,tt.tZ)($t.k,{sx:{aspectRatio:"16 / 9",height:"100%",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,tt.tZ)(m.a,{size:"xs"})})})}var ln=n(8569),pn=n(18181);function dn(){var t=(0,T.H0)(),e=t.slug,n=t.id,r=(0,Mt.r)(),i=(0,d.useCallback)((function(){r("media_prompt_clicked",{petition_id:"petition_".concat(n),link_type:"add_a_photo_button",view_context:"petitions_show"})}),[r,n]);return(0,tt.BX)(q.x,{mt:[16,0],mx:[16,0],children:[(0,tt.BX)(q.x,{mb:8,children:[(0,tt.tZ)(Ie.xv,{sx:{color:"primary-changeRed",fontWeight:"bold"},children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.media_prompt.tip"})})," ",(0,tt.tZ)(Ie.xv,{children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.media_prompt.desc"})})]}),(0,tt.tZ)(q.x,{sx:{borderColor:"neutral-grey400",borderRadius:"standard",borderStyle:"dashed",borderWidth:2},p:[32,40],children:(0,tt.BX)($t.k,{sx:{alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[(0,tt.tZ)(ln.Z,{"aria-labelledby":"add-media-label",icon:pn.Z,mode:"icon",to:"/p/".concat(e,"/edit#media"),onClick:i,role:"link",size:"small",mb:16,children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.media_prompt.button_label"})}),(0,tt.tZ)(Ie.xv,{"aria-hidden":"true",id:"add-media-label",sx:{fontWeight:"bold"},children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.media_prompt.button_label"})})]})})]})}var fn=["video","photo"];function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vn(t){var e=t.video,n=t.photo,r=(0,dt.Z)(t,fn),i=(0,z.Pc)().canEdit;return e?(0,tt.tZ)(Qe.A,{aspectRatio:"16/9",embedHtml:e.html}):n?n.processing?(0,tt.tZ)(un,{}):(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(rn,{url:[n.mobileUrl,n.url],fetchPriority:"high"}),(0,tt.tZ)(sn,hn({id:"petition-photo",url:n.url,mobileUrl:n.mobileUrl},r))]}):i?(0,tt.tZ)(dn,{}):null}var gn=n(20858),bn=n(17270),yn=n(58655),_n=n(54814),On=n(2677),Zn=n(85175);function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pn=(0,gn.X)((function(t){var e,n,r,i,o,a,c=t.movement,u=c.slug,l=c.objective,p=c.petitionCount,f=t.petitionId,m=t.alwaysExpanded,h=t.roundedTopBorders,v=["none","standard"],g=Array.isArray(h)?h.map((function(t){return t?"standard":"none"})):h?"standard":"none",b=(0,d.useState)(m),y=(0,s.Z)(b,2),_=y[0],O=y[1],Z=(0,d.useCallback)((function(){return O((function(t){return!t}))}),[O]),w=(n=(0,T.H0)(),r=n.id,i=n.movements,o=(0,Mt.r)(),a=null===(e=i.nodes[0])||void 0===e?void 0:e.id,(0,d.useMemo)((function(){return{trackClick:function(t){o("petition_page_mvmt_click",{petition_id:r,link_location:t,movement_id:a})}}}),[o,r,a])).trackClick,x=(0,d.useCallback)((function(){w("movement_name")}),[w]),P=(0,d.useCallback)((function(){w("learn_more")}),[w]),k="/m/".concat(u).concat(Yt().stringify({source_location:"petition_page",source_event:"movement_indicator",petition_id:f},{addQueryPrefix:!0}));return(0,tt.BX)(q.x,{variant:"bordered",backgroundColor:"primary-greyBackground",sx:{borderBottomRightRadius:v,borderBottomLeftRadius:v,borderTopRightRadius:g,borderTopLeftRadius:g},children:[(0,tt.BX)($t.k,{mx:16,sx:{alignItems:"center",height:42},children:[(0,tt.BX)(Ie.xv,{as:"div",sx:{flex:1,fontWeight:"bold"},ellipsis:!0,mr:16,children:[(0,tt.tZ)(zt.v,{value:"corgi.movement.petition.movement"}),(0,tt.tZ)(_n.r,{mx:4,to:k,onClick:x,"data-testid":"movement-name-link",target:"_blank",children:l})]}),!m&&(0,tt.BX)("button",{type:"button",sx:xn(xn({},De.O),{},{display:"flex",alignItems:"center"}),onClick:Z,"aria-expanded":_,"data-testid":"toggle-button",children:[(0,tt.tZ)(qt.J,{icon:_?On.Z:Zn.Z,size:"xxl"}),(0,tt.tZ)(yn.T,{children:(0,tt.tZ)(zt.v,{value:"corgi.petition.movement.toggle_details"})})]})]}),_&&(0,tt.BX)(Ie.xv,{as:"div",paddingBottom:8,mx:16,children:[1===p?(0,tt.tZ)(zt.v,{value:"corgi.movement.petition.belongs.first",replacements:{name:l}}):(0,tt.tZ)(bn.w,{value:"corgi.movement.petition.belongs.plural",count:p,replacements:{name:l,petitionCount:p}}),(0,tt.tZ)(_n.r,{pl:4,to:k,onClick:P,"data-testid":"learn-more-link",target:"_blank",children:(0,tt.tZ)(zt.v,{value:"corgi.movement.petition.learn_more"})})]})]})}));function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){var e=(0,Ce.H)().id;return(0,tt.tZ)(Pn,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({petitionId:e},t))}function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dn(t){var e,n,r,i,o,a,c,s,u=(0,T.H0)().id,l=(e=(0,T.H0)(),(0,d.useMemo)((function(){if(e.media&&"VideoPetitionMedia"===e.media.__typename)return{html:e.media.embedTag}}),[e])),p=(i=(0,T.H0)().media,o=null==i||null===(n=i.photo)||void 0===n?void 0:n.petitionSmall,a=null==i||null===(r=i.photo)||void 0===r?void 0:r.petitionMedium,c=(0,Le.i)(null==o?void 0:o.url,{maxAttempts:Ye,pollingTime:Ge,processing:null==o?void 0:o.processing}),s=(0,Le.i)(null==a?void 0:a.url,{maxAttempts:Ye,pollingTime:Ge,processing:null==a?void 0:a.processing}),(0,d.useMemo)((function(){if(o&&a)return{mobileUrl:o.url,url:a.url,processing:!c||!s}}),[o,a,c,s])),f=(0,T.H0)().movements.nodes[0],m=l||p;return(0,tt.BX)(q.x,Sn(Sn({},t),{},{children:[m&&(0,tt.tZ)(vn,{video:l,photo:p,roundedBottomBorders:[!1,!f]},u),(0,tt.tZ)(Fe,{}),f&&(0,tt.tZ)(jn,{movement:f,roundedTopBorders:[!1,!m],alwaysExpanded:!m})]}))}var In=n(4023),En=n(72396),Mn=n(65021);function Nn(t){var e=t.organization,n=(0,Gt.Q)().translate;return(0,tt.BX)(_n.r,{to:"/o/".concat(e.slug||e.id),target:"_blank",children:[e.name,"VERIFIED"===e.verificationStatus?(0,tt.tZ)(qt.J,{icon:Mn.Z,color:"secondary-green",size:"s",role:"img","aria-label":n("fe.pages.organization.verified_label"),sx:{display:"inline-block"}}):null]})}function Bn(t){var e,n,r=t.user,i=(e=(0,T.H0)().user.id,n=(0,Mt.r)(),(0,d.useMemo)((function(){return{trackClick:function(){n("petition_page_user_link_click",{clicked_user_id:e,source_location:"petition_page"})}}}),[n,e])).trackClick,o=(0,d.useCallback)((function(){i()}),[i]),a=function(){var t,e=(0,T.H0)().user,n=e.id,r=e.slug,i=(0,H.s_)(),o=i.profilePlusPageEnabled,a=i.profilePlusPageFeatureFlags,c="/u/".concat(r||n);if(!o||null==a||!a.linkingEnabled)return c;var s=null==o||null===(t=o.users.find((function(t){return t.id===parseInt(n,10)})))||void 0===t?void 0:t.name;return s&&(c="/r/".concat(s).concat(Yt().stringify({source_location:"petition_page"},{addQueryPrefix:!0}))),c}();return(0,tt.tZ)(_n.r,{"data-testid":"user-profile-page-link",onClick:o,to:a,target:"_blank",children:r.displayName})}function Rn(t){var e=t.user,n=t.organization;return n?(0,tt.tZ)(Nn,{organization:n}):(0,tt.tZ)(Bn,{user:e})}var Hn=n(79757);function Tn(t){var e=t.decisionMaker;return e.title?(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.petition_show_byline_content.primary_dm_link_with_title",replacements:{decision_maker_title:e.title,decision_maker_name:e.displayName}}):(0,tt.tZ)("span",{children:e.displayName})}function zn(t){var e=t.decisionMaker;return(0,tt.tZ)(_n.r,{to:"/decision-makers/".concat(e.slug||e.id),target:"_blank",children:(0,tt.tZ)(Tn,{decisionMaker:e})})}var Un=n(1e3);function An(t){var e=t.photoContent,n=t.children;return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(At.Z,{role:"presentation",mt:0,mb:8,sx:{color:"neutral-grey100"}}),(0,tt.BX)($t.k,{sx:{alignItems:"center"},mb:8,children:[e,(0,tt.tZ)(q.x,{sx:{flexGrow:1,overflow:"hidden"},children:n})]})]})}function qn(t){var e,n,r=t.decisionMaker,i=t.underlineDisplayName,o=null!==(e=r.photo)&&void 0!==e&&e.userMedium.processing||null===(n=r.photo)||void 0===n?void 0:n.userMedium.url;return(0,tt.BX)(An,{photoContent:(0,tt.tZ)(En.q,{variant:"subtle","data-testid":"dm-image",src:o,mr:16,size:36,alt:"",loading:"lazy"}),children:[(0,tt.tZ)(Ie.xv,{size:"caption",ellipsis:!0,sx:{fontWeight:"bold",textDecoration:i?"underline":"none"},children:r.displayName}),r.title&&(0,tt.tZ)(Ie.xv,{size:"caption",ellipsis:!0,color:"typography-secondary",children:r.title})]})}function Xn(t){var e=t.decisionMaker;return e.publiclyVisible?(0,tt.tZ)(Ut.r,{"data-testid":"dm-link",to:"/decision-makers/".concat(e.slug||e.id),sx:{textDecoration:"none"},target:"_blank",children:(0,tt.tZ)(qn,{decisionMaker:e,underlineDisplayName:!0})}):(0,tt.tZ)(qn,{decisionMaker:e})}var Vn=(0,Me.A)({name:"DecisionMakersModal",title:function(){return(0,tt.tZ)(zt.v,{value:"fe.pages.petition_new.decision_maker"})},body:function(t){var e=t.options.petitionDetails,n=function(t,e){var n=(0,y.RA)();return(0,b.aM)((0,u.Z)(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_.ed)(t,e,n);case 2:return r.t0=r.sent,r.abrupt("return",{decisionMakers:r.t0});case 4:case"end":return r.stop()}}),r)}))),[t,e,n])}(e.slug,e.primaryDecisionMakerConnection.totalCount);return(0,g.hg)(n)?(0,tt.tZ)(m.a,{size:["s","m"],mx:"auto",my:16}):(0,g.VZ)(n)?(0,tt.tZ)(Ee.g,{size:"large",variant:"error",children:(0,tt.tZ)(zt.v,{value:"fe.errors.generic_try_again"})}):(0,tt.tZ)("ul",{role:"list",children:n.decisionMakers.map((function(t){return(0,tt.tZ)("li",{children:(0,tt.tZ)(Xn,{decisionMaker:t},t.id)},t.id)}))})}});function $n(t){var e=t.otherDecisionMakersCount,n=(0,T.H0)(),r=Vn();return(0,tt.tZ)(Un.s,{onClick:function(){return r({petitionDetails:n})},children:(0,tt.tZ)(Se.y,{value:"fe.pages.petition_show.petition_show_byline_content.other_decision_makers_link",count:e,replacements:{num:e}})})}function Fn(t){var e=t.decisionMakers,n=e.totalCount,r=e.nodes[0];return 1===n?r.publiclyVisible?(0,tt.tZ)(zn,{decisionMaker:r}):(0,tt.tZ)(Ie.xv,{sx:{fontSize:"inherit",lineHeight:"inherit"},children:(0,tt.tZ)(Tn,{decisionMaker:r})}):(0,tt.tZ)(Hn.B,{value:"fe.pages.petition_show.petition_show_byline_content.decision_maker_multiple",replacements:{primary_dm_link:r.publiclyVisible?(0,tt.tZ)(zn,{decisionMaker:r}):(0,tt.tZ)(Ie.xv,{sx:{fontSize:"inherit",lineHeight:"inherit"},children:(0,tt.tZ)(Tn,{decisionMaker:r})}),other_dms_link:(0,tt.tZ)($n,{otherDecisionMakersCount:n-1})}})}var Ln=44;function Yn(){var t,e,n=(0,T.H0)(),r=n.createdAt,i=n.primaryDecisionMakerConnection,o=n.organization,a=n.user,c=(0,Gt.Q)().localizeDate,s=i.totalCount>0,u=o?null===(t=o.photo)||void 0===t?void 0:t.organizationSmall:null===(e=a.photo)||void 0===e?void 0:e.userSmall,l=null!=u&&u.processing||null==u?void 0:u.url;return(0,tt.BX)(tt.HY,{children:[(0,tt.BX)(Ie.xv,{color:"typography-secondary",children:[(0,tt.BX)($t.k,{children:[(0,tt.tZ)(q.x,{sx:{flex:["2","1"]},children:(0,tt.tZ)(zt.v,{value:"corgi.petition.details.started_at"})}),(0,tt.tZ)(q.x,{sx:{flex:"4"},children:(0,tt.tZ)(In.V,{children:c(r,"date","long")})})]}),s&&(0,tt.BX)($t.k,{children:[(0,tt.tZ)(q.x,{sx:{flex:["2","1"]},children:(0,tt.tZ)(zt.v,{value:"corgi.petition.details.petition_to"})}),(0,tt.tZ)(q.x,{sx:{flex:"4"},children:(0,tt.tZ)(Fn,{decisionMakers:i})})]})]}),(0,tt.tZ)("h2",{children:(0,tt.tZ)(zt.v,{value:"corgi.petition.details.body_title"})}),(0,tt.BX)($t.k,{mb:16,mt:24,children:[(0,tt.tZ)(En.q,{variant:"subtle",alt:"",src:l,size:Ln,mr:4}),(0,tt.tZ)(Ie.xv,{color:"typography-secondary",children:(0,tt.BX)($t.k,{ml:8,sx:{flex:1,lineHeight:"".concat(Ln/2,"px"),minHeight:Ln,alignItems:"center"},children:[(0,tt.tZ)(zt.v,{value:"corgi.petition.details.started_by"}),"",(0,tt.tZ)(Rn,{user:a,organization:o})]})})]})]})}function Gn(){var t=(0,T.H0)().promotable,e=(0,z.Pc)().ownPetition,n=(0,H.s_)().promotionCtaEnabled;return t&&!e&&n}function Qn(t){var e=t.children,n=t.visible;return(0,tt.tZ)(q.x,{sx:{bottom:n?0:"-1000px",left:0,position:"fixed",width:"100%",zIndex:2e3,boxShadow:"0px -0.7px 1.4px rgba(0, 0, 0, 0.07), 0px -1.9px 4px rgba(0, 0, 0, 0.05), 0px -4.5px 10px rgba(0, 0, 0, 0.05), 0px -15px 32px rgba(0, 0, 0, 0.04)","&:focus-within":{bottom:"0px",outline:"none"}},children:(0,tt.tZ)(q.x,{py:8,px:16,sx:{bg:"primary-greyBackground"},children:e})})}function Wn(t){var e=t.visible,n=(0,T.H0)().slug;return(0,tt.tZ)(Qn,{visible:e,children:(0,tt.tZ)(ln.Z,{sx:{width:"100%"},to:"/p/".concat(n,"/psf/promote_or_share"),"data-testid":"signed-petition-combo-cta",children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_update.combo_action_button_label"})})})}var Jn=n(86802);function Kn(){var t=(0,T.H0)(),e=(0,z.Pc)(),n=(0,a.__)(),r=(0,H.s_)();return(0,d.useMemo)((function(){return{petitionDetails:t,userInfo:e,stats:n,fcm:r}}),[t,e,n,r])}var tr=["children","inverted","onClick"];function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rr(t){var e=t.children,n=t.inverted,r=t.onClick,i=(0,dt.Z)(t,tr),o=Kn();return(0,tt.tZ)(Jn.z,nr(nr({variant:n?"secondaryEmphasis":"primary",sx:{width:"100%"},onClick:function(){return null==r?void 0:r(o)}},i),{},{children:e}))}function ir(t){var e=t.hideHeading,n=(0,T.H0)(),r=n.slug,i=n.user,o=(0,a.kT)().signatureCount,c=(0,Gt.Q)().localizeNumber,s=w(),u=s?"/p/".concat(r,"/responses/new?").concat(h.bi,"=").concat(s):"/p/".concat(r,"/responses/new");return(0,tt.BX)(tt.HY,{children:[!e&&(0,tt.tZ)(je.X6,{as:"h4",size:"h4",mb:8,children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_respond.you_are_decision_maker",replacements:{starter_name:i.firstName}})}),(0,tt.tZ)(Ie.xv,{as:"div",size:"small",color:"typography-secondary",mb:16,children:(0,tt.tZ)(Se.y,{value:"fe.components.petition_decision_maker_respond.you_can_respond",count:o.displayed,replacements:{signature_count:c(o.displayed)}})}),(0,tt.tZ)(ln.Z,{to:u,sx:{width:"100%"},mb:16,"data-testid":"dm-respond-cta-link",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_respond.action"})}),(0,tt.tZ)(Ie.xv,{as:"div",color:"typography-secondary",size:"caption",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_respond.disclaimer"})})]})}function or(t){var e=t.stats,n=t.userInfo,r=t.petitionDetails,i=t.fcm,o=t.children;return(0,tt.tZ)(a.SR,{value:e,children:(0,tt.tZ)(z._g,{value:n,children:(0,tt.tZ)(T.Kj,{petitionDetails:r,children:(0,tt.tZ)(H.yy,{fcm:i,children:o})})})})}function ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var sr=(0,Me.A)({name:"MobileRespondModal",variant:"fullPage",closeOnBreakpoints:[!1,!0],title:function(){var t=(0,T.H0)().user;return(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_respond.you_are_decision_maker",replacements:{starter_name:t.firstName}})},body:function(){return(0,tt.tZ)(ir,{hideHeading:!0})},decorator:function(t){var e=t.children,n=t.options;return(0,tt.tZ)(or,cr(cr({},n),{},{children:e}))}});function ur(t){var e=t.visible,n=sr();return(0,tt.tZ)(Qn,{visible:e,children:(0,tt.tZ)(rr,{onClick:n,"data-qa":"mobile-share-button",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_decision_maker_respond.action"})})})}var lr=n(96986),pr=n(94790),dr=n(28630),fr=["forMobileView"],mr=["forMobileView"];function hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hr(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gr(){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(9205),n.e(29),n.e(497),n.e(3712),n.e(2456)]).then(n.bind(n,72048));case 2:return t.abrupt("return",t.sent.ShareContainer);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yr(t){var e=(0,d.useCallback)(gr,[]);return(0,tt.tZ)(pr.LazyComponent,vr({loadComponent:e,fallback:(0,tt.tZ)(dr.b,{})},t))}function _r(t){var e=t.forMobileView,n=(0,dt.Z)(t,fr);return(0,lr.k)([!1,!0])?(0,tt.tZ)(yr,vr({forMobileView:e},n)):(0,tt.tZ)(dr.b,{})}function Or(t){var e=t.forMobileView,n=(0,dt.Z)(t,mr);return e?(0,tt.tZ)(yr,vr({forMobileView:e},n)):(0,tt.tZ)(In.V,{placeholder:(0,tt.tZ)(dr.b,{}),children:(0,tt.tZ)(_r,vr({forMobileView:e},n))})}var Zr=gr;function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pr=5e3,kr=(0,Me.A)({name:"MobileShareModal",variant:"fullPage",closeOnBreakpoints:[!1,!0],title:function(){return(0,tt.tZ)(zt.v,{value:"fe.components.petition_share.action"})},body:function(){return(0,tt.tZ)(Or,{forMobileView:!0})},decorator:function(t){var e=t.children,n=t.options;return(0,tt.tZ)(or,xr(xr({},n),{},{children:e}))}});function jr(t){var e=t.visible,n=kr();return(0,d.useEffect)((function(){var t=window.setTimeout((function(){Zr()}),Pr);return function(){return window.clearTimeout(t)}})),(0,tt.tZ)(Qn,{visible:e,children:(0,tt.tZ)(rr,{inverted:!0,onClick:n,"data-qa":"mobile-share-button",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_share.action"})})})}var Cr=n(25210),Sr=n(44818),Dr=n(42443),Ir=n(1035);function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mr(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(9205),n.e(29),n.e(699),n.e(7389),n.e(4330),n.e(3913),n.e(3712),n.e(1789)]).then(n.bind(n,11401));case 2:return t.abrupt("return",t.sent.SignFormContainerRefreshWrapperContainer);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Br(t){var e=(0,d.useCallback)(Mr,[]);return(0,tt.tZ)(pr.LazyComponent,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({loadComponent:e,fallback:(0,tt.tZ)(dr.b,{})},t))}var Rr=Mr;function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zr=5e3,Ur=(0,Me.A)({name:"MobileSignModal",variant:"fullPage",closeOnBreakpoints:[!1,!0],title:function(){return(0,tt.tZ)(zt.v,{value:"fe.components.petition_sign.complete_signature"})},body:function(t){var e=t.persistentState,n=t.updatePersistentState;return(0,tt.tZ)(Dr.L,{children:(0,tt.tZ)(Ir.Y3,{insideMobileModal:!0,children:(0,tt.tZ)(Br,{previousState:e,onChange:n})})})},decorator:function(t){var e=t.children,n=t.options;return(0,tt.tZ)(or,Tr(Tr({},n),{},{children:e}))}});function Ar(t){var e=t.visible,n=(0,Cr.e)().showSignForm,r=(0,d.useState)(!1),i=(0,s.Z)(r,2),o=i[0],a=i[1],c=(0,Sr.G)().trackMobileSignIntent,u=Kn(),l=Ur();return(0,d.useEffect)((function(){var t=window.setTimeout((function(){Rr()}),zr);return function(){return window.clearTimeout(t)}}),[]),(0,d.useEffect)((function(){n&&!o&&(a(!0),l(u))}),[n,u,l,o]),(0,tt.tZ)(Qn,{visible:e,children:(0,tt.tZ)(rr,{onClick:function(){l(u),c()},"data-qa":"mobile-sign-button",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_sign.action"})})})}function qr(){var t=_t(),e=t.beforeSuggestedPetitions,n=t.afterDescription,r=(0,z.Pc)(),i=r.signed,o=r.decisionMaker,a=(0,T.H0)().status,c=Gn(),s=e||!n;return o?(0,tt.tZ)(ur,{visible:s}):"VICTORY"===a||"CLOSED"===a?(0,tt.tZ)(jr,{visible:s}):i?c?(0,tt.tZ)(Wn,{visible:s}):(0,tt.tZ)(jr,{visible:s}):(0,tt.tZ)(Ar,{visible:s})}var Xr=n(84966),Vr=n(92247);function $r(t){var e=t.backgroundColor,n=t.color,r=t.icon,i=t.children;return(0,tt.tZ)(q.x,{sx:{backgroundColor:e,textAlign:"center"},p:8,children:(0,tt.BX)(Ie.xv,{as:"div",color:n,sx:{display:"inline-flex",alignItems:"center",textAlign:"center",maxWidth:"100%"},children:[(0,tt.tZ)(qt.J,{icon:r,mr:8}),(0,tt.tZ)(Ie.xv,{sx:{flex:1,fontWeight:"bold"},ellipsis:!0,children:i})]})})}function Fr(){var t=(0,T.H0)(),e=t.status,n=t.isVerifiedVictory;return"VICTORY"===e?(0,tt.tZ)($r,{backgroundColor:"primary-changeRed",color:"typography-lightPrimary",icon:Xr.Z,children:n?(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.confirmed_victory"}):(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.victory"})}):"CLOSED"===e?(0,tt.tZ)($r,{backgroundColor:"primary-black",color:"neutral-grey100",icon:Vr.Z,children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.closed"})}):null}function Lr(){return(0,tt.tZ)(q.x,{sx:{display:["block","none"]},children:(0,tt.tZ)(Fr,{})})}var Yr=n(9364),Gr=n(42484);function Qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qr(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jr(){var t=(0,T.H0)(),e=t.id,n=t.slug;return(0,tt.tZ)(q.x,{pt:24,children:(0,tt.tZ)(Gr.E,{type:"petition",petitionId:e,petitionSlug:n,children:(0,tt.BX)("button",{type:"button",sx:Wr(Wr({},De.O),{},{display:"flex",alignItems:"center"}),children:[(0,tt.tZ)(qt.J,{icon:Yr.Z,size:"s",color:"typography-secondary",mr:8}),(0,tt.tZ)(Ie.xv,{size:"caption",sx:{textDecoration:"underline"},color:"typography-secondary",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_report_abuse.report_link"})})]})})})}var Kr=n(12312);function ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ni(t){var e=t.onClick;return(0,tt.tZ)(Ut.r,{to:"/start-a-petition?source_location=petition_show",onClick:e,sx:ei(ei({},Ft.R),{},{borderRadius:"standard"}),"aria-labelledby":"sap_cta_label","aria-describedby":"sap_cta_desc",children:(0,tt.BX)($t.k,{sx:{borderRadius:"standard",borderWidth:1,borderColor:"neutral-grey100",borderStyle:"solid"},backgroundColor:["transparent","neutral-grey50"],py:16,px:[4,16],children:[(0,tt.tZ)(Ie.xv,{as:"div",sx:{lineHeight:1},mr:8,children:(0,tt.tZ)(qt.J,{icon:Kr.Z,color:"neutral-grey700",size:[48,58]})}),(0,tt.BX)(q.x,{sx:{flex:1},children:[(0,tt.tZ)(je.X6,{as:"div",size:"h6",mb:4,id:"sap_cta_label",sx:{textAlign:"inherit"},children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.sap.start_your_own"})}),(0,tt.tZ)(Ie.xv,{size:"small",as:"div",id:"sap_cta_desc",sx:{textAlign:"inherit"},children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.sap.cta_description"})})]}),(0,tt.tZ)(q.x,{sx:{display:["none","block"]},mt:[16,24,8],ml:[null,16,40],children:(0,tt.tZ)(Jn.z,{size:"medium",variant:"secondaryEmphasis",tabIndex:-1,sx:{whiteSpace:"nowrap"},children:(0,tt.tZ)(zt.v,{value:"fe.pages.home.start_a_petition"})})})]})})}function ri(){var t=(0,H.s_)().sapCtaEnabled,e=(0,z.Pc)(),n=e.canEdit,r=e.signed,i=function(){var t,e=(0,T.H0)(),n=e.id,r=e.movements,i=(0,Mt.r)(),o=(0,z.Pc)().signed,a=Bt(),c=null===(t=r.nodes[0])||void 0===t?void 0:t.id;return(0,d.useMemo)((function(){return{trackClick:function(){i("petition_show_sap_cta_clicked",{petition_id:n,signed:o,petition_status:a,movement_id:c})}}}),[i,n,c,o,a])}(),o=i.trackClick;return!n&&t&&r?(0,tt.tZ)(q.x,{pt:24,children:(0,tt.tZ)(ni,{onClick:o})}):null}function ii(t){var e,n=t.name,r=(0,d.useState)(!1),i=(0,s.Z)(r,2),o=i[0],a=i[1],c=(e=(0,Mt.r)(),(0,d.useCallback)((function(t){e(t)}),[e])),u=(0,d.useCallback)((function(t){var e=t.currentPosition;o||"below"===e||(c(n),a(!0))}),[n,o,a,c]);return(0,tt.tZ)(bt.h,{onPositionChange:u})}function oi(t){var e=t.icon,n=t.iconColor,r=t.children;return(0,tt.BX)(je.X6,{as:"h3",size:["h4","h3"],mb:8,children:[(0,tt.tZ)(q.x,{sx:{position:"relative",display:"inline-block",bottom:-2},mr:8,children:(0,tt.tZ)(qt.J,{icon:e,color:n})}),r]})}var ai=n(67581),ci=864e5;var si=n(45209);function ui(){var t,e,n=(0,si.R)(),r=(0,T.E6)(),i=(t=(0,T.H0)(),!(!(e=(0,H.s_)()).statsRecentSignersEnabled||t.signatureCount.total<e.statsRecentSignersSignatureThreshold||!t.recentSignersConnection.totalCount));return n&&r&&i}var li=n(40387),pi=n.n(li),di=n(86642),fi=n(30602),mi=40;var hi=(0,gn.X)((function(t){var e,n,r=t.signer,i=t.timestamp,o=(0,ai.m)(),a=(0,Gt.Q)().localizeRelativeTime,c=null===(e=r.photo)||void 0===e?void 0:e.userSmall,s=c&&!c.processing&&(null==c?void 0:c.url)||void 0;return(0,tt.BX)($t.k,{py:2,sx:{height:mi,alignItems:"center"},children:[(0,tt.tZ)(En.q,{variant:"subtle",src:s,size:32,alt:"",loading:"lazy"}),(0,tt.tZ)(q.x,{sx:{flex:1},ml:8,children:(0,tt.tZ)(fi.o,{height:mi,watchResize:!0,children:(0,tt.tZ)(Ie.xv,{as:"div",size:"caption",sx:{lineHeight:"".concat(16,"px")},color:"typography-secondary",children:(0,tt.tZ)(Hn.B,{value:i?(0,di.B)("fe.pages.petition_show.recent_signers.name_with_sign_time"):(0,di.B)("fe.components.petition_sign.recruiter_signed"),replacements:{name:(0,tt.tZ)(Ie.xv,{sx:{fontSize:"inherit",lineHeight:"inherit",fontWeight:"bolder"},title:r.displayName,children:(n=r.displayName,pi()({length:36,omission:""})(n))}),relative_time:i?a(o,new Date(i)):""}})})})})]})}));function vi(t){var e=t.signers,n=function(t){var e=(0,ai.m)(),n=(0,d.useMemo)((function(){return new Date(e.getTime()-ci)}),[e]);return t.some((function(t){var e=t.timestamp;return new Date(e)>=n}))}(e);return(0,tt.tZ)(q.x,{children:e.slice(0,h.yI).map((function(t){return(0,tt.tZ)(hi,{signer:t.node,timestamp:n?t.timestamp:void 0},t.node.id)}))})}var gi=n(38041),bi=n.n(gi),yi=n(66502);function _i(){return(0,tt.BX)($t.k,{py:2,sx:{height:mi,alignItems:"center"},children:[(0,tt.tZ)(En.q,{variant:"ghost",size:"xs",alt:""}),(0,tt.tZ)(q.x,{sx:{flex:"1"},ml:8})]})}function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wi(){return(0,tt.tZ)(q.x,{sx:Zi({height:h.yI*mi},(0,yi.r)()),children:bi()((function(t){return(0,tt.tZ)(_i,{},t)}))(h.yI)})}function xi(){var t=ui(),e=(0,a.__)();return t?(0,g.hg)(e)?(0,tt.tZ)(q.x,{mt:8,"aria-hidden":"true",children:(0,tt.tZ)(wi,{})}):(0,g.VZ)(e)?null:(0,tt.BX)(q.x,{mt:8,children:[(0,tt.tZ)(yn.T,{as:"h2",children:(0,tt.tZ)(zt.v,{value:"corgi.petition.details.recent_signers.title"})}),(0,tt.tZ)(vi,{signers:e.stats.recentSignersConnection.edges})]}):null}function Pi(){var t=(0,si.R)(),e=(0,a.__)(),n=(0,H.s_)(),r=(0,d.useMemo)((function(){if((0,g.kR)(e)){var t=e.stats.recruiter;return t?{id:t.id,displayName:t.displayName,photo:t.photo}:void 0}}),[e]);return!(0,g.kR)(e)||!e.stats.recruiter||e.stats.recruiter.country&&e.stats.recruiter.country.hideRecruiterName||!t?null:n.statsRecruiterNameEnabled?(0,tt.BX)(q.x,{mt:8,children:[(0,tt.tZ)(A.p,{name:"recruiter",value:r,persistent:!0}),(0,tt.tZ)(yn.T,{as:"h2",children:(0,tt.tZ)(zt.v,{value:"corgi.petition.details.recruiter.title"})}),(0,tt.tZ)(hi,{signer:e.stats.recruiter})]}):(0,tt.tZ)(A.p,{name:"recruiter",value:r,persistent:!0})}function ki(t){var e=t.count,n=t.goal,r=(0,Gt.Q)().localizeNumber;return(0,tt.tZ)(q.x,{mb:8,children:(0,tt.tZ)(bn.w,{value:"fe.pages.petition_show.formatted_gradient_thermometer_copy",count:e,replacements:{formatted_num_sigs:r(e),goal:r(n)}})})}function ji(){var t=(0,a.kT)(),e=t.signatureCount.displayed,n=t.signatureGoal.displayed;return(0,tt.tZ)(ki,{count:e,goal:n})}var Ci=n(63341);function Si(){var t=(0,a.kT)(),e=t.signatureCount.displayed,n=t.signatureGoal.displayed;return(0,tt.tZ)(q.x,{children:(0,tt.tZ)(Ci.F,{signatureCount:e,signatureGoal:n})})}function Di(t){var e=t.showRecruiter;return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(ji,{}),(0,tt.tZ)(Si,{}),e&&(0,tt.tZ)(Pi,{}),(0,tt.tZ)(xi,{})]})}function Ii(){var t=(0,a.kT)().signatureCount,e=(0,Gt.Q)().localizeNumber;return(0,tt.tZ)(Ie.xv,{color:"typography-secondary",children:(0,tt.tZ)(Se.y,{value:"fe.pages.petition_show.num_supporters_closed",replacements:{num_sigs:e(t.displayed)},count:t.displayed})})}function Ei(){var t=(0,a.kT)().signatureCount,e=(0,Gt.Q)().localizeNumber;return(0,tt.tZ)(Ie.xv,{size:"small",children:(0,tt.tZ)(Se.y,{value:"fe.pages.petition_show.num_supporters_victory",replacements:{num_sigs:e(t.displayed)},count:t.displayed})})}function Mi(){var t=(0,T.H0)().status;return"CLOSED"===t?(0,tt.tZ)(Ii,{}):"VICTORY"===t?(0,tt.tZ)(Ei,{}):(0,tt.tZ)(Di,{showRecruiter:!0})}function Ni(){return(0,tt.tZ)(q.x,{mb:16,children:(0,tt.tZ)(Mi,{})})}function Bi(){return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(oi,{icon:Vr.Z,iconColor:"neutral-grey600",children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.closed"})}),(0,tt.tZ)(Ii,{}),(0,tt.tZ)(yn.T,{as:"h2",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_share.action"})}),(0,tt.tZ)(Or,{forMobileView:!1})]})}function Ri(){return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(q.x,{mb:8,children:(0,tt.tZ)(Di,{showRecruiter:!1})}),(0,tt.tZ)(yn.T,{as:"h2",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_share.action"})}),(0,tt.tZ)(Or,{forMobileView:!1})]})}function Hi(){var t=(0,T.H0)().slug,e=(0,a.kT)(),n=(0,Gt.Q)().localizeNumber,r=e.signatureCount.displayed,i=e.signatureGoal.displayed;return(0,tt.BX)(q.x,{sx:{position:"sticky",top:16},children:[(0,tt.tZ)(Di,{showRecruiter:!1}),(0,tt.tZ)(q.x,{backgroundColor:"neutral-grey50",sx:{borderRadius:"standard"},p:16,my:16,children:(0,tt.tZ)(Ie.xv,{as:"div",size:"small",children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_update.combo_call_to_action_identified",replacements:{signature_target:n(i-r)}})})}),(0,tt.tZ)(ln.Z,{to:"/p/".concat(t,"/psf/promote_or_share"),sx:{width:"100%"},"data-qa":"signed-petition-combo-cta",children:(0,tt.tZ)(zt.v,{value:"fe.pages.petition_update.combo_action_button_label"})})]})}function Ti(){return Gn()?(0,tt.tZ)(Hi,{}):(0,tt.tZ)(Ri,{})}function zi(){var t=(0,lr.k)([!1,!0]);return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(je.X6,{as:"h2",size:"h3",mt:32,mb:16,children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_sign.action"})}),t?(0,tt.tZ)(Br,{}):(0,tt.tZ)(dr.b,{})]})}function Ui(){return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(q.x,{mb:16,children:(0,tt.tZ)(Di,{showRecruiter:!0})}),(0,tt.tZ)(In.V,{placeholder:(0,tt.tZ)(dr.b,{}),children:(0,tt.tZ)(zi,{})})]})}function Ai(){var t=(0,T.H0)().isVerifiedVictory;return(0,tt.BX)(tt.HY,{children:[(0,tt.tZ)(oi,{icon:Xr.Z,iconColor:"primary-changeRed",children:t?(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.confirmed_victory"}):(0,tt.tZ)(zt.v,{value:"fe.pages.petition_show.status.victory"})}),(0,tt.tZ)(Ei,{}),(0,tt.tZ)(yn.T,{as:"h2",children:(0,tt.tZ)(zt.v,{value:"fe.components.petition_share.action"})}),(0,tt.tZ)(Or,{forMobileView:!1})]})}function qi(){var t=(0,z.Pc)(),e=(0,T.H0)().status;return t.decisionMaker?(0,tt.tZ)(ir,{}):"CLOSED"===e?(0,tt.tZ)(Bi,{}):"VICTORY"===e?(0,tt.tZ)(Ai,{}):t.signed?(0,tt.tZ)(Ti,{}):(0,tt.tZ)(Ui,{})}function Xi(){var t=(0,d.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(9205),n.e(4137),n.e(29),n.e(497),n.e(3712),n.e(2713)]).then(n.bind(n,34634));case 2:return t.abrupt("return",t.sent.UpdatesAndComments);case 3:case"end":return t.stop()}}),t)}))),[]);return(0,tt.tZ)(pr.ScrollableComponent,{topOffset:200,immediateForBots:!0,children:(0,tt.tZ)(pr.LazyComponent,{loadComponent:t})})}function Vi(){return(0,tt.BX)(q.x,{sx:{gridTemplateColumns:"66.66667% 33.33333%","&":{display:["block","grid"]}},children:[(0,tt.BX)(q.x,{sx:{gridColumn:"1 / 1"},pr:[0,40],children:[(0,tt.tZ)(Lr,{}),(0,tt.tZ)(Dn,{px:[0,8]}),(0,tt.BX)(q.x,{px:[16,8],children:[(0,tt.tZ)(vt,{viewportSize:"small",children:(0,tt.tZ)(Ae,{})}),(0,tt.tZ)(vt,{viewportSize:"small",children:(0,tt.tZ)(Ni,{})})]}),(0,tt.tZ)(vt,{viewportSize:"small",children:(0,tt.tZ)(At.Z,{role:"presentation"})}),(0,tt.BX)(q.x,{px:[16,8],children:[(0,tt.tZ)(q.x,{pt:"24",children:(0,tt.tZ)(Yn,{})}),(0,tt.tZ)($e,{}),(0,tt.tZ)(ii,{name:"scroll_past_body"}),(0,tt.tZ)(qe,{})]})]}),(0,tt.BX)(q.x,{sx:{gridColumn:"2 / 2",gridRow:"1 / span 2"},children:[(0,tt.tZ)(vt,{viewportSize:"small",children:(0,tt.tZ)(qr,{})}),(0,tt.tZ)(vt,{viewportSize:"normal",px:8,pb:24,sx:{height:"100%"},children:(0,tt.tZ)(qi,{})})]}),(0,tt.BX)(q.x,{sx:{gridColumn:"1 / 1",gridRow:"2 / 2"},pr:[0,40],children:[(0,tt.BX)(q.x,{px:[16,8],children:[(0,tt.tZ)(Jr,{}),(0,tt.tZ)(ri,{})]}),(0,tt.tZ)(At.Z,{role:"presentation",my:24}),(0,tt.tZ)(ii,{name:"scroll_updates_section"}),(0,tt.tZ)(Xi,{})]})]})}function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fi(t){var e=(0,d.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(4137),n.e(699),n.e(4330),n.e(782)]).then(n.bind(n,12304));case 2:return t.abrupt("return",t.sent.OnDemandSupportContainer);case 3:case"end":return t.stop()}}),t)}))),[]);return(0,tt.tZ)(pr.LazyComponent,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({loadComponent:e},t))}function Li(){var t=(0,T.H0)(),e=t.status,n=t.slug;return"UNPUBLISHED"===e?(0,tt.tZ)(f.l,{to:"/p/".concat(n,"/preview"),reason:"unpublished"}):null}function Yi(){var t=(0,d.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(9205),n.e(29),n.e(3712),n.e(4114)]).then(n.bind(n,95482));case 2:return t.abrupt("return",t.sent.SuggestedPetitionsContainer);case 3:case"end":return t.stop()}}),t)}))),[]);return(0,tt.tZ)(pr.ScrollableComponent,{topOffset:200,immediateForBots:!0,children:(0,tt.tZ)(pr.LazyComponent,{loadComponent:t})})}function Gi(){var t=(0,d.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(29),n.e(3712),n.e(3826)]).then(n.bind(n,69523));case 2:return t.abrupt("return",t.sent.SuggestedVictoriousPetitionsContainer);case 3:case"end":return t.stop()}}),t)}))),[]);return(0,tt.tZ)(pr.ScrollableComponent,{topOffset:200,immediateForBots:!0,children:(0,tt.tZ)(pr.LazyComponent,{loadComponent:t})})}var Qi=n(37917),Wi=n(80535);function Ji(){var t=(0,Qi.m)(),e=(0,d.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(699),n.e(9814)]).then(n.bind(n,61763));case 2:return t.abrupt("return",t.sent.TrendingMovementContainer);case 3:case"end":return t.stop()}}),t)}))),[]);return(0,g.hg)(t)?null:t.experiment.variation!==Wi.p.CONTROL?(0,tt.tZ)(pr.ScrollableComponent,{topOffset:200,immediateForBots:!0,children:(0,tt.tZ)(pr.LazyComponent,{loadComponent:e})}):null}function Ki(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function to(){var t;Tt(),(0,Dt.Z5)();var e,n,r,i,o,a=(0,H.s_)().suggestedVictoriousPetitionsEnabled,u=(0,T.H0)(),l=(e=(0,T.H0)(),(0,d.useMemo)((function(){var t=e.id,n=e.user,r=e.organization,i=e.createdAt,o=e.signatureCount,a=e.signatureGoal,c=e.weeklySignatureCount,s=e.tagsConnection;return{id:t,user:{id:n.id,displayName:n.displayName,photo:n.photo},organization:r?{id:r.id,name:r.name,photo:r.photo}:void 0,createdAt:i,signatureCount:{displayed:o.displayed,total:o.total,goal:a.displayed},weeklySignatureCount:c,tags:s?s.nodes:[]}}),[e])),p=(0,st.C)(),f=(0,H.s_)().onDemandText,m=function(t){var e,n=(0,z.Pc)().ownPetition,r=(0,H.s_)(),i=r.onDemandDayTriggers,o=r.onDemandMaxRequests,a=r.onDemandSupport,c=(0,v.pp)(),s=(0,g.kR)(c)?c.value:"",u=(0,v.lY)(),l=(0,k.z0)("campaign_on_demand_support");if(!(0,g.kR)(u)||!(0,g.kR)(l))return!1;var p=t.id,d=t.publishedAt,f=t.discoverable;return(0,Ct.p)({loginState:s,petition:{id:p,publishedAt:d||void 0,discoverable:f},isPetitionOwner:n,ownerHasPhoneNumber:!(null===(e=u.data)||void 0===e||!e.phoneNumber),enabledFCM:!!a,dateRangeFCM:null!=i?i:{},maxRequestsFCM:null!=o?o:0,treatExperiment:l.value})}(u),h=(r=null==(n=u)?void 0:n.publishedAt,i=(0,H.s_)().onDemandDayTriggers,!(void 0===(o=null==i?void 0:i.expand_day)||Number.isNaN(o)||!r)&&(0,St.fl)(r,o)),b=(0,d.useState)("ready"),y=(0,s.Z)(b,2),_=y[0],O=y[1],Z=function(t,e){var n=(0,H.s_)(),r=n.chatEnabled,i=n.chatDisplayDaysPostPublish,o=(0,z.Pc)().ownPetition,a=(0,v.pp)(),c=jt(t,e),s=(0,d.useMemo)((function(){return{petition_id:null==t?void 0:t.id,view_context:e}}),[null==t?void 0:t.id,e]),u=t.publishedAt,l=t.discoverable,p=(0,K.yY)({loginState:(0,g.kR)(a)?a.value:"",petition:{publishedAt:u||void 0,discoverable:l},isPetitionOwner:o,enabledFCM:r,dateRangeFCM:i});return(0,Pt.S)(p,{omniChatAttributes:c,eventTrackingProperties:s}),p}(u,"petition_show");return(0,tt.BX)(q.x,{"data-testid":"details-container",mb:32,children:[(0,tt.tZ)(Li,{}),(0,tt.BX)(wt,{children:[(0,tt.tZ)(A.p,{name:"petition",value:l}),(0,tt.tZ)(ke,{}),(0,tt.tZ)(re,{}),(0,tt.BX)(X.W,{variant:"small",children:[(0,tt.tZ)(vt,{viewportSize:"normal",children:(0,tt.tZ)(Ae,{})}),"success"===_&&(0,tt.tZ)(pt,{}),(0,tt.tZ)(Vi,{})]}),(0,tt.tZ)(Ji,{}),(0,tt.tZ)(xt,{}),(0,tt.tZ)(ii,{name:"scroll_other_petitions_visible"}),(0,tt.tZ)(gt.Y2,{children:(0,tt.tZ)(Yi,{})}),a&&(0,tt.tZ)(gt.Y2,{children:(0,tt.tZ)(Gi,{})})]}),(0,g.kR)(p)&&(0,tt.tZ)(U.fX,{allowed:p.values.omniChannelPopupUI,children:function(t){return(0,tt.tZ)(ct,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ctaText:p.values.omniChannelPopupCopy},t))}}),!Z&&m&&(0,tt.tZ)(Fi,{onSubmitRequest:O,status:_,petitionId:null==u?void 0:u.id,userId:null==u||null===(t=u.user)||void 0===t?void 0:t.id,onDemandSupportCopy:f,shouldAutoExpand:h})]})}function eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eo(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ro(t,e){var n,r,o,a,c=function(t,e){var n=(0,y.RA)(),r=(0,v.g5)(),o=(0,g.kR)(r)?null==r?void 0:r.value:void 0,a=(0,O.N)(),c=w();return(0,b.td)((0,u.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o&&!c){e.next=6;break}return e.next=3,(0,_.i4)({slugOrId:t,decisionMakerHash:c},n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!1;case 7:return e.t1=e.t0,e.abrupt("return",{decisionMaker:e.t1});case 9:case"end":return e.stop()}}),e)}))),[o,t,c,n],{id:a,prefetchedState:void 0===e?void 0:(0,i.A)(a,"loaded",{decisionMaker:e.decisionMaker}),errorHandler:function(t){return{cause:t.cause}}})}(t,e),l=(0,v.TK)(e?{consentProvided:e.gdprConsentProvided}:void 0),f=(n=e,r=(0,d.useState)(n?{status:"loaded",values:n}:{status:"loading"}),o=(0,s.Z)(r,1)[0],a=(0,P.j)(E(),N),(0,g.kR)(o)?o:a);if((0,g.VZ)(c))throw new Error("Petition details: Failed to load decision maker info",{cause:c.cause});if((0,g.VZ)(l))throw new Error("Petition details: Failed to load GDPR consent info");if((0,g.VZ)(f))throw new Error("Petition details: Failed to load experiments");var m=(0,d.useMemo)((function(){return{status:"loading"}}),[]);return(0,d.useMemo)((function(){return(0,g.hg)(c)||(0,g.hg)(l)||(0,g.hg)(f)?m:{status:"loaded",experiments:f.values,decisionMaker:c.decisionMaker,gdprConsentProvided:l.consentProvided}}),[m,c,l,f])}var io,oo,ao=(0,i.X)((function(t){var e=t.slug,n=t.userInfoState,r=t.prefetchedData,i=t.prefetchedUserData,o=(0,T.SN)(e,null==r?void 0:r.details),a=(0,H.IB)(),c=ro(e,i);if((0,g.VZ)(o)&&"notFound"===o.reason)return(0,tt.tZ)(f.l,{to:"/?petition_not_found=true"});if((0,g.VZ)(o))throw new Error("Petition details: Failed to load petition details",{cause:o.cause});if((0,g.VZ)(n))throw new Error("Petition details: Failed to load user info",{cause:n.cause});return(0,g.hg)(o)||(0,g.hg)(a)||(0,g.hg)(n)||(0,g.hg)(c)?(0,tt.tZ)(m.a,{size:"m",my:256,mx:"auto"}):(0,tt.tZ)(H.yy,{fcm:a.values,children:(0,tt.tZ)(T.Kj,{petitionDetails:o.details,children:(0,tt.tZ)(z.TI,{userInfo:n.info,decisionMaker:c.decisionMaker,gdprConsentProvided:c.gdprConsentProvided,experiments:c.experiments,children:(0,tt.tZ)(to,{})})})})}),{prefetchName:"31f60d98f1fbf004e82b782716a3d762",prefetchData:(oo=(0,u.Z)(p().mark((function t(e){var n,r,i,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params.slug,t.next=3,Promise.all([(0,T.Bs)(n,e),(0,H.eu)(e),(0,H.GC)(e),(0,H.fk)(e)]);case 3:return r=t.sent,i=(0,s.Z)(r,1),o=i[0],t.abrupt("return",{details:o});case 7:case"end":return t.stop()}}),t)}))),function(t){return oo.apply(this,arguments)}),prefetchUserData:(io=(0,u.Z)(p().mark((function t(e){var n,r,i,o,a,c,u,l,d,f,m;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params.slug,i=e.query[h.bi],o=e.utilityContext,a=e.session,c="string"==typeof i?i:null,t.next=4,Promise.all([x(null===(n=a.user)||void 0===n?void 0:n.id,{slug:r,decisionMakerHash:c},o),B(e),(0,v.OO)(o)]);case 4:return u=t.sent,l=(0,s.Z)(u,3),d=l[0],f=l[1],m=l[2].consentProvided,t.abrupt("return",no(no(no({decisionMaker:!1},d),f),{},{gdprConsentProvided:m}));case 10:case"end":return t.stop()}}),t)}))),function(t){return io.apply(this,arguments)})}),co=(0,i.X)((function(t){var e=t.slug,n=t.userInfoState;return(0,tt.tZ)(a.rX,{slug:e,children:(0,tt.tZ)(ao,{slug:e,userInfoState:n})})}),{prefetchName:"997814a36eddf77c3db17447cedf8c39",prefetchDependencies:[ao]}),so=(0,o.L)({corgi:{petition:{movement:{toggle_details:"Toggle movement details"}}}},co),uo=(0,i.X)((function(t){var e=t.userInfoState,n=(0,r.q)().slug;return(0,tt.tZ)(so,{slug:n,userInfoState:e})}),{prefetchName:"9951b844ee1d4c3d0b46461373e62422",prefetchDependencies:[so]}),lo=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.sharer),o=(0,s.Z)(i,1)[0],a=(0,r.q)().slug,c=me(),u=c.title,l=c.description;return o?(0,tt.tZ)(de,{sharer:o,title:u,description:l,children:(0,tt.tZ)(so,{slug:a,userInfoState:e})}):(0,tt.tZ)(so,{slug:a,userInfoState:e})}),{prefetchName:"f748019862d2fa071ff5cb87972fdff9",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params.sharerUserId){t.next=3;break}return t.abrupt("return",{});case 3:return t.prev=3,t.next=6,(0,_.Mm)(n,e.utilityContext);case 6:return t.t0=t.sent,t.abrupt("return",{sharer:t.t0});case 10:return t.prev=10,t.t1=t.catch(3),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}),po=(0,i.X)((function(t){var e=t.userInfoState,n=(0,r.q)().slug,i=me(),o=i.title,a=i.description,c=fe();return c?(0,tt.tZ)(de,{sharer:c,title:o,description:a,children:(0,tt.tZ)(so,{slug:n,userInfoState:e})}):(0,tt.tZ)(so,{slug:n,userInfoState:e})}),{prefetchName:"7d435d68101b7c77100099ff7eaa19f1",prefetchDependencies:[so]}),fo=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.sharer),o=(0,s.Z)(i,1)[0],a=(0,d.useState)(null==n?void 0:n.variant),c=(0,s.Z)(a,1)[0],u=(0,d.useState)(null==n?void 0:n.mita),l=(0,s.Z)(u,1)[0],p=(0,r.q)().slug,f=me(),m=f.title,h=f.description;return o?c?l?(0,tt.tZ)(ye,{image:l,children:(0,tt.tZ)(de,{sharer:o,title:c.headline,description:c.description,children:(0,tt.tZ)(so,{slug:p,userInfoState:e})})}):(0,tt.tZ)(de,{sharer:o,title:c.headline,description:c.description,children:(0,tt.tZ)(so,{slug:p,userInfoState:e})}):l?(0,tt.tZ)(ye,{image:l,children:(0,tt.tZ)(de,{sharer:o,title:m,description:h,children:(0,tt.tZ)(so,{slug:p,userInfoState:e})})}):(0,tt.tZ)(de,{sharer:o,title:m,description:h,children:(0,tt.tZ)(so,{slug:p,userInfoState:e})}):l?(0,tt.tZ)(ye,{image:l,children:(0,tt.tZ)(so,{slug:p,userInfoState:e})}):(0,tt.tZ)(so,{slug:p,userInfoState:e})}),{prefetchName:"c6c9bd2058bdcb3e0b9a0923abf0fcff",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n,r,i,o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.slug,i=n.experimentName,o=n.experimentVariantName,a=n.sharerUserId,o&&a){t.next=3;break}return t.abrupt("return",{});case 3:return t.next=5,(0,_.v9)(r,o,e.utilityContext).catch((function(){}));case 5:return t.t0=t.sent,t.next=8,(0,_.h7)(r,i,o,e.utilityContext).catch((function(){}));case 8:return t.t1=t.sent,t.next=11,(0,_.Mm)(a,e.utilityContext).catch((function(){}));case 11:return t.t2=t.sent,t.abrupt("return",{variant:t.t0,mita:t.t1,sharer:t.t2});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),mo=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.variant),o=(0,s.Z)(i,1)[0],a=(0,r.q)().slug,c=me(),u=c.title,l=c.description,p=fe();return p?o?(0,tt.tZ)(de,{sharer:p,title:o.headline,description:o.description,children:(0,tt.tZ)(so,{slug:a,userInfoState:e})}):(0,tt.tZ)(de,{sharer:p,title:u,description:l,children:(0,tt.tZ)(so,{slug:a,userInfoState:e})}):(0,tt.tZ)(so,{slug:a,userInfoState:e})}),{prefetchName:"3eaba85c6a24af18882ca866d4b1a7e8",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.slug,i=n.experimentVariantName){t.next=3;break}return t.abrupt("return",{});case 3:return t.prev=3,t.next=6,(0,_.v9)(r,i,e.utilityContext);case 6:return t.t0=t.sent,t.abrupt("return",{variant:t.t0});case 10:return t.prev=10,t.t1=t.catch(3),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}),ho=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.sharer),o=(0,s.Z)(i,1)[0],a=(0,d.useState)(null==n?void 0:n.variant),c=(0,s.Z)(a,1)[0],u=(0,r.q)().slug,l=me(),p=l.title,f=l.description;return o?c?(0,tt.tZ)(de,{sharer:o,title:c.headline,description:c.description,children:(0,tt.tZ)(so,{slug:u,userInfoState:e})}):(0,tt.tZ)(de,{sharer:o,title:p,description:f,children:(0,tt.tZ)(so,{slug:u,userInfoState:e})}):(0,tt.tZ)(so,{slug:u,userInfoState:e})}),{prefetchName:"a530061f1553e65426b0d33bcb1e388c",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n,r,i,o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.slug,i=n.shareType,o=n.experimentVariantName,a=n.sharerUserId,i&&["wa","cl_"].includes(i)){t.next=3;break}return t.abrupt("return",{});case 3:if(o&&a){t.next=5;break}return t.abrupt("return",{});case 5:return t.next=7,("wa"===i?(0,_.KB)(r,o,e.utilityContext):(0,_.dL)(r,o,e.utilityContext)).catch((function(){}));case 7:return t.t0=t.sent,t.next=10,(0,_.Mm)(a,e.utilityContext).catch((function(){}));case 10:return t.t1=t.sent,t.abrupt("return",{variant:t.t0,sharer:t.t1});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),vo=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.variant),o=(0,s.Z)(i,1)[0],a=(0,r.q)().slug,c=me(),u=c.title,l=c.description,p=fe();return p?o?(0,tt.tZ)(de,{sharer:p,title:o.headline,description:o.description,children:(0,tt.tZ)(so,{slug:a,userInfoState:e})}):(0,tt.tZ)(de,{sharer:p,title:u,description:l,children:(0,tt.tZ)(so,{slug:a,userInfoState:e})}):(0,tt.tZ)(so,{slug:a,userInfoState:e})}),{prefetchName:"eaa8e3eadaa27ab2c4d18fa85b4e632b",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n,r,i,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.slug,i=n.shareType,o=n.experimentVariantName,i&&["wa","cl_"].includes(i)){t.next=3;break}return t.abrupt("return",{});case 3:if(o){t.next=5;break}return t.abrupt("return",{});case 5:return t.prev=5,t.next=8,"wa"===i?(0,_.KB)(r,o,e.utilityContext):(0,_.dL)(r,o,e.utilityContext);case 8:return t.t0=t.sent,t.abrupt("return",{variant:t.t0});case 12:return t.prev=12,t.t1=t.catch(5),t.abrupt("return",{});case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()}),go=(0,i.X)((function(t){var e=t.userInfoState,n=t.prefetchedData,i=(0,d.useState)(null==n?void 0:n.sharer),o=(0,s.Z)(i,1)[0],a=(0,r.q)(),c=a.slug,u=function(t){var e=(0,Gt.Q)().translate,n=(0,d.useMemo)((function(){switch(t){case"facebook":return e("fe.components.petition_share.share_text_fb",{sharer_name:"%{sharer_name}",random_2_digit_number:"%{random_2_digit_number}"});case"whatsapp":return e("corgi.share_for_starters.share_text.whatsapp.title",{sharer_name:"%{sharer_name}",random_2_digit_number:"%{random_2_digit_number}"});case"copy":return e("corgi.share_for_starters.share_text.copylink.title");default:return e("fe.components.petition_share.share_text")}}),[t,e]),r=(0,d.useMemo)((function(){return"facebook"===t?e("corgi.share_for_starters.share_text.facebook.description",{signature_target:"%{signature_target}",petition_name:"%{petition_name}",random_2_digit_number:"%{random_2_digit_number}"}):"%{petition_name}"}),[t,e]);return(0,d.useMemo)((function(){return{title:n,description:r}}),[n,r])}(a.shareChannel),l=u.title,p=u.description;return o?(0,tt.tZ)(de,{sharer:o,title:l,description:p,children:(0,tt.tZ)(so,{slug:c,userInfoState:e})}):(0,tt.tZ)(so,{slug:c,userInfoState:e})}),{prefetchName:"4f8e6f8e21a1044fcb94bf04cc243aab",prefetchDependencies:[so],prefetchData:function(){var t=(0,u.Z)(p().mark((function t(e){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params.sharerUserId){t.next=3;break}return t.abrupt("return",{});case 3:return t.prev=3,t.next=6,(0,_.Mm)(n,e.utilityContext);case 6:return t.t0=t.sent,t.abrupt("return",{sharer:t.t0});case 10:return t.prev=10,t.t1=t.catch(3),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}),bo=n(67044)},81193:function(t,e,n){n.d(e,{YF:function(){return b},li:function(){return m},dL:function(){return rt},Iz:function(){return L},ed:function(){return P},v9:function(){return K},h7:function(){return W},LS:function(){return ut},oL:function(){return kt},n7:function(){return G},Mm:function(){return bt},$i:function(){return Et},jN:function(){return Rt},KB:function(){return et},i4:function(){return ot},xG:function(){return Z},a:function(){return vt}});var r,i=n(83644),o=n(49458),a=n(2903),c=n(1558),s=n.n(c),u=n(22117);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d,f=(0,u.ZP)(r||(r=(0,a.Z)(["\n\tquery PetitionDetailsPageComments($petitionSlugOrId: String!, $count: Int!, $cursor: ID) {\n\t\tpetition: petitionBySlugOrId(slugOrId: $petitionSlugOrId) {\n\t\t\tid\n\t\t\tcommentsConnection(first: $count, after: $cursor, sortBy: POPULAR) {\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t\tcomment\n\t\t\t\t\tcreatedAt\n\t\t\t\t\tlikes\n\t\t\t\t\tviewerLiked\n\t\t\t\t\trole\n\t\t\t\t\tuser {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tuserSmall {\n\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpageInfo {\n\t\t\t\t\tendCursor\n\t\t\t\t\thasNextPage\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])));function m(t,e,n){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.gql.fetch,t.next=3,i({query:f,variables:p(p({petitionSlugOrId:e},n),{},{cursor:n.cursor||null}),important:!0});case 3:if(o=t.sent,a=o.data,c=null==a?void 0:a.petition){t.next=8;break}return t.abrupt("return",void 0);case 8:return t.abrupt("return",c.commentsConnection);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v,g=(0,u.ZP)(d||(d=(0,a.Z)(["\n\tmutation PetitionDetailsPageDeleteComment($input: DeleteCommentInput!) {\n\t\tdeleteComment(input: $input) {\n\t\t\tsuccess\n\t\t}\n\t}\n"])));function b(t,e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(s().mark((function t(e,n){var r,i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.gql.fetch,t.next=3,i({query:g,variables:{input:{commentId:e}}});case 3:if(o=t.sent,null!=(a=o.data)&&null!==(r=a.deleteComment)&&void 0!==r&&r.success){t.next=7;break}throw new Error("Unable to delete comment");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _,O=(0,u.ZP)(v||(v=(0,a.Z)(["\n\tmutation PetitionDetailsPageLikeComment($input: LikeCommentInput!) {\n\t\tlikeComment(input: $input) {\n\t\t\tsuccess\n\t\t\tliked\n\t\t}\n\t}\n"])));function Z(t,e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(s().mark((function t(e,n){var r,i,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commentId,i=e.like,o=n.gql.fetch,t.next=4,o({query:O,variables:{input:{commentId:r,like:i}}});case 4:if(a=t.sent,null!=(c=a.data)&&c.likeComment.success){t.next=8;break}throw new Error("Unable to like comment");case 8:return t.abrupt("return",c.likeComment);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var x=(0,u.ZP)(_||(_=(0,a.Z)(["\n\tquery PetitionDetailsPageDecisionMakers($slugOrId: String!, $numDecisionMakers: Int!) {\n\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\tid\n\t\t\tdecisionMakersConnection(first: $numDecisionMakers) {\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t\tslug\n\t\t\t\t\tdisplayName\n\t\t\t\t\ttitle\n\t\t\t\t\tpubliclyVisible\n\t\t\t\t\tphoto {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tuserMedium {\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])));function P(t,e,n){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.gql.fetch,t.next=3,o({query:x,variables:{slugOrId:e,numDecisionMakers:n}});case 3:if(a=t.sent,null!=(c=a.data)&&null!==(i=c.petition)&&void 0!==i&&i.decisionMakersConnection){t.next=7;break}throw new Error("Unable to fetch decision makers");case 7:return t.abrupt("return",c.petition.decisionMakersConnection.nodes);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j,C=n(77754);function S(t){var e,n,r=t.slug,i=t.organization,o=t.user;return i?{slug:r,starter:{displayName:i.name,photo:(null===(n=i.photo)||void 0===n?void 0:n.userSmall)||null}}:{slug:r,starter:{displayName:o.displayName,photo:(null===(e=o.photo)||void 0===e?void 0:e.userSmall)||null}}}function D(t){var e;return"MilestonePetitionUpdate"===t.__typename?null:null!==(e=t.video)&&void 0!==e&&e.photo?{url:t.video.photo.petitionMedium.url,processing:t.video.photo.petitionMedium.processing}:t.photo?{url:t.photo.petitionMedium.url,processing:t.photo.petitionMedium.processing}:t.embeddedMedia&&t.embeddedMedia.photoUrl?{url:t.embeddedMedia.photoUrl,processing:!1}:null}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e){var n=t.nodes,r=t.pageInfo;return{updates:(n||[]).map((function(t){return function(t,e){var n,r,i,o=e.slug,a=e.starter,c={id:t.id,createdAt:t.createdAt};switch(t.__typename){case"MilestonePetitionUpdate":return E(E({},c),{},{type:"milestone",signatureCount:t.signatureCount});case"StarterPetitionUpdate":case"StaffPetitionUpdate":return E(E({},c),{},{url:"/p/".concat(o,"/u/").concat(t.id),type:"StarterPetitionUpdate"===t.__typename?"starter":"staff",title:t.title,description:t.description,photo:D(t),author:"StarterPetitionUpdate"===t.__typename?a:null});case"FeaturedNewsPetitionUpdate":return E(E({},c),{},{url:"/p/".concat(o,"/u/").concat(t.id),type:"featuredNews",title:t.title,description:(null===(n=t.embeddedMedia)||void 0===n?void 0:n.description)||null,photo:D(t),author:null!==(r=t.embeddedMedia)&&void 0!==r&&r.providerName?{displayName:t.embeddedMedia.providerName,photo:null}:null});case"DmResponsePetitionUpdate":return E(E({},c),{},{url:"/p/".concat(o,"/responses/").concat(t.dmResponse.id),type:"dmResponse",title:t.title,description:t.description,photo:D(t),author:{displayName:t.dmResponse.decisionMaker.displayName,photo:(null===(i=t.dmResponse.decisionMaker.photo)||void 0===i?void 0:i.userSmall)||null}});default:throw new Error("Invalid update type: ".concat(t.__typename))}}(t,e)})),endCursor:(r.hasNextPage?r.endCursor:null)||null}}var N,B,R,H,T,z,U=(0,u.ZP)(j||(j=(0,a.Z)(["\n\tquery PetitionDetailsPagePetitionUpdates(\n\t\t$petitionId: ID!\n\t\t$count: Int!\n\t\t$types: [PetitionUpdateType!]!\n\t\t$cursor: ID\n\t) {\n\t\tpetition: petitionById(id: $petitionId) {\n\t\t\tid\n\t\t\tslug\n\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t\tdisplayName\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t\tuserSmall {\n\t\t\t\t\t\turl\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\torganization {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t\tuserSmall {\n\t\t\t\t\t\turl\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdatesConnection: petitionUpdatesConnection(types: $types, first: $count, after: $cursor) {\n\t\t\t\tnodes {\n\t\t\t\t\t__typename\n\t\t\t\t\tid\n\t\t\t\t\tcreatedAt\n\t\t\t\t\t... on MilestonePetitionUpdate {\n\t\t\t\t\t\tsignatureCount\n\t\t\t\t\t}\n\t\t\t\t\t... on StarterPetitionUpdate {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\t...PetitionDetailsPagePetitionUpdatesMediaFields\n\t\t\t\t\t}\n\t\t\t\t\t... on StaffPetitionUpdate {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\t...PetitionDetailsPagePetitionUpdatesMediaFields\n\t\t\t\t\t}\n\t\t\t\t\t... on FeaturedNewsPetitionUpdate {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\t...PetitionDetailsPagePetitionUpdatesMediaFields\n\t\t\t\t\t}\n\t\t\t\t\t... on DmResponsePetitionUpdate {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\t...PetitionDetailsPagePetitionUpdatesMediaFields\n\t\t\t\t\t\tdmResponse {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tdecisionMaker {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tuserSmall {\n\t\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpageInfo {\n\t\t\t\t\tendCursor\n\t\t\t\t\thasNextPage\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfragment PetitionDetailsPagePetitionUpdatesMediaFields on PetitionUpdateWithMedia {\n\t\tphoto {\n\t\t\tid\n\t\t\tpetitionMedium {\n\t\t\t\turl\n\t\t\t\tprocessing\n\t\t\t}\n\t\t}\n\t\tvideo {\n\t\t\tphoto {\n\t\t\t\tid\n\t\t\t\tpetitionMedium {\n\t\t\t\t\turl\n\t\t\t\t\tprocessing\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tembeddedMedia {\n\t\t\tproviderName\n\t\t\tphotoUrl\n\t\t\tdescription\n\t\t}\n\t}\n"])));function A(t,e,n){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a,c,u,l,p,d,f,m;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.cursor,o=n.count,a=n.types,c=r.gql.fetch,t.next=4,c({query:U,variables:{petitionId:e,count:o,types:a||["MILESTONE","STARTER","DM_RESPONSE","STAFF","FEATURED_NEWS"],cursor:i||null},important:!0});case 4:if(u=t.sent,l=u.data,p=null==l?void 0:l.petition){t.next=9;break}return t.abrupt("return",void 0);case 9:return d=p.slug,f=p.organization,m=p.user,t.abrupt("return",M(p.updatesConnection,S({slug:d,organization:f,user:m})));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t,e,n,r){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)(s().mark((function t(e,n,r,i){var o,a,c,u,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.nonMilestoneCount,a=n.cursor,c=n.pageSize,t.next=3,A(e,{count:c,cursor:a},r);case 3:if(u=t.sent){t.next=6;break}return t.abrupt("return",[]);case 6:if(!((l=i+u.updates.filter((function(t){return"milestone"!==t.type})).length)>=o)&&u.endCursor){t.next=9;break}return t.abrupt("return",[u]);case 9:return t.t0=[u],t.t1=C.Z,t.next=13,X(e,{nonMilestoneCount:o,pageSize:c,cursor:u.endCursor},r,l);case 13:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.abrupt("return",t.t0.concat.call(t.t0,t.t3));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t,e,n){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(s().mark((function t(e,n,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",X(e,n,r,0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t,e,n){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(s().mark((function t(e,n,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",A(e,{count:n,types:["DM_RESPONSE"]},r));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(t,e,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e,n,r);case 2:if((o=t.sent).length){t.next=5;break}return t.abrupt("return",void 0);case 5:return a=o[o.length-1],t.abrupt("return",{updates:(i=[]).concat.apply(i,(0,C.Z)(o.map((function(t){return t.updates})))),endCursor:a.endCursor});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t,e,n,r){return J.apply(this,arguments)}function J(){return(J=(0,o.Z)(s().mark((function t(e,n,r,i){var o,c,l,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.gql.fetch,t.next=3,c({query:(0,u.ZP)(N||(N=(0,a.Z)(["\n\t\t\tquery PetitionMitaAlternateImage($slugOrId: String!, $experimentName: String!, $variantName: String!) {\n\t\t\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\t\t\tid\n\t\t\t\t\tbandits {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tmitaAlternateImage(experimentName: $experimentName, variantName: $variantName) {\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\twidth\n\t\t\t\t\t\t\theight\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{slugOrId:e,experimentName:n,variantName:r}});case 3:return l=t.sent,p=l.data,t.abrupt("return",(null==p||null===(o=p.petition)||void 0===o?void 0:o.bandits.mitaAlternateImage)||void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t,e,n){return tt.apply(this,arguments)}function tt(){return(tt=(0,o.Z)(s().mark((function t(e,n,r){var i,o,c,l,p,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.gql.fetch,t.next=3,l({query:(0,u.ZP)(B||(B=(0,a.Z)(["\n\t\t\tquery PetitionDetailsPageFacebookBanditVariant($slugOrId: String!, $variantName: String!) {\n\t\t\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\t\t\tid\n\t\t\t\t\tbandits {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tfacebookHeadline {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tvariants {\n\t\t\t\t\t\t\t\tvariant: activeVariantByName(name: $variantName) {\n\t\t\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{slugOrId:e,variantName:n}});case 3:return p=t.sent,d=p.data,t.abrupt("return",(null==d||null===(i=d.petition)||void 0===i||null===(o=i.bandits.facebookHeadline.variants)||void 0===o||null===(c=o.variant)||void 0===c?void 0:c.data)||void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t,e,n){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(s().mark((function t(e,n,r){var i,o,c,l,p,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.gql.fetch,t.next=3,l({query:(0,u.ZP)(R||(R=(0,a.Z)(["\n\t\t\tquery PetitionDetailsPageWhatsAppBanditVariant($slugOrId: String!, $variantName: String!) {\n\t\t\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\t\t\tid\n\t\t\t\t\tbandits {\n\t\t\t\t\t\tid\n\t\t\t\t\t\twhatsappHeadline {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tvariants {\n\t\t\t\t\t\t\t\tvariant: activeVariantByName(name: $variantName) {\n\t\t\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{slugOrId:e,variantName:n}});case 3:return p=t.sent,d=p.data,t.abrupt("return",(null==d||null===(i=d.petition)||void 0===i||null===(o=i.bandits.whatsappHeadline.variants)||void 0===o||null===(c=o.variant)||void 0===c?void 0:c.data)||void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t,e,n){return it.apply(this,arguments)}function it(){return(it=(0,o.Z)(s().mark((function t(e,n,r){var i,o,c,l,p,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.gql.fetch,t.next=3,l({query:(0,u.ZP)(H||(H=(0,a.Z)(["\n\t\t\tquery PetitionDetailsPageCopyLinkBanditVariant($slugOrId: String!, $variantName: String!) {\n\t\t\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\t\t\tid\n\t\t\t\t\tbandits {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tcopylinkHeadline {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tvariants {\n\t\t\t\t\t\t\t\tvariant: activeVariantByName(name: $variantName) {\n\t\t\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{slugOrId:e,variantName:n}});case 3:return p=t.sent,d=p.data,t.abrupt("return",(null==d||null===(i=d.petition)||void 0===i||null===(o=i.bandits.copylinkHeadline.variants)||void 0===o||null===(c=o.variant)||void 0===c?void 0:c.data)||void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ot(t,e){return at.apply(this,arguments)}function at(){return(at=(0,o.Z)(s().mark((function t(e,n){var r,i,o,c,l,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.slugOrId,i=e.decisionMakerHash,o=n.gql.fetch,t.next=4,o({query:(0,u.ZP)(T||(T=(0,a.Z)(["\n\t\t\tquery PetitionDetailsPageDecisionMakerInfo(\n\t\t\t\t$slugOrId: String!\n\t\t\t\t$decisionMakerHash: String!\n\t\t\t\t$fetchDmByHash: Boolean!\n\t\t\t) {\n\t\t\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\t\t\tid\n\t\t\t\t\tviewerIsDecisionMaker\n\t\t\t\t\tdecisionMakerByHash(decisionMakerHash: $decisionMakerHash) @include(if: $fetchDmByHash) {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{slugOrId:r,decisionMakerHash:i||"__dm_hash_placeholder__",fetchDmByHash:!!i},important:!0});case 4:if(c=t.sent,l=c.data,p=null==l?void 0:l.petition){t.next=9;break}throw new Error("Unable to fetch petition");case 9:return t.abrupt("return",p.viewerIsDecisionMaker||!!p.decisionMakerByHash);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ct,st=(0,u.ZP)(z||(z=(0,a.Z)(['\n\tquery PetitionDetailsPagePetitionInfo(\n\t\t$slugOrId: String!\n\t\t$countryCode: String!\n\t\t$locale: String!\n\t\t$loadBandits: Boolean!\n\t) {\n\t\tpetition: petitionBySlugOrId(slugOrId: $slugOrId) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tdisplayTitle\n\t\t\tslug\n\t\t\tcreatedAt\n\t\t\tcity\n\t\t\tstateCode\n\t\t\task\n\t\t\tdiscoverable\n\t\t\tdescription\n\t\t\tstatus\n\t\t\tvictoryDate\n\t\t\tvictoryDescription\n\t\t\tisVerifiedVictory\n\t\t\tstarterVanityUrl\n\t\t\tpublishedAt\n\t\t\tpromotable(countryCode: $countryCode, locale: $locale)\n\t\t\tweeklySignatureCount\n\t\t\tsignatureCount {\n\t\t\t\ttotal\n\t\t\t\tdisplayed\n\t\t\t}\n\t\t\tsignatureGoal {\n\t\t\t\tdisplayed\n\t\t\t}\n\t\t\toriginalLocale {\n\t\t\t\tlocaleCode\n\t\t\t}\n\t\t\tcountry {\n\t\t\t\tcountryCode\n\t\t\t\thideSignees: featureConfig(name: "hide_signees")\n\t\t\t}\n\t\t\thideSignees\n\t\t\trecentSignersConnection(first: 0) {\n\t\t\t\ttotalCount\n\t\t\t}\n\t\t\trequireHumanVerification\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t\tslug\n\t\t\t\tdisplayName\n\t\t\t\tfirstName\n\t\t\t\tformattedLocationString\n\t\t\t\tcity\n\t\t\t\tcountry {\n\t\t\t\t\tcountryCode\n\t\t\t\t}\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t\tuserSmall {\n\t\t\t\t\t\turl\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\torganization {\n\t\t\t\tid\n\t\t\t\tslug\n\t\t\t\tname\n\t\t\t\tverificationStatus\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t\torganizationSmall {\n\t\t\t\t\t\turl\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\torganizationOptin(locale: $locale, countryCode: $countryCode) {\n\t\t\t\tid\n\t\t\t\toptinText\n\t\t\t\tcheckboxSelected\n\t\t\t}\n\t\t\ttagsConnection {\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t\tmovements(first: 1) {\n\t\t\t\ttotalCount\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t\tslug\n\t\t\t\t\tobjective\n\t\t\t\t\tpetitionCount\n\t\t\t\t\tsapTemplates {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvideo {\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t\tmedia {\n\t\t\t\t__typename\n\t\t\t\tphoto {\n\t\t\t\t\tid\n\t\t\t\t\tpetitionSmall {\n\t\t\t\t\t\turl\n\t\t\t\t\t\twidth\n\t\t\t\t\t\theight\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t\tpetitionMedium {\n\t\t\t\t\t\turl\n\t\t\t\t\t\twidth\n\t\t\t\t\t\theight\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t\tpetitionLarge {\n\t\t\t\t\t\turl\n\t\t\t\t\t\twidth\n\t\t\t\t\t\theight\n\t\t\t\t\t\tprocessing\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t... on VideoPetitionMedia {\n\t\t\t\t\tembedTag\n\t\t\t\t}\n\t\t\t}\n\t\t\tprimaryDecisionMakerConnection: decisionMakersConnection(first: 1) {\n\t\t\t\ttotalCount\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t\tslug\n\t\t\t\t\tdisplayName\n\t\t\t\t\ttitle\n\t\t\t\t\tpubliclyVisible\n\t\t\t\t}\n\t\t\t}\n\t\t\tdmResponsesConnection(first: 1) {\n\t\t\t\ttotalCount\n\t\t\t\tnodes {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t\tbandits @include(if: $loadBandits) {\n\t\t\t\tid\n\t\t\t\tfacebookHeadline {\n\t\t\t\t\tid\n\t\t\t\t\texperimentName\n\t\t\t\t\tselectedVariant {\n\t\t\t\t\t\tdata\n\t\t\t\t\t\tvariantName\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhatsappHeadline {\n\t\t\t\t\tid\n\t\t\t\t\texperimentName\n\t\t\t\t\tselectedVariant {\n\t\t\t\t\t\tdata\n\t\t\t\t\t\tvariantName\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcopylinkHeadline {\n\t\t\t\t\tid\n\t\t\t\t\texperimentName\n\t\t\t\t\tselectedVariant {\n\t\t\t\t\t\tdata\n\t\t\t\t\t\tvariantName\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n'])));function ut(t,e,n,r){return lt.apply(this,arguments)}function lt(){return(lt=(0,o.Z)(s().mark((function t(e,n,r,i){var o,a,c,u,l,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.locale,a=n.countryCode,c=r.loadBandits,u=i.gql.fetch,t.next=5,u({query:st,variables:{slugOrId:e,locale:o,countryCode:a,loadBandits:c},rejectOnError:!0,important:!0});case 5:return l=t.sent,p=l.data,t.abrupt("return",(null==p?void 0:p.petition)||void 0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ft,mt=(0,u.ZP)(ct||(ct=(0,a.Z)(["\n\tmutation PetitionDetailsPageTrackPromotionEvent($input: TrackPromotedEventInput!) {\n\t\ttrackPromotedEvent(input: $input) {\n\t\t\tsuccess\n\t\t}\n\t}\n"])));function ht(t){if(t instanceof Error){if(t.statusCode){var e=t;return{status:e.statusCode,message:e.message}}return{message:t.message}}if(t.status){var n=t;return{status:n.status,message:n.statusText}}return{}}function vt(t,e,n){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(s().mark((function t(e,n,r){var i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.gql.fetch,o=r.errorReporter.report,t.prev=1,t.next=4,i({query:mt,variables:{input:dt({eventType:e},n)}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),o({error:"Error tracking promotion event",params:ht(t.t0)});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}function bt(t,e){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(s().mark((function t(e,n){var r,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.gql.fetch,t.next=3,r({query:(0,u.ZP)(ft||(ft=(0,a.Z)(["\n\t\t\tquery PetitionDetailsPageSharerInfo($id: ID!) {\n\t\t\t\tuser: userById(id: $id) {\n\t\t\t\t\tid\n\t\t\t\t\tdisplayName\n\t\t\t\t\tshortDisplayName\n\t\t\t\t\tformattedLocationString\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{id:e}});case 3:return i=t.sent,o=i.data,t.abrupt("return",(null==o?void 0:o.user)||void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _t,Ot=n(43412);function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xt,Pt=(0,u.ZP)(_t||(_t=(0,a.Z)(['\n\tquery PetitionDetailsPageStats(\n\t\t$petitionSlugOrId: String!\n\t\t$maxSigners: Int!\n\t\t$shouldFetchRecruiter: Boolean!\n\t\t$recruiterId: ID!\n\t) {\n\t\tpetitionStats: petitionBySlugOrId(slugOrId: $petitionSlugOrId) {\n\t\t\tid\n\t\t\tsignatureCount {\n\t\t\t\tdisplayed\n\t\t\t}\n\t\t\tsignatureGoal {\n\t\t\t\tdisplayed\n\t\t\t}\n\t\t\trecentSignersConnection(first: $maxSigners) {\n\t\t\t\tedges {\n\t\t\t\t\ttimestamp\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tuserSmall {\n\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trecruiter: userById(id: $recruiterId) @include(if: $shouldFetchRecruiter) {\n\t\t\tid\n\t\t\tdisplayName\n\t\t\tphoto {\n\t\t\t\tid\n\t\t\t\tuserSmall {\n\t\t\t\t\turl\n\t\t\t\t\tprocessing\n\t\t\t\t}\n\t\t\t}\n\t\t\tcountry {\n\t\t\t\thideRecruiterName: featureConfig(name: "privacy_hide_recruiter")\n\t\t\t}\n\t\t}\n\t}\n'])));function kt(t,e,n){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.gql.fetch,t.next=3,i({query:Pt,variables:{petitionSlugOrId:e,maxSigners:Ot.DV,shouldFetchRecruiter:!!n,recruiterId:n||""}});case 3:if(o=t.sent,null!=(a=o.data)&&a.petitionStats){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",wt(wt({},a.petitionStats),{},{recruiter:a.recruiter}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ct,St=15,Dt="petition_footer",It=(0,u.ZP)(xt||(xt=(0,a.Z)(["\n\tquery PetitionDetailsPageSuggestedPetitions(\n\t\t$petitionId: ID!\n\t\t$countryCode: String!\n\t\t$locale: String!\n\t\t$count: Int!\n\t\t$channel: String\n\t) {\n\t\tpetition: petitionById(id: $petitionId) {\n\t\t\tid\n\n\t\t\tsuggestedPetitionsConnection(first: $count, countryCode: $countryCode, locale: $locale, channel: $channel) {\n\t\t\t\tedges {\n\t\t\t\t\ttype\n\t\t\t\t\talgorithm\n\t\t\t\t\tpromotionToken\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tslug\n\t\t\t\t\t\task\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tpetitionSmall {\n\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuser {\n\t\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tuserSmall {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvideo {\n\t\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tpetitionSmall {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsignatureCount {\n\t\t\t\t\t\t\tdisplayed\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsignatureGoal {\n\t\t\t\t\t\t\tdisplayed\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpromotersConnection {\n\t\t\t\t\t\t\ttotalCount\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])));function Et(t,e,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a,c,u,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.countryCode,o=n.locale,a=r.gql.fetch,t.next=4,a({query:It,variables:{petitionId:e,count:St,channel:Dt,countryCode:i,locale:o},important:!0});case 4:if(c=t.sent,u=c.data,l=null==u?void 0:u.petition){t.next=9;break}return t.abrupt("return",void 0);case 9:return t.abrupt("return",l.suggestedPetitionsConnection.edges);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Nt=3,Bt=(0,u.ZP)(Ct||(Ct=(0,a.Z)(["\n\tquery PetitionDetailsPageVictoriousPetitions($petitionId: ID!, $countryCode: String!, $locale: String!, $limit: Int) {\n\t\tpetition: petitionById(id: $petitionId) {\n\t\t\tid\n\n\t\t\tvictoriousPetitionsConnection(countryCode: $countryCode, locale: $locale, limit: $limit) {\n\t\t\t\tedges {\n\t\t\t\t\ttype\n\t\t\t\t\talgorithm\n\t\t\t\t\tpromotionToken\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tslug\n\t\t\t\t\t\task\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tpetitionSmall {\n\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuser {\n\t\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tuserSmall {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvideo {\n\t\t\t\t\t\t\tphoto {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tpetitionSmall {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\tprocessing\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsignatureCount {\n\t\t\t\t\t\t\tdisplayed\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpromotersConnection {\n\t\t\t\t\t\t\ttotalCount\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])));function Rt(t,e,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(s().mark((function t(e,n,r){var i,o,a,c,u,l,p,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.countryCode,u=n.locale,l=r.gql.fetch,t.next=4,l({query:Bt,variables:{petitionId:e,limit:Nt,countryCode:c,locale:u},important:!0});case 4:return p=t.sent,d=p.data,t.abrupt("return",null!==(i=null==d||null===(o=d.petition)||void 0===o||null===(a=o.victoriousPetitionsConnection)||void 0===a?void 0:a.edges)&&void 0!==i?i:void 0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},43412:function(t,e,n){n.d(e,{DV:function(){return r},bi:function(){return o},yI:function(){return i}});var r=2,i=2,o="response"},61264:function(t,e,n){n.d(e,{dv:function(){return m},wt:function(){return i},Jm:function(){return s},IF:function(){return h},s3:function(){return y},rH:function(){return Z},nD:function(){return b},Wf:function(){return O}});var r=n(17698);function i(t,e){return e.gdpr.enabled&&!!t&&(0,r.isGdprCountry)(t)}function o(t,e){var n=t.countryCode,r=t.gdprConsent,o=i(n,e),a=e.gdpr,c=a.copy,s=a.overridden;return o?{consentGiven:"true"===r,name:s?"global_consent_initial_eu_exp_control":"global_consent_initial_eu_default",text:c.prompt||c.opt_in}:null}var a=n(63822),c=["postal_code","city_and_postal_code"];function s(t){var e,n=t.countryCode,r=null===(e=a.F[n])||void 0===e?void 0:e.signature_address_granularity;return!!r&&c.includes(r)}function u(t){var e=t.countryCode,n=t.postalCode;return s({countryCode:e})&&n||null}function l(t){return(0,r.isGdprCountry)(t.countryCode)?!t.notPublic:!!t.public}function p(t,e){var n=t.smsCommsConsentGiven,r=e.mobileOptIn;return r.showOptInCheckbox&&"sms"===r.optInChannel?{consentGiven:!!n,name:"phone_consent_sign_form_sms_updates",text:r.optInCopy}:null}var d={US:["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","AS","FM","GU","MH","MP","PW","PR","VI","AA","AE","AP"]},f=[];function m(t){var e=t.countryCode;return d[e]||f}function h(t){return!!m({countryCode:t.countryCode}).length}function v(t){var e=t.countryCode,n=t.stateCode;return h({countryCode:e})&&n||null}function g(t,e){var n=t.whatsappCommsConsentGiven,r=e.mobileOptIn;return r.showOptInCheckbox&&"whatsapp"===r.optInChannel?{consentGiven:!!n,name:"phone_consent_sign_form_whatsapp_updates",text:r.optInCopy}:null}function b(t,e){var n,r=t.city,i=t.countryCode,a=t.firstName,c=t.lastName,s=t.email,d=t.reasonForSigning;return{city:r,countryCode:i,firstName:a,lastName:c,email:s,phoneNumber:t.phoneNumber,reasonForSigning:d||null,stateCode:v(t),postalCode:u(t),shareInfoWithOrganization:!1,public:l(t),marketingCommsConsent:o(t,e),recaptchaResponse:(n=t,n.recaptchaResponse||null),smsCommsConsent:p(t,e),whatsappCommsConsent:g(t,e)}}function y(t){var e,n,r=t.countryCode;return null!==(e=null===(n=a.F[r])||void 0===n?void 0:n.surname_before_given_name)&&void 0!==e&&e}var _=n(98036),O={setValue:function(t,e,n){var r=(0,_.Z)(t,2),i=r[0],o=r[1];(0,n.changeValue)(e,i,(function(){return o}))}};function Z(t){return"false"===t?void 0:t}}}]);
//# sourceMappingURL=petition_details.66f23fc528ac1becdadd.js.map