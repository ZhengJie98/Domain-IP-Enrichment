"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4137],{84689:function(t,e,r){function n(t){return window.btoa(t)}function i(t){return window.atob(t)}r.d(e,{G:function(){return i},s:function(){return n}})},27029:function(t,e,r){r.d(e,{ck:function(){return o}});var n=r(77754),i=r(94508);function o(t){var e=(0,i.Jj)();if(!e.buc)throw new Error("browser-update was not properly initialized");e.buc.onShow((function(e){var r=e.reasons,i=e.test,o=e.apiver;t({apiVersion:o,reasons:[].concat((0,n.Z)(r),(0,n.Z)(i?["test"]:[]))})}))}},58819:function(t,e,r){r.d(e,{cw:function(){return i},fl:function(){return o}});var n=function(t,e){var r=new Date(new Date(t).toDateString()),n=new Date((new Date).toDateString());return r.setDate(r.getDate()+e),r.getTime()-n.getTime()},i=function(t,e){return n(t,e)>=0},o=function(t,e){return 0===n(t,e)}},91635:function(t,e,r){r.d(e,{Z:function(){return n}});function n(t){var e=function(){throw new Error(t)};return{getScript:e,showSurvey:e}}},1230:function(t,e,r){r.d(e,{G:function(){return u}});var n=r(49458),i=r(1558),o=r.n(i),a=r(94508);function u(t){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=(0,a.Me)(),i=n.head,o=n.createElement("script");o.onerror=function(t){i.removeChild(o),r(new Error("The script ".concat(e," didn't load correctly.")))},o.onload=function(){t()},o.async=!0,o.src=e,i.appendChild(o)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},1741:function(t,e,r){r.d(e,{K:function(){return i}});var n=r(94508);function i(t){var e=(0,n.Me)().createElement("a");return e.href=t,e.href}},32423:function(t,e,r){r.d(e,{R:function(){return a}});var n=r(47659),i=r(84615);var o=function(){function t(e){var r=e.hostname,i=e.buildEnvironment,o=e.demoEnvironment,a=e.environment,u=e.apiEnvironment,c=e.apiDemoEnvironment;if((0,n.Z)(this,t),!r&&!a)throw new Error("Please specify at least hostname or environment");this.hostname=r,this.buildEnvironment=i,this.demoEnvironment=o||this.hostname&&function(t){var e=/^www\.(\w+)\.changeeng\.org$/.exec(t);return e&&e[1]||void 0}(this.hostname),this.environment=a||function(t,e){if(["development"].includes(e))return e;switch(t){case"www.change.org":return"production";case"www.staging-change.org":return"staging";default:return t.endsWith(".changeeng.org")?"demo":"development"}}(r,this.buildEnvironment),this.apiEnvironment=u||this.environment,this.apiDemoEnvironment=c||this.demoEnvironment}return(0,i.Z)(t,[{key:"getEnvironment",value:function(){return this.environment}},{key:"getDemoEnvironment",value:function(){return this.demoEnvironment}},{key:"getApiEnvironment",value:function(){return this.apiEnvironment}},{key:"getApiDemoEnvironment",value:function(){return this.apiDemoEnvironment}},{key:"getBuildEnvironment",value:function(){return this.buildEnvironment}}]),t}();function a(t){return new o(t)}},81001:function(t,e,r){r.d(e,{o:function(){return P}});var n=r(83644),i=r(77754),o=r(81177),a=r(49458),u=r(47659),c=r(84615),s=r(1558),f=r.n(s),l=r(92050),p=r.n(l),d=r(8144),h=r(94508);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=["development"],y=function(){function t(e){var r=e.environment,n=e.webappInfo,i=e.hostname,o=e.ssr,a=e.silencedEnvironments,c=e.reporters,s=e.createNotifier;(0,u.Z)(this,t),this.loggingEnabled=!1,this.filters=[],this.processors=[],this.airbrakeConfig=c.airbrake,this.newrelicConfig=c.newrelic,this.hostname=i,this.ssr=o,this.pwa=(0,d.E)(),this.environment=r,this.webappInfo=n,this.silencedEnvironments=a||m,this.createNotifier=s}var e,r;return(0,c.Z)(t,[{key:"addFilter",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this.clearNotifier(),this}},{key:"addProcessor",value:function(){var t;return(t=this.processors).push.apply(t,arguments),this.clearNotifier(),this}},{key:"setSessionInfo",value:function(t){return this.sessionInfo=t,this}},{key:"clearNotifier",value:function(){this.airbrakeNotifier&&this.airbrakeNotifier.close(),this.airbrakeNotifier=void 0}},{key:"getNotifier",value:function(){var t,e=this;if(this.airbrakeNotifier)return this.airbrakeNotifier;this.airbrakeNotifier=this.createNotifier(g(g({},this.airbrakeConfig),{},{environment:this.environment,instrumentation:{console:!1,onerror:!0,fetch:!1}})),this.airbrakeNotifier.addFilter((function(t){return e.decorateNotice(t)})),this.airbrakeNotifier.addFilter((function(t){return function(t){var e;return t.errors=null===(e=t.errors)||void 0===e?void 0:e.filter((function(t){return!(t.backtrace&&t.backtrace.length&&t.backtrace[0].file&&t.backtrace[0].file.startsWith("user-script"))})),t.errors&&t.errors.length?t:(t.silenced=!0,null)}(t)})),this.filters.forEach((function(t){var r;return null===(r=e.airbrakeNotifier)||void 0===r?void 0:r.addFilter((function(e){return t(e)?e:(e.silenced=!0,null)}))})),this.processors.forEach((function(t){var r;return null===(r=e.airbrakeNotifier)||void 0===r?void 0:r.addFilter(t)})),this.airbrakeNotifier.addFilter((function(t){return t&&e.logError(t),t})),this.airbrakeNotifier.addFilter((function(t){return e.isNoticeSilenced(t)?(t.silenced=!0,null):t})),this.airbrakeNotifier.addFilter((function(t){var r,n=t.context.originalError;return delete t.context.originalError,e.newrelicConfig&&null!==(r=t.context)&&void 0!==r&&r.sendToNewRelic&&e.newrelicConfig.noticeError(n,e.buildNewrelicErrorAttributes(t)),t}));var r=this.airbrakeNotifier.notify.bind(this.airbrakeNotifier),n=null===(t=(0,h.o4)())||void 0===t?void 0:t.navigator;return this.airbrakeNotifier.notify=function(){var t=(0,a.Z)(f().mark((function t(e){var i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i="object"===(0,o.Z)(e)&&"error"in e?g({},e):{error:e}).context=g({onLine:void 0!==n?n.onLine:void 0,originalError:i.error},i.context),t.abrupt("return",r(i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.airbrakeNotifier}},{key:"buildNewrelicErrorAttributes",value:function(t){return g(g({},t.params),p()(t.context,["webapp","version","notifier","severity","userAgent","url","rootDirectory","hostname","environment","history","cookieEnabled","sendToNewRelic"]))}},{key:"decorateNotice",value:function(t){var e,r,n=null===(e=(0,h.o4)())||void 0===e?void 0:e.navigator;(this.webappInfo.name&&(t.context.webapp=this.webappInfo.name),this.webappInfo.version&&(t.context.version=this.webappInfo.version),t.context.hostname=this.hostname,t.context.ssr=this.ssr,t.context.pwa=this.pwa,t.context.sessionInfo=this.sessionInfo,t.context.cookieEnabled=void 0!==n?n.cookieEnabled:void 0,t.context.sampleRate)&&(null===(r=t.errors)||void 0===r||r.forEach((function(e){return e.message="".concat(e.message," (sampled: ").concat(100*t.context.sampleRate,"%)")})));return t}},{key:"isNoticeSilenced",value:function(t){return this.silencedEnvironments.includes(t.context.environment)||!1===t.context.sampled}},{key:"logError",value:function(t){if(this.loggingEnabled){var e,r=t.errors&&1===t.errors.length?t.errors[0].message:void 0;(e=console).groupCollapsed.apply(e,["%cRECORDED ERROR:","color: red"].concat((0,i.Z)(r?[r]:[]))),console.log("errors:",t.errors),console.log("context:",t.context),console.log("params:",t.params),console.log("environment:",t.environment),console.log("session:",t.session),void 0!==t.context.sampleRate&&console.log("sample rate:",t.context.sampleRate),void 0!==t.context.sampled&&console.log("sampled:",t.context.sampled),console.log("sent to Airbrake:",!this.isNoticeSilenced(t)),console.groupEnd()}}},{key:"toggleLogging",value:function(t){return this.loggingEnabled=void 0===t?!this.loggingEnabled:t,this}},{key:"init",value:function(){return this.getNotifier(),this}},{key:"report",value:(r=(0,a.Z)(f().mark((function t(e){var r,n,i,a=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},this.init(),(n="object"===(0,o.Z)(e)&&"error"in e?g({},e):{error:e}).context=g(g({},n.context),{},{sendToNewRelic:!r.skipNewRelic}),t.next=6,this.getNotifier().notify(n);case 6:return i=t.sent,t.abrupt("return",{url:i.url});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"createSampledReporter",value:function(t){var e=this;if(t<0||t>1)throw new Error("Invalid Sample Rate");var r=Math.random()<t;return function(){var n=(0,a.Z)(f().mark((function n(i,a){var u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(u="object"===(0,o.Z)(i)&&"error"in i?g({},i):{error:i}).context=g(g({},u.context),{},{sampleRate:t,sampled:r}),n.abrupt("return",e.report(u,a));case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()}},{key:"wrap",value:function(t){try{return t()}catch(t){throw this.report(t),t}}},{key:"wrapFunction",value:function(t){var e=this;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.wrap((function(){return t.apply(void 0,n)}))}}},{key:"wrapAsync",value:(e=(0,a.Z)(f().mark((function t(e){var r=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.catch((function(t){throw r.report(t),t})));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"wrapAsyncFunction",value:function(t){var e=this;return(0,a.Z)(f().mark((function r(){var n=arguments;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.wrapAsync(t.apply(void 0,n)));case 1:case"end":return r.stop()}}),r)})))}},{key:"destroy",value:function(){this.airbrakeNotifier&&this.airbrakeNotifier.close()}}]),t}();var b=r(32375);function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){return new b.d4(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))}function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t){return function(t){return new y(t)}(j(j({},t),{},{createNotifier:O,ssr:!1}))}},70876:function(t,e,r){r.d(e,{H:function(){return A}});var n=r(49458),i=r(83644),o=r(47659),a=r(84615),u=r(1558),c=r.n(u),s=r(48499),f=r(94508);function l(){if((0,s.K)())return!0;var t=(0,f.Jj)().navigator;return!("onLine"in t)||t.onLine}var p=r(69472),d=r(93738),h=r(89355);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,h.Z)(t);if(e){var i=(0,h.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,d.Z)(this,r)}}var g=function(t){(0,p.Z)(BrowserOfflineError,t);var e=v(BrowserOfflineError);function BrowserOfflineError(){return(0,o.Z)(this,BrowserOfflineError),e.call(this,"Browser is offline")}return(0,a.Z)(BrowserOfflineError)}(r(13631).s);function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"infinite"===t.waitTime?0:"immediate"!==t.waitTime?t.waitTimeInMs:void 0}function y(){return b.apply(this,arguments)}function b(){return b=(0,n.Z)(c().mark((function t(){var e,r,n,i,o,a,u,l,p=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.length>0&&void 0!==p[0]?p[0]:{},!(0,s.K)()){t.next=3;break}return t.abrupt("return");case 3:if(r=m(e),n=(0,f.Jj)(),"onLine"in(i=n.navigator)){t.next=7;break}return t.abrupt("return");case 7:if(!i.onLine){t.next=9;break}return t.abrupt("return");case 9:if(void 0!==r){t.next=11;break}throw new g;case 11:if(u=new Promise((function(t){o=function(){a&&window.clearTimeout(a),t(void 0)},(0,f.Jj)().addEventListener("online",o)})),0!==r){t.next=16;break}return t.next=15,u;case 15:return t.abrupt("return");case 16:return l=new Promise((function(t,e){a=window.setTimeout((function(){o&&(0,f.Jj)().removeEventListener("online",o),e(new g)}),r)})),t.next=19,Promise.race([u,l]);case 19:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}var w=r(8144);function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j=r(58109);var P="/api-proxy/-/et";function x(t,e){return E.apply(this,arguments)}function E(){return(E=(0,n.Z)(c().mark((function t(e,r){var n,i,o,a,u,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.httpMode,i=void 0===n?"fetch":n,o=r.post,a=r.sendBeacon,u=r.getCsrfToken,"fetch"!=("fetch"===i&&(0,j.DD)()||!(0,j.$W)()?"fetch":"beacon")){t.next=11;break}return t.prev=2,t.next=5,o(P,e,{keepalive:!0,mode:"same-origin"});case 5:return t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.next=13,u();case 13:return s=t.sent,t.abrupt("return",a("".concat(P,"?_csrf=").concat(s),e));case 15:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Z=["development"],C=function(){function t(e){var r=e.decorators,n=e.listeners,i=e.experimentOverrides,a=e.httpMode,u=e.post,c=e.sendBeacon,s=e.getCsrfToken,f=e.environment,l=e.sessionInfo,p=e.webappInfo,d=e.commonProperties,h=e.silencedEnvironments,v=e.defaultLoggingEnabled;(0,o.Z)(this,t),this.commonData={},this.additionalCommonData={},this.defaultLoggingEnabled=!1,this.initDone=!1,this.environment=f,this.sessionInfo=l||{},this.webappInfo=p,this.additionalCommonData=d||{},this.silencedEnvironments=h||Z,this.defaultLoggingEnabled=v||!1,this.decorators=r,this.listeners=n,this.experimentOverrides=i,this.sendPayloadOptions={httpMode:a,post:u,sendBeacon:c,getCsrfToken:s}}var e,r;return(0,a.Z)(t,[{key:"initCommonData",value:function(){this.commonData=D(D({},this.getSessionData()),this.getWebappData())}},{key:"init",value:function(){return this.initDone||(this.initDone=!0,this.initCommonData()),this}},{key:"updateSessionInfo",value:function(t){return this.sessionInfo=D(D({},this.sessionInfo),t),this.initCommonData(),this}},{key:"isSilenced",get:function(){return this.silencedEnvironments.includes(this.environment)}},{key:"isLoggingEnabled",get:function(){return this.experimentOverrides?(t=this.experimentOverrides,e=this.defaultLoggingEnabled,void 0===(r=t.get("event_logging"))?e:"enabled"===r):this.defaultLoggingEnabled;var t,e,r}},{key:"toggleLogging",value:function(t){return this.experimentOverrides&&function(t,e){e?t.set("event_logging","enabled"):t.unset("event_logging")}(this.experimentOverrides,void 0===t?!this.isLoggingEnabled:t),this}},{key:"logEvents",value:function(t,e){this.isLoggingEnabled&&function(t,e,r){t.forEach((function(t){console.groupCollapsed("%cTRACKED EVENT:%c ".concat(t.name),"color: green","color: default"),console.log("event data:",t.data),console.log("full data:",k(k({},e),t.data)),console.log("silenced:",r),console.groupEnd()}))}(t,e,this.isSilenced)}},{key:"getSessionData",value:function(){var t,e;return{locale:this.sessionInfo.locale,country_code:null===(t=this.sessionInfo.countryCode)||void 0===t?void 0:t.toUpperCase(),user_state:null===(e=this.sessionInfo.loginState)||void 0===e?void 0:e.toLowerCase()}}},{key:"getWebappData",value:function(){return{webapp_name:this.webappInfo.name,webapp_version:this.webappInfo.version,webapp_version_normalized:this.webappInfo.versionNormalized,webapp_build_ts_utc:this.webappInfo.buildTsUtc,client_sha:this.webappInfo.commit,pwa:(0,w.E)()}}},{key:"getCommonData",value:(r=(0,n.Z)(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all((this.decorators||[]).map(function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve(e.getEventTrackingData());case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return e=t.sent,r=e.reduce((function(t,e){return D(D({},t),e)}),{}),t.abrupt("return",(i=D(D(D(D({},this.commonData),this.additionalCommonData),r),{},{online:l()}),JSON.parse(JSON.stringify(i))));case 5:case"end":return t.stop()}var i}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"track",value:(e=(0,n.Z)(c().mark((function t(){var e,r,n,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.init(),0!==(e=_.apply(void 0,i)).length){t.next=4;break}return t.abrupt("return",!0);case 4:return t.next=6,this.getCommonData();case 6:if(r=t.sent,this.logEvents(e,r),this.listeners&&this.listeners.forEach((function(t){return t.onEventsTrack(e,r)})),!this.isSilenced){t.next=11;break}return t.abrupt("return",!0);case 11:return n=e.map((function(t){return{label:t.name,data:D(D({},r),t.data)}})),t.next=14,y({waitTimeInMs:0});case 14:return t.abrupt("return",x(1===n.length?n[0]:n,this.sendPayloadOptions));case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"decorateWindow",value:function(){var t=this;return(0,f.Jj)()._trackLog={get enabled(){return t.isLoggingEnabled},toggle:t.toggleLogging.bind(t)},(0,f.Jj)().trackEvent=t.track.bind(this),this}}]),t}();function _(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n;if("string"!=typeof e[0])return(n=[]).concat.apply(n,e);var i=e[0];return 1===e.length?[{name:i,data:{}}]:[].concat(e.slice(1)).map((function(t){return{name:i,data:t}}))}function A(t){return new C(t)}},95638:function(t,e,r){r.d(e,{x:function(){return P}});var n,i=r(98036),o=r(83644),a=r(47659),u=r(84615),c=r(77754),s=r(49458),f=r(1558),l=r.n(f),p=r(2903),d=r(22117);function h(t,e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.gqlFetch({query:(0,d.Ps)(n||(n=(0,p.Z)(["\n\t\t\t\tmutation FeCoreTreatExperiment($id: ID!) {\n\t\t\t\t\ttreatExperiment(id: $id) {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"]))),variables:{id:e}});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function g(t,e){return{id:t,variation:e||"control",treated:!0,overriden:!0,treat:function(){return(0,s.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}}),t)})))()}}}function m(t,e){var r=e.treatedStore,n=e.overrides,i=e.gqlFetch,o=Object.keys(n.all());if(!t)return o.map((function(t){return g(t,n.get(t))}));var a=t.map((function(t){var e=function(t,e,r){return{id:t.id,variation:e||t.variation,get treated(){return!!e||t.treated||r.isTreated(t.id)},overriden:!!e,originalExperiment:t,treat:function(){return(0,s.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}}),t)})))()}}}(t,n.get(t.id),r);return{id:e.id,variation:e.variation,overriden:e.overriden,originalExperiment:e.originalExperiment,get treated(){return e.treated},treat:function(){var e=this;return(0,s.Z)(l().mark((function n(){var o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.treated){n.next=2;break}return n.abrupt("return",void 0);case 2:return o=h(e.id,{gqlFetch:i}),r.setTreated(t.id),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))()}}})),u=o.filter((function(t){return!a.find((function(e){return e.id===t}))})).map((function(t){return g(t,n.get(t))}));return[].concat((0,c.Z)(a),(0,c.Z)(u))}var y=r(94508);function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var w=function(){function t(e){var r=e.cookies,n=e.overrides;(0,a.Z)(this,t),this.cookies=r,this.overrides=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},n)}return(0,u.Z)(t,[{key:"setExperimentOverride",value:function(t,e){delete this.overrides[t];var r="Experiments_".concat(t);e?this.cookies.set(r,e):this.cookies.remove(r)}},{key:"unsetExperimentOverride",value:function(t){this.setExperimentOverride(t,void 0)}},{key:"getExperimentOverride",value:function(t){return(t in this.overrides?this.overrides[t]:this.cookies.get("Experiments_".concat(t)))||void 0}},{key:"getExperimentOverridesNames",value:function(){var t=Object.keys(this.overrides),e=Object.keys(this.cookies.get()).map((function(t){return(/^Experiments_(.*)$/.exec(t)||[])[1]})).filter((function(e){return!!e&&!t.includes(e)}));return[].concat(t,(0,c.Z)(e))}},{key:"getExperimentOverrides",value:function(){var t=this;return this.getExperimentOverridesNames().reduce((function(e,r){return e[r]=t.getExperimentOverride(r),e}),{})}},{key:"all",value:function(){return this.getExperimentOverrides()}},{key:"get",value:function(t){if(!t)throw new Error("parameter missing");return this.getExperimentOverride(t)}},{key:"set",value:function(t,e){if(!t)throw new Error("parameter missing");return this.setExperimentOverride(t,e),this}},{key:"unset",value:function(t){if(!t)throw new Error("parameter missing");return this.unsetExperimentOverride(t),this}},{key:"clear",value:function(){var t=this;return this.getExperimentOverridesNames().forEach((function(e){return t.unsetExperimentOverride(e)})),this}},{key:"getFacade",value:function(){var t=this,e={all:this.all.bind(this),get:this.get.bind(this),set:function(r,n){return t.set(r,n),e},unset:function(r){return t.unset(r),e},clear:function(){return t.clear(),e}};return e}},{key:"decorateWindow",value:function(){var t=(0,y.Jj)();if(t){var e=this.getFacade();t._sov||(t._sov=e.set.bind(e)),t._exp=e}}}]),t}();var O=function(){function t(){(0,a.Z)(this,t),this.treated={}}return(0,u.Z)(t,[{key:"isTreated",value:function(t){return!!this.treated[t]}},{key:"setTreated",value:function(t){this.treated[t]=!0}}]),t}();function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var j=function(){function t(e){var r=e.gqlFetch,n=e.cookies,i=e.experiments,o=e.overrides;if((0,a.Z)(this,t),this._experimentsServiceError=!1,this.treatedStore=new O,this.gqlFetch=r,this.overrides=new w({cookies:n,overrides:o}),void 0!==i){var u=m(i||void 0,{treatedStore:this.treatedStore,overrides:this.overrides,gqlFetch:this.gqlFetch});this._experiments=(u||[]).reduce((function(t,e){return t[e.id]=e,t}),{}),this._experimentsServiceError=null===i}}return(0,u.Z)(t,[{key:"get",value:function(t){if(!this._experiments)throw new Error("Experiments were not initialized");var e=this._experiments[t];return e||g(t)}},{key:"getAll",value:function(){return this._experiments}},{key:"getKnownExperimentsList",value:function(){return this.isServiceError()?null:this._experiments?Object.values(this._experiments).filter((function(t){return!!t.originalExperiment})).map((function(t){return{id:t.id,treated:t.treated,variation:t.variation}})):void 0}},{key:"isServiceError",value:function(){return this._experimentsServiceError}},{key:"getEventTrackingData",value:function(){var t=Object.values(this._experiments||{}).filter((function(t){return!!t.originalExperiment})).map((function(t){return{id:t.id,treated:t.treated,variation:t.variation,overriden:t.overriden}})).sort((function(t,e){return t.id<e.id?-1:1})),e=this.isServiceError();return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({experiment_variations:t.reduce((function(t,e){return e.treated?(t[e.id]=e.variation,t):t}),{})},e?{experiment_service_error:!0}:{})}},{key:"persistOverrides",value:function(){var t=this;return Object.entries(this.overrides.all()).forEach((function(e){var r=(0,i.Z)(e,2),n=r[0],o=r[1];t.overrides.set(n,o)})),this}},{key:"decorateWindow",value:function(){return this.overrides.decorateWindow(),this}}]),t}();function P(t){return new j(t)}},55422:function(t,e,r){r.d(e,{O:function(){return s}});var n=r(83644),i=r(98036),o=r(83843),a=r.n(o);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreQueryPrefix,r=a().parse(t,{allowDots:!0,ignoreQueryPrefix:e}).exo;return!r||"string"==typeof r||Array.isArray(r)?{}:Object.entries(r).reduce((function(t,e){var r=(0,i.Z)(e,2),o=r[0],a=r[1];return"string"!=typeof a?t:c(c({},t),{},(0,n.Z)({},o,a))}),{})}},63601:function(t,e,r){r.d(e,{$:function(){return w}});var n=r(83644),i=r(49458),o=r(47659),a=r(84615),u=r(1558),c=r.n(u),s=r(48499),f=r(83843),l=r.n(f),p=r(1230);function d(){var t=Array.from(document.querySelectorAll('script[src^="https://connect.facebook.net/"][src*="hash="]'))[0];if(t)return l().parse(t.src.split("?")[1]).hash}function h(){return h=(0,i.Z)(c().mark((function t(e){var r,n,o,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.apiVersion,o=e.locale,a=e.reportError,u="https://connect.facebook.net/".concat(o,"/sdk.js"),t.abrupt("return",new Promise((function(t,e){window.fbAsyncInit=function(){FB.init({appId:r,autoLogAppEvents:!0,xfbml:!0,version:"v".concat(n)}),t(FB)},(0,p.G)(u).catch((function(t){fetch(u).then(function(){var t=(0,i.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.ok?Promise.resolve():Promise.reject(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){a({error:new Error("Could not run facebook SDK script")})}),(function(t){a({error:new Error("Could not retrieve facebook SDK script"),params:t.status?{message:t.statusText,status:t.status,url:u}:{message:t.toString(),url:u}})})),e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var v={"de-DE":"de_DE","en-AU":"en_GB","en-CA":"en_GB","en-GB":"en_GB","en-IN":"en_GB","en-US":"en_US","es-419":"es_LA","es-AR":"es_LA","es-ES":"es_ES","fr-FR":"fr_FR","hi-IN":"hi_IN","id-ID":"id_ID","it-IT":"it_IT","ja-JP":"ja_JP","ko-KR":"ko_KR","pt-BR":"pt_BR","pt-PT":"pt_PT","ru-RU":"ru_RU","th-TH":"th_TH","tl-PH":"tl_PH","tr-TR":"tr_TR","zh-TW":"zh_TW"};function g(t){return v[t]}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(){function t(e){var r=e.reportError,n=e.appId,i=e.locale;(0,o.Z)(this,t),this.apiVersion="15.0",this.appId=n,this._locale=i,this.reportError=r}var e,r,n;return(0,a.Z)(t,[{key:"updateAuthStatus",value:function(t){this._authStatus=t}},{key:"authStatus",get:function(){var t;return null===(t=this._authStatus)||void 0===t?void 0:t.status}},{key:"authResponse",get:function(){var t;return null===(t=this._authStatus)||void 0===t?void 0:t.authResponse}},{key:"isAuthenticated",get:function(){return!!this.authStatus&&["connected","not_authorized"].includes(this.authStatus)}},{key:"isConnected",get:function(){return!!this.authStatus&&["connected"].includes(this.authStatus)}},{key:"sdkHash",get:function(){return this._sdkHash}},{key:"locale",get:function(){return g(this._locale)||g("en-US")}},{key:"preload",value:function(){return this.init(),this}},{key:"init",value:function(){var t=this;if((0,s.K)())throw new Error("Facebook is not available server-side");this.fbPromise||(this.fbPromise=function(t){return h.apply(this,arguments)}({apiVersion:this.apiVersion,locale:this.locale,appId:this.appId,reportError:this.reportError}).then(function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t._sdkHash=d(),r.Event.subscribe("auth.authResponseChange",(function(e){return t.updateAuthStatus(e)})),r.getLoginStatus((function(n){t.updateAuthStatus(n),e(r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.reportError(new Error("Could not initialize Facebook: ".concat(e)))})))}},{key:"load",value:(n=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,s.K)()){t.next=2;break}throw new Error("Facebook is not available server-side");case 2:return this.init(),t.next=5,this.fbPromise;case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"login",value:(r=(0,i.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,s.K)()){t.next=2;break}throw new Error("Facebook is not available server-side");case 2:return this.init(),t.next=5,this.fbPromise;case 5:if(r=t.sent){t.next=8;break}throw new Error("Facebook was not properly initialized");case 8:return t.abrupt("return",new Promise((function(t){r.login((function(e){t(e)}),e)})));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"ui",value:(e=(0,i.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,s.K)()){t.next=2;break}throw new Error("Facebook is not available server-side");case 2:return this.init(),t.next=5,this.fbPromise;case 5:if(r=t.sent){t.next=8;break}throw new Error("Facebook was not properly initialized");case 8:return t.abrupt("return",new Promise((function(t,n){r.ui(e,(function(e){if(e&&e.error_code)n(new Error("FB error: ".concat(e.error_code,": ").concat(e.error_message||"")));else{var r=void 0===e;t(y(y({},e||{}),{},{cancelled:r}))}}))})));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function w(t){return new b(t)}},4348:function(t,e,r){r.d(e,{nN:function(){return h}});var n=r(81177),i=r(49458),o=r(83644),a=r(47659),u=r(84615),c=r(1558),s=r.n(c);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p=function(){function t(e){var r=e.gqlFetch,n=e.locale,i=e.countryCode,o=e.reportError,u=e.throwOnFetchError;(0,a.Z)(this,t),this.reportError=o,this.gqlFetch=r,this.locale=n,this.countryCode=i,this.throwOnFetchError=u}var e;return(0,u.Z)(t,[{key:"mergeValues",value:function(t,e){try{return t.merger(e)}catch(o){var r,n=o.message||void 0,i='[FCM] Failed to merge values for "'.concat(t.name,'"').concat(n?" (reason: ".concat(n,")"):"");return console.warn(i),null===(r=this.reportError)||void 0===r||r.call(this,{error:i,params:{fcm:t.name,mergeValues:e}}),t.defaultValue}}},{key:"normalizeResult",value:function(t,e){var r=this;return Object.keys(t).reduce((function(n,i){var a=t[i].merger;return l(l({},n),{},a?(0,o.Z)({},i,r.mergeValues(t[i],{globalValue:d(t[i],e?e["".concat(i,"__","global")]:null,r.reportError),countryValue:d(t[i],e?e["".concat(i,"__","country")]:null,r.reportError),localeValue:d(t[i],e?e["".concat(i,"__","locale")]:null,r.reportError)})):(0,o.Z)({},i,d(t[i],e?e[i]:null,r.reportError)))}),{})}},{key:"get",value:(e=(0,i.Z)(s().mark((function t(e){var r,n,i,a,u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.locale,n=this.countryCode,(i=Object.keys(e).map((function(t){var r=e[t];return r.merger?["".concat(t,"__","global",': featureConfig(name: "').concat(r.name,'", groups: ["all"], noGlobalFallback: true)'),"".concat(t,"__","locale",': featureConfig(name: "').concat(r.name,'", groups: [$locale], noGlobalFallback: true)'),"".concat(t,"__","country",': featureConfig(name: "').concat(r.name,'", groups: [$countryCode], noGlobalFallback: true)')].join("\n\t\t"):"".concat(t,': featureConfig(name: "').concat(r.name,'", groups: [$locale, $countryCode])')}))).length){t.next=4;break}return t.abrupt("return",{});case 4:return t.prev=4,t.next=7,this.gqlFetch({query:"query FeCoreFeatureConfigs($locale: String!, $countryCode: String!) {\n\tfeatureConfigs {\n\t\t".concat(i.join("\n\t\t"),"\n\t}\n}"),variables:{locale:r,countryCode:n}});case 7:return a=t.sent,u=a.data,c=null==u?void 0:u.featureConfigs,t.abrupt("return",this.normalizeResult(e,c));case 13:if(t.prev=13,t.t0=t.catch(4),!this.throwOnFetchError){t.next=17;break}throw t.t0;case 17:return t.abrupt("return",Object.keys(e).reduce((function(t,r){return l(l({},t),{},(0,o.Z)({},r,e[r].defaultValue))}),{}));case 18:case"end":return t.stop()}}),t,this,[[4,13]])}))),function(t){return e.apply(this,arguments)})},{key:"normalizeFcmValue",value:function(t,e){return d(t,e,this.reportError)}}]),t}();function d(t,e,r){if(null===e)return t.defaultValue;try{return t.normalizer(e)}catch(a){var i=a.message||void 0,o='[FCM] Invalid "'.concat("object"===(0,n.Z)(e)?JSON.stringify(e):e,'" value for "').concat(t.name,'"').concat(i?" (reason: ".concat(i,")"):"");return console.warn(o),null==r||r({error:o,params:{fcm:t.name}}),t.defaultValue}}function h(t){return new p(t)}},50133:function(t,e,r){r.d(e,{U:function(){return i}});var n=r(92641);function i(t){var e=n.rV("petition:on_demand_support_request_count_".concat(t))||"0";return parseInt(e,10)}},66739:function(t,e,r){r.d(e,{V:function(){return s}});var n=r(83644),i=r(49458),o=r(1558),a=r.n(o);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s=function(t){var e=t.petitionId,r=t.userId,n=t.triggerSupport,o=t.isPhoneNumberNew;return function(){var t=(0,i.Z)(a().mark((function t(i,u){var s,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={phoneNumber:i,consentResponse:{consentGiven:!0,name:"phone_consent_dashboard_on_demand",text:u}},f={phoneNumber:i,petitionId:e,userId:r,triggerType:"on_demand"},t.abrupt("return",n(c(c(c({},s),f),{},{isPhoneNumberNew:o})));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}},36735:function(t,e,r){r.d(e,{K:function(){return d}});var n,i=r(49458),o=r(1558),a=r.n(o),u=r(29498),c=r(96976),s=r(2903),f=r(22117);function l(t){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function t(e){var r,i,o,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.gql.fetch,t.prev=1,t.next=4,r({query:(0,f.Ps)(n||(n=(0,s.Z)(["\n\t\t\t\tquery FetchOnDemandSupportUser {\n\t\t\t\t\tviewer: viewer {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tuser {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tphoneNumber\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"])))});case 4:if(u=t.sent,c=u.data,!u.errors&&c){t.next=9;break}return t.abrupt("return",Promise.reject(new Error("server_error")));case 9:return t.abrupt("return",(null==c||null===(i=c.viewer)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.phoneNumber)||"");case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",Promise.reject(new Error("other")));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}function d(){var t=(0,c.RA)();return(0,u.useCallback)((0,i.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:return r=e.sent,e.abrupt("return",r||"");case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t])}},92154:function(t,e,r){r.d(e,{$:function(){return k}});var n,i,o=r(49458),a=r(1558),u=r.n(a),c=r(29498),s=r(96976),f=r(2903),l=r(22117);function p(t,e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(u().mark((function t(e,r){var i,o,a,c,s,p,d,h;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.phoneNumber,o=e.consentResponse,a=o.consentGiven,c=o.name,s=o.text,p=r.gql.fetch,t.prev=2,t.next=5,p({query:(0,l.Ps)(n||(n=(0,f.Z)(["\n\t\t\t\tmutation SetOnDemandPhoneNumberAndConsent($input: SetPhoneNumberAndConsentInput!) {\n\t\t\t\t\tsetPhoneNumberAndConsent(input: $input) {\n\t\t\t\t\t\tsuccess\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"]))),variables:{input:{phoneNumber:i,consentResponse:{consentGiven:a,name:c,text:s}}}});case 5:if(d=t.sent,h=d.data,!d.errors&&h){t.next=10;break}return t.abrupt("return",Promise.reject(new Error("server_error")));case 10:return t.abrupt("return",h.setPhoneNumberAndConsent.success);case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",Promise.reject(new Error("other")));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))).apply(this,arguments)}function h(t,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(u().mark((function t(e,r){var n,o,a,c,s,p,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.petitionId,o=e.userId,a=e.phoneNumber,c=e.triggerType,s=r.gql.fetch,t.prev=2,t.next=5,s({query:(0,l.Ps)(i||(i=(0,f.Z)(["\n\t\t\t\tmutation RequestSupport($input: RequestSupportMutationInput!) {\n\t\t\t\t\trequestSupport(input: $input) {\n\t\t\t\t\t\tsuccess\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"]))),variables:{input:{petitionId:n,userId:o,phoneNumber:a,triggerType:c}}});case 5:if(p=t.sent,d=p.data,!p.errors&&d){t.next=10;break}return t.abrupt("return",Promise.reject(new Error("server_error")));case 10:return t.abrupt("return",d.requestSupport.success);case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",Promise.reject(new Error("other")));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))).apply(this,arguments)}var g=r(50133),m=r(92641);var y=function(t){var e=(0,s.RA)().tracker.track;return(0,c.useCallback)((function(r){e("on_demand_confirmation_banner_duplicate",{context:t,petition_id:r})}),[e,t])},b=r(65775),w=function(t){var e=(0,s.RA)().tracker.track;return(0,c.useCallback)((function(){e("on_demand_submit_success",{context:t})}),[e,t])},O=function(t){var e=(0,s.RA)().tracker.track;return(0,c.useCallback)((function(r){var n=r.isMobile,i=r.status,o=r.petitionId;e("phone_number_added",{status:i,is_mobile_phone_number:n,context:t,petition_id:o})}),[e,t])};function k(t,e){var r=(0,b.r)(e),n=w(e),i=O(e),a=y(e),f=(0,s.RA)(),l=(0,c.useCallback)(function(){var e=(0,o.Z)(u().mark((function e(o){var c,s,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={isFormatted:!0,isValid:!0,isMobile:!0},e.prev=1,e.next=4,p(o,f);case 4:if(e.t0=e.sent,!e.t0){e.next=9;break}return e.next=8,h(o,f);case 8:e.t0=e.sent;case 9:return(s=e.t0)?(t("success"),l=o.petitionId,d=(0,g.U)("".concat(l)),u="".concat(l),v=d+1,m.LS("petition:on_demand_support_request_count_".concat(u),"".concat(v)),i({isMobile:!0,petitionId:"".concat(o.petitionId),status:o.isPhoneNumberNew?"new":"updated"}),n(),d>0&&a("".concat(l))):(t("error"),r(c)),e.abrupt("return",s);case 14:return e.prev=14,e.t1=e.catch(1),t("error"),r(c),e.abrupt("return",!1);case 19:case"end":return e.stop()}var u,v}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,i,n,a,r,f]);return{triggerSupport:l}}},16938:function(t,e,r){r.d(e,{N:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(){e("on_demand_confirmation_banner_show",{context:t})}),[e,t])}},85834:function(t,e,r){r.d(e,{y:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(){e("on_demand_dismiss",{context:t})}),[e,t])}},65775:function(t,e,r){r.d(e,{r:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(r){var n=r.isFormatted,i=r.isValid,o=r.isMobile;e("on_demand_submit_error",{is_formatted:n,is_valid:i,is_mobile:o,context:t})}),[e,t])}},78689:function(t,e,r){r.d(e,{x:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(r){var n=r.isAuto,i=r.phonePopulated;e("support_modal_expanded_view",{is_auto:n,phone_populated:i,context:t})}),[e,t])}},83575:function(t,e,r){r.d(e,{n:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(){e("support_pill_clicked",{context:t})}),[e,t])}},96868:function(t,e,r){r.d(e,{k:function(){return o}});var n=r(29498),i=r(96976),o=function(t){var e=(0,i.RA)().tracker.track;return(0,n.useCallback)((function(){e("support_pill_show",{context:t})}),[e,t])}},74064:function(t,e,r){r.d(e,{d:function(){return p}});var n=r(49458),i=r(1558),o=r.n(i),a=r(29498),u=r(83833),c=r(63350),s=r(96976),f=function(t){var e=(0,s.RA)().tracker.track;return(0,a.useCallback)((function(r){e("on_demand_submit_click",{context:t,petition_id:r})}),[e,t])},l=r(65775);function p(t){var e=t.phoneNumber,r=t.consentText,i=t.onSubmitRequest,s=t.setWarning,p=t.petitionId,d=t.phoneFormatted,h=t.context,v=f(h),g=(0,l.r)(h);return(0,a.useCallback)((0,n.Z)(o().mark((function t(){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(p),n=(0,u.r5)(e),a=(0,c.U)(e),n&&a){t.next=7;break}return s(!0),g({isFormatted:d,isValid:n,isMobile:a}),t.abrupt("return");case 7:return t.next=9,i(e,r);case 9:case"end":return t.stop()}}),t)}))),[r,i,e,s,p,d,v,g])}},79977:function(t,e,r){r.d(e,{p:function(){return a}});var n=r(58819),i=r(50133),o=function(t,e,r){if(void 0===t)return!1;var o,a,u,c,s,f,l=t.publishedAt,p=t.id;return!!l&&(a=l,s=null!==(u=null==(o=r)?void 0:o.start_day)&&void 0!==u?u:0,f=null!==(c=null==o?void 0:o.end_day)&&void 0!==c?c:0,!(0,n.cw)(a,s-1)&&(0,n.cw)(a,f))&&!function(t,e){var r=(0,i.U)(t);return!!r&&r>=e}(p,e)},a=function(t){var e=t.loginState,r=t.petition,n=t.treatExperiment,i=t.isPetitionOwner,a=void 0!==i&&i,u=t.ownerHasPhoneNumber,c=void 0!==u&&u,s=t.enabledFCM,f=void 0!==s&&s,l=t.dateRangeFCM,p=void 0===l?{}:l,d=t.maxRequestsFCM,h=void 0===d?0:d;return function(t,e){return!!t&&"variant"===e("campaign_on_demand_support")}(f,n)&&function(t,e,r){return"AUTHENTICATED"===t&&e&&!r}(e,a,c)&&o(r,h,p)}},99470:function(t,e,r){r.d(e,{u:function(){return o}});var n=r(9702),i=r(73823);function o(t){var e=(0,i.wL)(t),r=(0,n.td)("change-media",e),o=r.filter((function(t){return"youtube"===t.attribs["data-type"]})).length;return{image:r.filter((function(t){return"img"===t.attribs["data-type"]})).length,youtube:o}}},38658:function(t,e,r){r.d(e,{V:function(){return h}});var n=r(49458),i=r(47659),o=r(84615),a=r(1558),u=r.n(a),c=r(83843),s=r.n(c),f=r(1230),l=r(94508),p="https://www.google-analytics.com/analytics.js";var d=function(){function t(e){var r,n=e.trackingId,o=e.reportError;(0,i.Z)(this,t),this.initDone=!1,this.enabled=!1,this.trackingId=n,this.reportError=o,this.fakeGa=((r=function(){}).l=Number(new Date),r.q=[],r)}return(0,o.Z)(t,[{key:"toggle",value:function(t){return this.enabled=t,(0,l.Jj)()["ga-disable-".concat(this.trackingId)]=!this.enabled,this.init(),this}},{key:"init",value:function(){var t=this;if(this.enabled&&!this.initDone){this.initDone=!0;var e=(0,l.Jj)();e.ga=e.ga||function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e.ga.q=e.ga.q||[]).push(r)},e.ga.l=Number(new Date);var r=s().parse((0,l.k$)().search.replace(/^\?/,"")).gaDebug;r&&(e.ga_debug={trace:!0}),e.ga("create",this.trackingId,"auto"),e.ga("set","anonymizeIp",!0),(0,f.G)(r?"https://www.google-analytics.com/analytics_debug.js":p).catch((function(e){fetch(p).then(function(){var t=(0,n.Z)(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.ok?Promise.resolve():Promise.reject(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){t.reportError({error:new Error("Could not run Google Analytics script")})}),(function(e){t.reportError({error:new Error("Could not retrieve Google Analytics script"),params:e.status?{message:e.statusText,status:e.status,url:p}:{message:e.toString(),url:p}})})),t.reportError(e)}))}}},{key:"ga",get:function(){return this.initDone?(0,l.Jj)().ga:this.fakeGa}}]),t}();function h(t){return new d(t)}},89753:function(t,e,r){r.d(e,{F:function(){return g}});var n=r(49458),i=r(47659),o=r(84615),a=r(1558),u=r.n(a),c=r(26729),s=r(48499),f=r(1230),l=r(94508),p="https://accounts.google.com/gsi/client";function d(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(u().mark((function t(e){var r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.reportError,t.prev=1,t.next=4,(0,f.G)(p);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),(0,n.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(p);case 3:(e=t.sent).ok?r({error:new Error("Could not run Google Sign In script")}):r({error:new Error("Could not retrieve Google Sign In script"),params:{message:e.statusText,status:e.status,url:p}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({error:new Error("Could not retrieve Google Sign In script"),params:{message:String(t.t0),url:p}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),r(t.t0);case 10:return i=function(){var t=(0,l.Jj)();return t.google?{initialize:t.google.accounts.id.initialize,renderButton:t.google.accounts.id.renderButton}:void 0},t.abrupt("return",i());case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}var v=function(){function t(e){var r=e.googleAuthClientId,n=e.reportError,o=e.disabled;(0,i.Z)(this,t),this.disabled=!1,this.googleAuthClientId=r,this.reportError=n,this.googleSignInSDK=void 0,this.disabled=!!o}var e,r,a,f;return(0,o.Z)(t,[{key:"initSDK",value:(f=(0,n.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,s.K)()){t.next=2;break}throw new Error("Google Sign In is not available server-side");case 2:if(!this.disabled){t.next=4;break}return t.abrupt("return",void 0);case 4:return this.googleSignInSDK=this.googleSignInSDK||d({reportError:this.reportError}),t.abrupt("return",this.googleSignInSDK);case 6:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"initClient",value:(a=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initSDK();case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",void 0);case 5:return r.initialize({client_id:this.googleAuthClientId,callback:function(t){if(t.credential){var r=(0,c.Z)(t.credential);e({token:t.credential,data:{identifier:r.sub,givenName:r.given_name,familyName:r.family_name,displayName:r.name,profilePicture:r.picture,email:r.email,emailVerified:r.email_verified,gSuiteDomain:r.hd}})}else e({token:void 0,data:void 0})}}),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"preload",value:(r=(0,n.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initSDK();case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"renderButton",value:(e=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initClient(e.handleGoogleSignIn);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return n={type:"standard",theme:"filled_blue"},r.renderButton(e.parent,e.buttonOptions||n),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function g(t){return new v(t)}},49519:function(t,e,r){r.d(e,{T:function(){return et}});var n=r(77754),i=r(83644),o=r(49458),a=r(47659),u=r(84615),c=r(1558),s=r.n(c),f=r(99344),l=r(13232),p=r(79649),d=r.n(p),h=r(22518),v=r(79844),g=r(20487);function m(t){var e,r=t.definitions.find((function(t){return t.kind===g.h.OPERATION_DEFINITION}));return null==r||null===(e=r.name)||void 0===e?void 0:e.value}function y(t){var e,r,n,i,o=t.url,a=t.err,u=t.query,c=(null===(e=a.extensions)||void 0===e?void 0:e.headers)||{};return{error:"GQL error: ".concat(a.message),params:{type:"graphql",url:o,query:null===(r=u.loc)||void 0===r?void 0:r.source.body,locations:a.locations,positions:a.positions,path:a.path,operationName:m(u),requestId:c["x-request-id"],status:null===(n=a.extensions)||void 0===n?void 0:n.status,originalAirbrakeUrl:null===(i=a.extensions)||void 0===i?void 0:i.airbrakeUrl}}}var b=r(98036),w=r(92308),O=r.n(w),k=r(83843),j=r.n(k);function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t){return"string"==typeof t?t:t instanceof URL?t.toString():t.url}function S(t,e){return null!=e&&e.method?e.method:"string"==typeof t||t instanceof URL?"GET":t.method}function D(t){var e;if(null!=t&&t.body&&"string"==typeof t.body)try{var r=JSON.parse(t.body);return e=r,Array.isArray(e)?{batched:!0,operationNames:r.map((function(t){return t.operationName||"unknown"}))}:{batched:!1,operationNames:[r.operationName||"unknown"]}}catch(t){return}}function Z(t){if("string"!=typeof t)return[];try{var e=JSON.parse(t);return(Array.isArray(e)?e:[e]).map((function(t){return t.operationName})).filter((function(t){return!!t}))}catch(t){return[]}}function C(t,e){if("string"!=typeof t||!e||!e.length)return t;var r=t.split("?"),n=(0,b.Z)(r,2),i=n[0],o=n[1];return"".concat(i,"?").concat(j().stringify(x(x({},j().parse(o)),{},{op:O()(e).sort().map((function(t){var r=e.filter((function(e){return e===t})).length;return r>1?"".concat(t,"~").concat(r):t}))}),{arrayFormat:"repeat"}))}var _=r(56020),A=r(43902);function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.abrupt("return",new Promise((function(t,n){e.subscribe({next:function(e){r?console.warn("Promise Wrapper does not support multiple results from Observable"):(r=!0,t(e))},error:n})})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F=new h.i((function(t,e){var r=Date.now().toString(36)+Math.random().toString(36).substring(2);return t.extensions.operationId=r,e(t)})),M=r(3617);function B(t){return"string"==typeof t?(0,M.Qc)(t):t}function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var q=["x-request-id"];function z(t){var e=t.headers,r=t.status,n={};return n.status=r,n.headers=q.reduce((function(t,r){var n=e.get(r);return n?U(U({},t),{},(0,i.Z)({},r,n)):t}),{}),n}var W=new h.i((function(t,e){var r=t.extensions.operationId;return new v.y((function(n){var i=e(t).subscribe({next:function(e){if(e.errors){var r=z(t.getContext().response);e.errors.forEach((function(t){Object.assign(t.extensions,r)}))}n.next(e)},error:function(t){var e=null==t?void 0:t.result,i=null==t?void 0:t.response;if(e&&i){var o,a=z(i);if(Array.isArray(e))e.forEach((function(t){var e,n;(null===(e=t.extensions)||void 0===e?void 0:e.operationId)===r&&(null===(n=t.errors)||void 0===n||n.forEach((function(t){Object.assign(t.extensions,a)})))}));else null===(o=e.errors)||void 0===o||o.forEach((function(t){Object.assign(t.extensions,a)}))}n.error(t)}});return function(){i.unsubscribe()}}))})),G=r(69472),H=r(93738),V=r(89355);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,V.Z)(t);if(e){var i=(0,V.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,H.Z)(this,r)}}var $=function(t){(0,G.Z)(GQLResponseError,t);var e=K(GQLResponseError);function GQLResponseError(t){var r,n=t.errors,i=t.status;return(0,a.Z)(this,GQLResponseError),(r=e.call(this,"GQL Response Error")).errors=n,r.status=i,r}return(0,u.Z)(GQLResponseError)}(r(13631).s),J=r(48499);function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Y=function(){function t(e){(0,a.Z)(this,t);var r,n=e.reportError,i=e.reportNetworkError,u=e.uri,c=e.headers,f=e.fetch,l=e.addOperationNamesToUri;this._fetch=function(t){var e=t.fetch,r=t.reportError,n=t.reportNetworkError,i=t.addOperationNamesToUri;return function(){var t=(0,o.Z)(s().mark((function t(o,a){var u,c,f,l,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i?C(o,Z(null==a?void 0:a.body)):o,t.prev=1,t.next=4,e(u,a);case 4:if((c=t.sent).ok){t.next=7;break}throw c;case 7:return t.abrupt("return",c);case 10:if(t.prev=10,t.t0=t.catch(1),!t.t0.status){t.next=19;break}if(l=t.t0,p=null===(f=l.headers)||void 0===f?void 0:f.get("x-request-id"),r({error:new Error("HTTP ".concat(l.status," Error when running GraphQL query")),params:{message:l.statusText,status:l.status,url:E(u),method:S(u,a),requestId:p,gqlDetails:D(a)}}),!(l.status<500)){t.next=18;break}return t.abrupt("return",l);case 18:throw t.t0;case 19:throw n({error:t.t0,params:{url:E(u),method:S(u,a),gqlDetails:D(a)}}),t.t0;case 21:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({fetch:f||fetch,reportError:n,reportNetworkError:i,addOperationNamesToUri:l}),this.options=e,this.links=function(t){var e=t.uri,r=t.headers,n=t.fetch,i={uri:e,credentials:"same-origin",headers:R({"X-Requested-With":"http-link"},r),fetch:n,fetchOptions:{method:"POST"},includeExtensions:!0};return{single:new A.u(i),batch:new _.A(i)}}({uri:u,headers:c,fetch:this._fetch}),this.errorHandlerLink=function(t){return new h.i((function(e,r){var n=e.extensions.operationId,i=e.query,o=e.getContext().uri;return new v.y((function(a){var u=r(e).subscribe({next:function(e){e.errors&&e.errors.forEach((function(e){return t(y({err:e,url:o,query:i}))})),a.next(e)},error:function(e){var r,u=null==e?void 0:e.result,c=null==e?void 0:e.response;u&&c&&(Array.isArray(u)?u.forEach((function(e){var r,a;(null===(r=e.extensions)||void 0===r?void 0:r.operationId)===n&&(null===(a=e.errors)||void 0===a||a.forEach((function(e){return t(y({err:e,url:o,query:i}))})))})):null===(r=u.errors)||void 0===r||r.forEach((function(e){return t(y({err:e,url:o,query:i}))}))),a.error(e)}});return function(){u.unsubscribe()}}))}))}(n),this.webappInfoLink=(r=e.webappInfo,new h.i((function(t,e){return t.extensions.webappInfo={name:null==r?void 0:r.name,build_ts_utc:null==r?void 0:r.buildTsUtc,version:null==r?void 0:r.version,version_normalized:null==r?void 0:r.versionNormalized,ssr:(0,J.K)()},e(t)})))}var e;return(0,u.Z)(t,[{key:"getUri",value:function(t){var e=this.options.uri;return t?"".concat(e).concat(t):e}},{key:"fetch",value:(e=(0,o.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=B(e.query),n=I((0,f.h)((0,l.D)([this.webappInfoLink,F,this.errorHandlerLink,W,e.important?this.links.single:this.links.batch]),X(X({},d()(["important","path","rejectOnError"],e)),{},{context:X(X({},e.context),{},{uri:this.getUri(e.path)}),query:r}))),t.abrupt("return",n.then((function(t){if(t.errors&&e.rejectOnError)throw new $({errors:t.errors});return t}),(function(t){throw tt(t)})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function tt(t){if("ServerError"===t.name){var e=Array.isArray(t.result)?(r=[]).concat.apply(r,(0,n.Z)(t.result.filter((function(t){return!!t.errors})).map((function(t){return t.errors})))):t.result.errors||[];return new $({errors:e,status:t.statusCode})}var r;return t}function et(t){return new Y(t)}},84386:function(t,e,r){r.d(e,{F:function(){return c}});var n=r(47659),i=r(84615),o=r(48499),a=r(94508);var u=function(){function t(e){var r=e.id,i=e.version,o=e.environment,a=e.sessionInfo,u=e.webappInfo;(0,n.Z)(this,t),this.initDone=!1,this.id=r,this.version=i,this.environment=o,this.sessionInfo=a||{},this.webappInfo=u,this.script=function(t,e){return"\n\t\t(function (h, o, t, j, a, r) {\n\t\t\th.hj =\n\t\t\t\th.hj ||\n\t\t\t\tfunction () {\n\t\t\t\t\t(h.hj.q = h.hj.q || []).push(arguments);\n\t\t\t\t};\n\t\t\th._hjSettings = { hjid: ".concat(t,", hjsv: ").concat(e,", hjdebug: !!window.location.search.match(/[&?]hjDebug=1(&|$)/) };\n\t\t\ta = o.getElementsByTagName('head')[0];\n\t\t\tr = o.createElement('script');\n\t\t\tr.async = 1;\n\t\t\tr.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\n\t\t\ta.appendChild(r);\n\t\t})(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');\n\t")}(this.id,this.version)}return(0,i.Z)(t,[{key:"hj",get:function(){return e=(0,a.Jj)(),(t=e).hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},e.hj;var t,e}},{key:"getScript",value:function(){return this.script}},{key:"init",value:function(){if((0,o.K)())throw new Error("Hotjar is not available server-side");return this.initDone||(this.initDone=!0,this.hj("identify",this.sessionInfo.userId||null,(t={environment:this.environment,locale:this.sessionInfo.locale,countryCode:this.sessionInfo.countryCode,loginState:this.sessionInfo.loginState,webappName:this.webappInfo.name,webappVersion:this.webappInfo.version},JSON.parse(JSON.stringify(t))))),this;var t}},{key:"checkAvailable",value:function(){if((0,o.K)())throw new Error("Hotjar is not available server-side");if(!this.initDone)throw new Error("Hotjar has not been properly initialized");return!0}},{key:"formSubmit",value:function(t){return this.checkAvailable()&&this.hj&&this.hj("success"===t?"formSubmitSuccessful":"formSubmitFailed"),this}},{key:"stateChange",value:function(t){return this.checkAvailable()&&this.hj&&this.hj("stateChange",t),this}},{key:"tagRecording",value:function(t){return this.checkAvailable()&&this.hj&&this.hj("tagRecording",t),this}},{key:"trigger",value:function(t){return this.checkAvailable()&&this.hj&&this.hj("trigger",t),this}},{key:"vpv",value:function(t){return this.checkAvailable()&&this.hj&&this.hj("vpv",t),this}}]),t}();function c(t){return new u(t)}},2614:function(t,e,r){r.d(e,{j:function(){return i}});var n=r(73823);function i(t){var e=[],r=!1,i=new n._b({onopentag:function(t){["script","style"].includes(t)&&(r=!0)},ontext:function(t){!r&&e.push(t)},onclosetag:function(){r=!1}},{decodeEntities:!0});return i.write(t),i.end(),e.join("")}},5441:function(t,e,r){r.d(e,{d:function(){return m}});var n=r(83644),i=r(49458),o=r(47659),a=r(84615),u=r(1558),c=r.n(u),s=r(94508);function f(t){return"string"==typeof t?t:t instanceof URL?t.toString():t.url}function l(t,e){return null!=e&&e.method?e.method:"string"==typeof t||t instanceof URL?"GET":t.method}function p(t,e){if(!e)return t;if("string"==typeof t){if(t.startsWith("/"))return"".concat(e).concat(t);if(!/^https?:\/\//.exec(t))throw new Error("Auto-prefixing relative url not supported at this point");return t}if(t.url.startsWith("/"))throw new Error("Auto-prefixing Request input not supported at this point");if(!/^https?:\/\//.exec(t.url))throw new Error("Auto-prefixing relative Request input not supported at this point");return t}var d=r(58109);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(){function t(e){var r=e.headers,n=e.fetch,a=e.origin,u=e.reportNetworkError;(0,o.Z)(this,t),this._fetch=function(t){var e=t.fetch,r=t.reportNetworkError;return function(){var t=(0,i.Z)(c().mark((function t(n,i){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n,i);case 3:return o=t.sent,t.abrupt("return",o);case 7:throw t.prev=7,t.t0=t.catch(0),r({error:t.t0,params:{url:f(n),method:l(n,i)}}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}({fetch:n||fetch,reportNetworkError:u}),this.headers=r,this.origin=a}var e,r,n,u,h,g,m,y,b,w;return(0,a.Z)(t,[{key:"fetch",value:(w=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",this._fetch(p(e,this.origin),v(v({},r),{},{credentials:"same-origin",headers:v(v({},r.headers),{},{"X-Requested-With":r.keepalive?"fetch (keepalive)":"fetch"},this.headers)})));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"request",value:(b=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",this._fetch(p(e,this.origin),v(v({},r),{},{credentials:"same-origin",headers:v(v({},r.headers),{},{"X-Requested-With":r.keepalive?"fetch (keepalive)":"fetch"},this.headers)})).then(function(){var t=(0,i.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=5;break}return t.next=3,e.text();case 3:return r=t.sent,t.abrupt("return",r?JSON.parse(r):void 0);case 5:throw e;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"getAsset",value:(y=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",this._fetch(p(e,this.origin),v(v({},r),{},{headers:v(v({},r.headers),this.headers)})).then(function(){var t=(0,i.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.ok?e.json():Promise.reject(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"get",value:(m=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",this.request(e,v(v({},r),{},{method:"GET"})));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"sendBody",value:(g=(0,i.Z)(c().mark((function t(e,r,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.request(e,v(v({},n),{},{body:JSON.stringify(r),headers:v(v({"Content-Type":"application/json"},n.headers),this.headers)})));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return g.apply(this,arguments)})},{key:"post",value:(h=(0,i.Z)(c().mark((function t(e){var r,n,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",this.sendBody(e,r,v(v({},n),{},{method:"POST"})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"put",value:(u=(0,i.Z)(c().mark((function t(e){var r,n,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",this.sendBody(e,r,v(v({},n),{},{method:"PUT"})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"patch",value:(n=(0,i.Z)(c().mark((function t(e){var r,n,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",this.sendBody(e,r,v(v({},n),{},{method:"PATCH"})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"delete",value:(r=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.abrupt("return",this.request(e,v(v({},r),{},{method:"DELETE"})));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"sendBeacon",value:(e=(0,i.Z)(c().mark((function t(e){var r,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:void 0,!(0,d.$W)()){t.next=3;break}return t.abrupt("return",Promise.resolve((0,s.Jj)().navigator.sendBeacon(e,JSON.stringify(r))));case 3:return t.abrupt("return",this.post(e,r).then((function(){return!0}),(function(){return!1})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function m(t){return new g(t)}},98061:function(t,e,r){function n(t,e,r){return/^[^#]+\?/.exec(t)?t.replace(/(\?[^#]+)(?=#|$)/,(function(t,n){return"".concat(n,"&").concat(e,"=").concat(encodeURIComponent(r))})):t.replace(/(#|$)/,(function(t,n){return"?".concat(e,"=").concat(encodeURIComponent(r)).concat(n)}))}r.d(e,{X:function(){return n}})},58109:function(t,e,r){r.d(e,{$W:function(){return a},DD:function(){return o}});var n=(0,r(94508).o4)(),i=!!n&&!!n.Request&&"keepalive"in new n.Request("");function o(){return i}function a(){var t;return!!n&&!(null===(t=n.navigator)||void 0===t||!t.sendBeacon)}},7650:function(t,e,r){r.d(e,{o:function(){return F}});var n=r(77754),i=r(83644),o=r(47659),a=r(84615);function u(t){return["bif","clp","djf","gnf","jpy","kmf","krw","mga","pyg","rwf","vnd","vuv","xaf","xof","xpf"].includes(t.toLowerCase())}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.amountInBaseUnits,a=i.currencyDisplay,c=i.currencySign,f=i.forceFractionDigits,l={style:"currency",currency:r,currencyDisplay:a,currencySign:c},p=function(t,e,r){return r?u(e)?t:t/100:t}(e,r,o);f||"00"===(null===(n=new Intl.NumberFormat(t,l).formatToParts(p).find((function(t){return"fraction"===t.type})))||void 0===n?void 0:n.value)&&(l=s(s({},l),{},{minimumFractionDigits:0,maximumFractionDigits:0}));return new Intl.NumberFormat(t,l).format(p)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={calendar:"gregory"},h={date:{short:p(p({},d),{},{dateStyle:"short"}),medium:p(p({},d),{},{dateStyle:"medium"}),long:p(p({},d),{},{dateStyle:"long"}),full:p(p({},d),{},{dateStyle:"full"})},time:{short:p(p({},d),{},{timeStyle:"short"}),medium:p(p({},d),{},{timeStyle:"medium"}),long:p(p({},d),{},{timeStyle:"long"}),full:p(p({},d),{},{timeStyle:"long"})},datetime:{short:p(p({},d),{},{dateStyle:"short",timeStyle:"medium"}),medium:p(p({},d),{},{dateStyle:"medium",timeStyle:"medium"}),long:p(p({},d),{},{dateStyle:"long",timeStyle:"long"}),full:p(p({},d),{},{dateStyle:"full",timeStyle:"long"})}};function v(t,e,r,n){return new Intl.DateTimeFormat(t,h[r][n]).format(function(t){return t instanceof Date?t:new Date(t)}(e))}var g={second:1,minute:60,hour:3600,day:86400,week:604800,month:2629743.83,year:31556926};function m(t){return"number"==typeof t?t:"string"==typeof t?new Date(t).getTime():t.getTime()}function y(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.style,o=void 0===i?"long":i,a=n.numeric,u=void 0===a?"always":a,c=(m(r)-m(e))/1e3,s=function(t){return t<g.minute?"second":t<g.hour?"minute":t<g.day?"hour":t<g.week?"day":t<g.month?"week":t<g.year?"month":"year"}(Math.abs(c));return new Intl.RelativeTimeFormat(t,{style:o,numeric:u}).format(Math.round(c/g[s]),s)}var b=r(69472),w=r(93738),O=r(89355);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,O.Z)(t);if(e){var i=(0,O.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,w.Z)(this,r)}}var j=function(t){(0,b.Z)(MissingTranslationError,t);var e=k(MissingTranslationError);function MissingTranslationError(t){var r,n=t.key;return(0,o.Z)(this,MissingTranslationError),(r=e.call(this,"Missing Translation: ".concat(n))).key=n,r}return(0,a.Z)(MissingTranslationError)}(r(13631).s),P=r(6441),x=r(77490),E=r.n(x);var S=r(84993);function D(t,e,r){var n=t.reduce((function(t,r){return null!=t?t:E()(null,e,r)}),null);if("string"!=typeof n)throw new j({key:e});return(0,S.g)(e,n,r)}var Z=["zero","one","two","few","many","other"],C="other",_={many:"other"},A={"fr-FR":_,"pt-BR":_,"pt-PT":_,"es-ES":_,"es-AR":_,"es-419":_,"it-IT":_};function T(t,e,r){var n=new Intl.PluralRules(t).select(r);return"".concat(e,".").concat(function(t,e){var r;return null!==(r=A[t])&&void 0!==r&&r[e]?A[t][e]:Z.includes(e)?e:C}(t,n))}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){return t.split(".").pop()}var N=function(){function t(e){var r=e.locale,n=e.translations,a=e.translationFallback,u=e.countries,c=e.listeners,s=e.reportError;(0,o.Z)(this,t),this.locale=r,this.translations=Array.isArray(n)?n:[n],this.translationFallback=a,this.countries=u||[],this.countriesMap=this.countries.reduce((function(t,e){return t[e.code]=e,t}),{}),this.listeners=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},c||{}),this.reportError=s}return(0,a.Z)(t,[{key:"handleTranslateError",value:function(t){if(t instanceof j)return this.reportError({error:"i18n: missing translation for ".concat(t.key),params:{key:t.key,locale:this.locale}}),(this.translationFallback||I)(t.key);if(t instanceof P.O)return this.reportError({error:"i18n: missing replacement values for ".concat(t.key),params:{key:t.key,translation:t.translation,missingReplacements:t.missingReplacements,locale:this.locale}}),t.finalTranslation;throw t}},{key:"hasTranslations",get:function(){return this.translations.some((function(t){return!!Object.keys(t).length}))}},{key:"hasMainTranslations",get:function(){return!!Object.keys(this.translations[0]||{}).length}},{key:"translationExists",value:function(t){return this.trigger("translationExists",t),function(t,e){return"string"==typeof t.reduce((function(t,r){return null!=t?t:E()(null,e,r)}),null)}(this.translations,t)}},{key:"translate",value:function(t,e){this.trigger("translate",t,e);try{return D(this.translations,t,e)}catch(t){return this.handleTranslateError(t)}}},{key:"translatePlural",value:function(t,e,r){this.trigger("translatePlural",t,e,r);try{return function(t,e,r,n){var i=t.locale;return D(t.translations,T(i,e,r),n)}({translations:this.translations,locale:this.locale},t,e,r)}catch(t){return this.handleTranslateError(t)}}},{key:"getCountries",value:function(){return this.trigger("getCountries"),this.countries}},{key:"getCountry",value:function(t){return this.trigger("getCountry",t),this.countriesMap[t]}},{key:"localizeNumber",value:function(t,e){return this.trigger("localizeNumber",t,e),function(t,e,r){return new Intl.NumberFormat(t,r).format(e)}(this.locale,t,e)}},{key:"amountToBaseUnits",value:function(t,e){return this.trigger("amountToBaseUnits",t,e),function(t,e){return Math.round(u(e)?t:100*t)}(t,e)}},{key:"amountFromBaseUnits",value:function(t,e){return this.trigger("amountFromBaseUnits",t,e),function(t,e){return Number(u(e)?t:t/100)}(t,e)}},{key:"getDecimalSeparator",value:function(){return this.trigger("getDecimalSeparator"),t=this.locale,null===(e=new Intl.NumberFormat(t,{minimumFractionDigits:2}).formatToParts(1e5).filter((function(t){return"decimal"===t.type}))[0])||void 0===e?void 0:e.value;var t,e}},{key:"localizeCurrency",value:function(t,e,r){return this.trigger("localizeCurrency",t,e,r),f(this.locale,t,e,r)}},{key:"getCurrencySymbol",value:function(t){return this.trigger("getCurrencySymbol",t),function(t,e){var r;return null===(r=new Intl.NumberFormat(t,{style:"currency",currency:e}).formatToParts(99).filter((function(t){return"currency"===t.type}))[0])||void 0===r?void 0:r.value}(this.locale,t)}},{key:"getCurrencySymbolPosition",value:function(t){return this.trigger("getCurrencySymbolPosition",t),function(t,e){return 0===new Intl.NumberFormat(t,{style:"currency",currency:e,currencyDisplay:"code"}).formatToParts(99).findIndex((function(t){return t.value===e}))?"before":"after"}(this.locale,t)}},{key:"isZeroDecimalCurrency",value:function(t){return this.trigger("isZeroDecimalCurrency",t),u(t)}},{key:"localizeDate",value:function(t,e,r){return this.trigger("localizeDate",t,e,r),v(this.locale,t,e,r)}},{key:"localizeRelativeTime",value:function(t,e,r){return this.trigger("localizeRelativeTime",t,e,r),y(this.locale,t,e,r)}},{key:"on",value:function(t,e){var r=this;return(Array.isArray(t)?t:[t]).forEach((function(t){var n=r.listeners[t]||[];r.listeners[t]=n,n.push(e)})),this}},{key:"trigger",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.listeners[t];i&&i.forEach((function(e){e.apply(void 0,[t].concat(r))}))}},{key:"extends",value:function(e){var r=e.additionalTranslations,i=Array.isArray(r)?r:[r],o=[].concat((0,n.Z)(this.translations),(0,n.Z)(i));return new t({locale:this.locale,translations:o,translationFallback:this.translationFallback,countries:this.countries,reportError:this.reportError,listeners:this.listeners})}}]),t}();function F(t){return new N(t)}},62556:function(t,e,r){r.d(e,{F:function(){return h}});var n=r(49458),i=r(1558),o=r.n(i);function a(t){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return s.apply(this,arguments)}function s(){return s=(0,n.Z)(o().mark((function t(e){var r,i,u,c,s,f,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){return(l=(0,n.Z)(o().mark((function t(e){var n,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s===u?r(1):(i||r)(u-s+1,e);case 3:return n=t.sent,t.abrupt("return",n);case 7:if(t.prev=7,t.t0=t.catch(0),!((s-=1)>0)){t.next=14;break}return t.next=13,a(c);case 13:return t.abrupt("return",f(t.t0));case 14:if(!(t.t0 instanceof Error)){t.next=21;break}throw(l=t.t0).retryAttempts=u,l.retryDelay=c,l;case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)},f=function(t){return l.apply(this,arguments)},r=e.task,i=e.onRetry,u=e.attempts,c=e.delay,s=u,t.abrupt("return",f());case 5:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}var f=r(98061);function l(t,e){return"https://static.change.org/i18n/production/".concat(t,".json").concat(e?"?".concat(e):"")}var p=3,d=250;function h(t,e){return v.apply(this,arguments)}function v(){return v=(0,n.Z)(o().mark((function t(e,r){var i,a,u,s,h;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.getAsset,a=r.reportError,u=r.cacheBuster,s=r.i18nUrl,h=s||l(e,u),t.abrupt("return",c({task:function(){var t=(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(h));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onRetry:function(){var t=(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i((0,f.X)(h,"retrycb",String(Date.now()))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),attempts:p,delay:d}).catch((function(t){throw a({error:new Error("Failed to retrieve i18n file after ".concat(p," attempts with ").concat(d,"ms delay")),params:t.status?{message:t.statusText,status:t.status,url:h,locale:e}:{message:t.toString(),url:h,locale:e}}),t})));case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}},69055:function(t,e,r){r.d(e,{g:function(){return i}});var n=r(84993);function i(t,e){return(0,n.g)("__CUSTOM_REPLACER__",t,e)}},6441:function(t,e,r){r.d(e,{O:function(){return s}});var n=r(84615),i=r(47659),o=r(69472),a=r(93738),u=r(89355);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var s=function(t){(0,o.Z)(MissingReplacementsError,t);var e=c(MissingReplacementsError);function MissingReplacementsError(t){var r,n=t.key,o=t.translation,a=t.finalTranslation,u=t.missingReplacements;return(0,i.Z)(this,MissingReplacementsError),(r=e.call(this,"Missing Replacements: ".concat(u.join(", "),' for "').concat(o,'"'))).key=n,r.translation=o,r.finalTranslation=a,r.missingReplacements=u,r}return(0,n.Z)(MissingReplacementsError)}(r(13631).s)},84993:function(t,e,r){r.d(e,{g:function(){return i}});var n=r(6441);function i(t,e,r){var i=[],o=e.replace(/%\{([^{}]+)}/g,(function(t,e){return r&&e in r?null==r?void 0:r[e].toString():(i.push(e),t)}));if(i.length)throw new n.O({key:t,translation:e,finalTranslation:o,missingReplacements:i});return o}},86642:function(t,e,r){function n(t){return t}r.d(e,{B:function(){return n}})},80370:function(t,e,r){r.d(e,{S:function(){return o},x:function(){return a}});var n=r(98036),i=/^(https?:\/\/|mailto:|instagram:)/;function o(t){return!!i.exec(t)}function a(t,e){var r=e.internalRoutes,i=e.forceMode,a=t.split(/[?#]/g),u=(0,n.Z)(a,1)[0];return!!o(u)||(i?"external"===i:!r.some((function(t){return!!t.exec(u)})))}},68853:function(t,e,r){r.d(e,{y:function(){return o}});var n=r(77754),i=[/^change\.org$/,/\.change\.org$/,/^www\.staging-change\.org$/,/^www\.[^/]+\.changeeng\.org$/,/^changefoundation\.org$/,/\.changefoundation\.org$/].concat((0,n.Z)([]));function o(t){var e,r=new URL(t,"https://www.change.org/");return e=r.hostname,i.some((function(t){return!!t.exec(e)}))}},75139:function(t,e,r){r.d(e,{o:function(){return d}});var n=r(49458),i=r(83644),o=r(47659),a=r(84615),u=r(1558),c=r.n(u),s=r(48499);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p=function(){function t(e){var r=e.widgetId,n=e.userData,i=e.track;(0,o.Z)(this,t),this.defaultContextualAttributes={opportunityScore:"7",triggerType:"livechat"},this.widgetId=r,this.userData=n,this.track=i,this.visible=!1,this.customEvents={},this.identifyQueue=Promise.resolve()}var e;return(0,a.Z)(t,[{key:"widget",get:function(){return function(t){return t.MessageBirdChatWidget||function(){t.MessageBirdChatWidget={},t.MessageBirdChatWidget.queue=[];for(var e=["init","setConfig","toggleChat","identify","hide","on","shutdown"],r=function(){var r=e[n];t.MessageBirdChatWidget[r]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.MessageBirdChatWidget.queue.push([[r,n]])}},n=0;n<e.length;n++)r()}(),t.MessageBirdChatWidget}(window)}},{key:"trackingCallback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.track(t,l(l({channel:"chat"},this.trackingData),e))}},{key:"addCustomEvent",value:function(t,e){this.customEvents[t]||(this.customEvents[t]=[]),this.customEvents[t].push(e)}},{key:"callCustomEvent",value:function(t,e){this.customEvents[t]&&this.customEvents[t].forEach((function(t){t(e)}))}},{key:"generateUniqueID",value:function(t){var e,r,n=null===(e=this.userData)||void 0===e?void 0:e.id,i=null==t||null===(r=t.omniChatAttributes)||void 0===r?void 0:r.petitionId;if(n&&i)return"".concat(n,"_").concat(i)}},{key:"identifyUser",value:(e=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.userId&&this.userId===e){t.next=6;break}return t.next=3,this.widget.identify(e,r);case 3:this.userId=e,t.next=7;break;case 6:this.widget.setAttributes(r);case 7:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"init",value:function(){var t=this;if((0,s.K)())throw new Error("OmniChannel is not available server-side");return this.addListener("toggle",(function(e){var r=e?"omnichannel_widget_open":"omnichannel_widget_close";t.trackingCallback(r)})),this.addListener("ready",(function(){!t.visible&&t.widget&&t.widget.hide()})),this}},{key:"getWidgetElement",value:function(){var t;return null===(t=this.widget)||void 0===t?void 0:t.element}},{key:"addListener",value:function(t,e){var r=e,n=function(t){r&&r(t)};return"visible"===t?this.addCustomEvent("visible",n):this.widget.on(t,n),function(){r=void 0}}},{key:"trackEvent",value:function(t,e){this.trackingCallback(t,e)}},{key:"getScript",value:function(){return t=this.widgetId,'var MessageBirdChatWidgetSettings = {\n              initializeOnLoad: true,\n              widgetId: "'.concat(t,'"\n          };\n          /* OmniChannelWidget */\n          !function(){\n              "use strict";if(Boolean(document.getElementById("live-chat-widget-script")))console.error("MessageBirdChatWidget: Snippet loaded twice on page");else{\n                  var e,t;\n                  (function() {\n                      window.MessageBirdChatWidget || (function() {\n                          window.MessageBirdChatWidget={},window.MessageBirdChatWidget.queue=[];for(var i=["init","setConfig","toggleChat","identify","hide","on","shutdown"],n=function(){var e=i[d];window.MessageBirdChatWidget[e]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];window.MessageBirdChatWidget.queue.push([[e,i]])}},d=0;d<i.length;d++)n();\n                      })()\n                  })();\n                  var a=(null===(e=window)||void 0===e||null===(t=e.MessageBirdChatWidgetSettings)||void 0===t?void 0:t.widgetId)||"",o=function(){\n                      var e,t=document.createElement("script");\n                      t.type="text/javascript",t.src="https://livechat.messagebird.com/bootstrap.js?widgetId=".concat(a),t.async=!0,t.id="live-chat-widget-script";\n                      var i=document.getElementsByTagName("script")[0];\n                      null==i||null===(e=i.parentNode)||void 0===e||e.insertBefore(t,i);\n                  };\n                  "complete"===document.readyState?o():window.attachEvent?window.attachEvent("onload",o):window.addEventListener("load",o,!1)\n              }\n          }();\n    ');var t}},{key:"setContextualAttributes",value:function(t){var e=this,r=t.omniChatAttributes,i=t.eventTrackingProperties;this.trackingData=i;var o=l(l(l({},this.defaultContextualAttributes),this.userData),r),a=this.generateUniqueID(t);a&&this.widget.on("ready",(function(){e.identifyQueue=e.identifyQueue.then((0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.identifyUser(a,o));case 1:case"end":return t.stop()}}),t)}))))}))}},{key:"startConversation",value:function(t){var e=this;this.visible||this.toggleWidgetVisibility(!0),this.widget.on("ready",(function(){e.widget.startConversation(t)}))}},{key:"toggleWidgetVisibility",value:function(t){var e=this;this.visible=t,this.widget.on("ready",(function(){e.visible?(e.widget.show(),e.debouncedTrackingTimeout&&window.clearTimeout(e.debouncedTrackingTimeout),e.debouncedTrackingTimeout=window.setTimeout((function(){return e.trackingCallback("omnichannel_widget_visible")}),200)):e.widget.hide(),e.callCustomEvent("visible",e.visible)}))}}]),t}();function d(t){return new p(t)}},56956:function(t,e,r){r.d(e,{S:function(){return o}});var n=r(29498),i=r(96976);function o(t,e){var r=e.omniChatAttributes,o=e.eventTrackingProperties,a=(0,i.RA)().omnichannel;(0,n.useEffect)((function(){return a?(a.toggleWidgetVisibility(t),t&&a.setContextualAttributes({omniChatAttributes:r,eventTrackingProperties:o}),function(){a.toggleWidgetVisibility(!1)}):function(){}}),[a,r,t,o])}},78953:function(t,e,r){r.d(e,{DY:function(){return i},yY:function(){return u}});var n=r(58819);function i(t,e){var r=parseFloat(t.bottom)+parseFloat(t.height)+e;return{bottom:"".concat(r,"px"),right:t.right,zIndex:parseFloat(t.zIndex)}}var o=function(t,e){return"AUTHENTICATED"===t&&e},a=function(t,e){var r,i,o,a,u,c,s=t.discoverable,f=t.publishedAt;return!!s&&!!f&&(i=f,u=null!==(o=null==(r=e)?void 0:r.start_day)&&void 0!==o?o:0,c=null!==(a=null==r?void 0:r.end_day)&&void 0!==a?a:0,!(0,n.cw)(i,u-1)&&(0,n.cw)(i,c))},u=function(t){var e=t.loginState,r=t.petition,n=t.isPetitionOwner,i=void 0!==n&&n,u=t.enabledFCM,c=void 0!==u&&u,s=t.dateRangeFCM,f=void 0===s?{}:s;return!!c&&o(e,i)&&a(r,f)}},6710:function(t,e,r){r.d(e,{F:function(){return N}});var n=r(98036),i=r(49458),o=r(83644),a=r(14818),u=r(47659),c=r(84615),s=r(1558),f=r.n(s),l=r(48499),p=r(94508),d=r(14341),h=r.n(d);function v(){var t,e=(0,p.Jj)();return(t=e).optimizely=t.optimizely||[],e.optimizely}function g(t){return"\n\t\t(function (o) {\n\t\t\to.onOptimizelyLoad && o.onOptimizelyLoad(".concat(t,")\n\t\t})(window);\n\t")}function m(){var t=v();return!(!t||!t.get)&&!!t.get("state").getActivationId()}function y(t,e){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(f().mark((function t(e,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Promise.race([new Promise((function(t){!function r(){setTimeout((function(){e()?t(void 0):r()}),100)}()})),new Promise((function(t,e){setTimeout((function(){e()}),r)}))]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(f().mark((function t(e){var r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,p.Jj)(),n=v(),!m()){t.next=5;break}return delete r.optimizelyTimeout,t.abrupt("return",Promise.resolve());case 5:if(!r.optimizelyTimeout){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return t.next=9,Promise.race([new Promise((function(t){n.push({type:"addListener",filter:{type:"lifecycle",name:"activated"},handler:function(){delete r.optimizelyTimeout,t(void 0)}})})),new Promise((function(t,n){setTimeout((function(){r.optimizelyTimeout=!0,n()}),e)}))]);case 9:return t.abrupt("return",Promise.resolve());case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){if(!m())return{};var t=(0,p.Jj)().optimizely.get("state").getCampaignStates();return h()(t).reduce((function(t,e){var r,n;return e.isActive&&!e.isInCampaignHoldback&&null!==(r=e.experiment)&&void 0!==r&&r.id&&null!==(n=e.variation)&&void 0!==n&&n.id&&(t[e.experiment.id]=e.variation.id),t}),{})}var j=function(t){if(!t||!Array.isArray(t)||t.some((function(t){return!("string"==typeof t)})))throw new Error("Invalid safelist returned from FCM");return t},P="optimizely_enabled",x="optimizely_event_safelist",E="optimizely_property_safelist",S=function(t){if("boolean"!=typeof t)throw new Error;return t},D=function(t){if("boolean"==typeof t||"number"==typeof t)return t;var e=function(t){if("string"!=typeof t)throw new Error;if(/^\s*$/.exec(t))throw new Error;return t}(t);try{return JSON.parse(e)}catch(t){throw new Error('Invalid JSON value: "'.concat(e,'"'))}},Z=function(t){var e=function(e){return t(D(e))};return e.type="json",e};function C(t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(f().mark((function t(e){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getFeatureConfig,t.abrupt("return",r({optimizelyEnabled:{name:P,normalizer:S,defaultValue:!1},eventSafelist:{name:x,normalizer:Z(j),defaultValue:[]},propertySafelist:{name:E,normalizer:Z(j),defaultValue:[]}}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=["amount"];function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var I=function(){function t(e){var r=e.getFeatureConfig,n=e.projectId;(0,u.Z)(this,t),this.initDone=!1,this.state="unknown",this.trackListenerCount=0,this.projectId=n,this.fcmOptions={getFeatureConfig:r}}var e,r,s;return(0,c.Z)(t,[{key:"setState",value:function(t){this.state=t}},{key:"setTrack",value:function(t){return this.track=t,this}},{key:"getScript",value:function(t){return{init:"\n\t\t(function (o) {\n\t\t\to.optimizely = o.optimizely || []\n\t\t})(window);\n\t",tracking:(r=t,"\n\t\t(function (o) {\n\t\t\to.optimizely.push({ type: 'optOut',\tisOptOut: ".concat(!r," })\n\t\t})(window);\n\t")),scriptUrl:(e=this.projectId,"https://cdn.optimizely.com/js/".concat(e,".js")),onOptimizelyLoad:g(t)};var e,r}},{key:"preload",value:function(){return this.getConfig(),this}},{key:"optimizely",get:function(){return v()}},{key:"pushEvent",value:function(t){this.optimizely.push(t)}},{key:"trackEvent",value:function(t,e){var r=e.amount,n=(0,a.Z)(e,A);this.pushEvent({type:"event",eventName:t,tags:R(R({},r&&{revenue:100*r}),n)})}},{key:"filterEventData",value:function(t,e,r){var n=r.eventSafelist,i=r.propertySafelist;return n.includes(t)?{eventName:t,data:i.reduce((function(t,r){return R(R({},t),{},(0,o.Z)({},r,e[r]))}),{})}:null}},{key:"getEventTrackingData",value:(s=(0,i.Z)(f().mark((function t(){var e=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y((function(){return"unknown"!==e.state}),3e3);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",{optimizely_state:"unknown"});case 8:if("enabled"===this.state){t.next=10;break}return t.abrupt("return",{optimizely_state:this.state});case 10:return t.prev=10,t.next=13,w(3e3);case 13:return t.abrupt("return",{optimizely_state:"enabled",optimizely_variations:k()});case 16:return t.prev=16,t.t1=t.catch(10),t.abrupt("return",{optimizely_state:"timeout"});case 19:case"end":return t.stop()}}),t,this,[[0,5],[10,16]])}))),function(){return s.apply(this,arguments)})},{key:"trackExperiment",value:function(t,e){var r;null===(r=this.track)||void 0===r||r.call(this,"optimizely_treated",{optimizely_experiment:"".concat(t),optimizely_variant:"".concat(e)})}},{key:"initTreatmentTracking",value:function(){var t=this,e=k();Object.entries(e).forEach((function(e){var r=(0,n.Z)(e,2),i=r[0],o=r[1];t.trackExperiment(i,o)}));var r,i=this.trackListenerCount+1;this.trackListenerCount=i,r=function(e){i===t.trackListenerCount&&t.trackExperiment(e.experimentId,e.variationId)},v().push({type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:function(t){var e=t.data.decision;(function(t){return!t.isCampaignHoldback&&!!t.variationId})(e)&&r(e)}})}},{key:"init",value:function(){var t=this;if((0,l.K)())throw new Error("Optimizely is not available server-side");return this.initDone||(this.initDone=!0,this.initTreatmentTracking(),(0,p.Jj)().onOptimizelyLoad=function(e){t.setState(e?"enabled":"opted-out"),t.initTreatmentTracking()}),this}},{key:"checkAvailable",value:function(){if((0,l.K)())throw new Error("Optimizely is not available server-side");if(!this.initDone)throw new Error("Optimizely has not been properly initialized");return!0}},{key:"getConfig",value:(r=(0,i.Z)(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.configPromise){t.next=2;break}return t.abrupt("return",this.configPromise);case 2:return this.configPromise=C(this.fcmOptions),t.abrupt("return",this.configPromise);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"onEventsTrack",value:(e=(0,i.Z)(f().mark((function t(e,r){var n,i,o,a,u=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkAvailable(),this.init(),t.next=4,this.getConfig();case 4:if(n=t.sent,i=n.optimizelyEnabled,o=n.eventSafelist,a=n.propertySafelist,i){t.next=10;break}return t.abrupt("return");case 10:e.forEach((function(t){var e=u.filterEventData(t.name,R(R({},r),t.data),{eventSafelist:o,propertySafelist:a});e&&u.trackEvent(e.eventName,e.data)}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),t}();function N(t){return new I(t)}},8144:function(t,e,r){r.d(e,{E:function(){return i}});var n=r(94508);function i(){var t,e,r,i,o,a,u,c=(0,n.o4)();return!!c&&!!(null!==(t=c.matchMedia)&&void 0!==t&&null!==(e=t.call(c,"(display-mode: standalone)"))&&void 0!==e&&e.matches||null!==(r=c.matchMedia)&&void 0!==r&&null!==(i=r.call(c,"(display-mode: fullscreen)"))&&void 0!==i&&i.matches||null!==(o=c.matchMedia)&&void 0!==o&&null!==(a=o.call(c,"(display-mode: minimal-ui)"))&&void 0!==a&&a.matches||null!==(u=c.navigator)&&void 0!==u&&u.standalone)}},27377:function(t,e,r){r.d(e,{aM:function(){return d},pT:function(){return v},td:function(){return h}});var n=r(83644),i=r(49458),o=r(98036),a=r(1558),u=r.n(a),c=r(29498),s=r(79649),f=r.n(s);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.errorHandler,a=r.loadingBetweenQueries,s=(0,c.useState)({status:"loading"}),f=(0,o.Z)(s,2),l=f[0],d=f[1];(0,c.useEffect)((function(){var e=!1;return a&&d({status:"loading"}),(0,i.Z)(u().mark((function r(){var i,o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t();case 3:i=r.sent,!e&&d(p({status:"loaded"},i)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),o=n?n(r.t0):{},!e&&d(p({status:"error"},o));case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))(),function(){e=!0}}),e);var h=(0,c.useMemo)((function(){return{status:"loading"}}),[]);return(0,c.useMemo)((function(){return"loading"===l.status?h:l}),[h,l])}function h(t,e,r){var n=r.errorHandler,a=r.prefetchedState,s=r.id,l=r.loadingBetweenQueries,d=(0,c.useState)(a&&a.__prefetchId===s?a:{status:"loading"}),h=(0,o.Z)(d,2),v=h[0],g=h[1];(0,c.useEffect)((function(){if("loading"===v.status||v.__prefetchId!==s){var e=!1;return l&&g({status:"loading"}),(0,i.Z)(u().mark((function r(){var i,o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t();case 3:i=r.sent,!e&&g(p({status:"loaded"},i)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),o=n?n(r.t0):{},!e&&g(p({status:"error"},o));case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))(),function(){e=!0}}}),e);var m=(0,c.useMemo)((function(){return{status:"loading"}}),[]);return(0,c.useMemo)((function(){return"loading"===v.status?m:f()("__prefetchId",v)}),[m,v])}function v(t,e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(u().mark((function t(e,r){var n,i,o,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.errorHandler,i=r.id,t.prev=1,t.next=4,e();case 4:return o=t.sent,t.abrupt("return",p({status:"loaded",__prefetchId:i},o));case 8:return t.prev=8,t.t0=t.catch(1),a=n?n(t.t0):{},t.abrupt("return",p({status:"error",__prefetchId:i},a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}},54875:function(t,e,r){r.d(e,{k:function(){return u}});var n=r(14818),i=r(57916),o=r(29498),a=["children"];function u(t,e){var r=e.name,u=e.processProviderProps,c=(0,o.createContext)(t),s=function(t){var e=t.children,r=(0,n.Z)(t,a),s=(0,o.useMemo)((function(){return u?u(r):r.value}),Object.values(r));return(0,i.jsx)(c.Provider,{value:s,children:e})};s.displayName="".concat(r,"Provider");return{Context:c,Provider:s,useContext:function(){return(0,o.useContext)(c)}}}},20364:function(t,e,r){r.d(e,{g:function(){return i}});var n=r(54875);function i(t,e){var r=(0,n.k)(t,e),i=r.Context,o=r.Provider,a=r.useContext;return{Context:i,Provider:o,useContext:function(){var t=a();if(null==t)throw new Error("".concat(e.name," was not set"));return t}}}},22137:function(t,e,r){r.d(e,{l:function(){return c}});var n=r(98036),i=r(14818),o=r(57916),a=r(29498),u=["children"];function c(t){var e=t.name,r=t.mutations,c=t.initialState,s=(0,a.createContext)(void 0),f=function(t){var e=t.children,f=(0,i.Z)(t,u),l=(0,a.useState)("function"==typeof c?c(f):c),p=(0,n.Z)(l,2),d=p[0],h=p[1],v=(0,a.useMemo)((function(){return Object.entries(r).reduce((function(t,e){var r=(0,n.Z)(e,2),i=r[0],o=r[1];return t[i]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return h((function(t){return o.apply(void 0,[t].concat(e))}))},t}),{})}),[h]);return(0,o.jsx)(s.Provider,{value:[d,v],children:e})};f.displayName="".concat(e,"Provider");return{StateContext:s,StateProvider:f,useStateContext:function(){var t=(0,a.useContext)(s);if(null==t)throw new Error("".concat(e," was not set"));return t}}}},57592:function(t,e,r){r.d(e,{G:function(){return n}});var n=r(29498).forwardRef},20858:function(t,e,r){r.d(e,{X:function(){return u}});var n=r(83644),i=r(57916),o=r(29498);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){var e=(0,o.memo)(t);return function(t){return(0,i.jsx)(e,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))}}},67581:function(t,e,r){r.d(e,{m:function(){return o}});var n=r(98036),i=r(29498);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,i.useState)(new Date),r=(0,n.Z)(e,2),o=r[0],a=r[1];return(0,i.useEffect)((function(){if(!(t<=0)){var e=window.setInterval((function(){try{a(new Date)}catch(t){}}),t);return function(){window.clearInterval(e)}}}),[t]),o}},93660:function(t,e,r){r.d(e,{L:function(){return f}});var n=r(98036),i=r(57916),o=r(29498),a=r(43029),u=r(63750),c=r(96976);function s(t){var e=t.allowed,r=t.locationMatch,n=t.pathname;return!!e&&(!r||r.some((function(t){return t.exec(n)})))}function f(t){var e=t.allowed,r=t.locationMatch,f=(0,u.TH)().pathname,l=(0,o.useState)(s({allowed:e,locationMatch:r,pathname:f})),p=(0,n.Z)(l,2),d=p[0],h=p[1],v=(0,c.RA)().hotjar;if((0,o.useEffect)((function(){h((function(t){return t||s({allowed:e,locationMatch:r,pathname:f})}))}),[h,e,r,f]),!d)return null;var g=v.getScript();return(0,i.jsx)(a.ql,{children:(0,i.jsx)("script",{children:g})})}},64743:function(t,e,r){r.d(e,{o:function(){return f}});var n=r(14818),i=r(25935),o=r(41777),a=r.n(o),u=r(2614),c=["replace","transformers"];function s(t,e,r){try{return a().sanitize(t,function(t){var e={};return t.allowedTags&&(e.ADD_TAGS=t.allowedTags),t.allowedAttrs&&(e.ADD_ATTR=t.allowedAttrs),t.forbiddenTags&&(e.FORBID_TAGS=t.forbiddenTags),t.forbiddenAttrs&&(e.FORBID_ATTR=t.forbiddenAttrs),t.restrictedTags&&(e.ALLOWED_TAGS=t.restrictedTags),t.restrictedAttrs&&(e.ALLOWED_ATTR=t.restrictedAttrs),e}(e))}catch(n){if(r>0)return s(t,e,r-1);throw n}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.replace,o=e.transformers,f=void 0===o?[]:o,l=(0,n.Z)(e,c);if(!a().isSupported)return(0,u.j)(t);try{var p=s(t,l,2),d=f.reduce((function(t,e){return e.transformHtml(t)}),p),h={replace:r&&function(t){return(e=t).name&&e.attribs?r(t,{domToReact:function(t){return(0,i.du)(t,h)}}):void 0;var e}};return(0,i.ZP)(d,h)}catch(e){return(0,u.j)(t)}}},28286:function(t,e,r){r.d(e,{L:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.value,r=t.currency,o=t.options,a=(0,i.Q)().localizeCurrency;return(0,n.jsx)(n.Fragment,{children:a(e,r,o)})}},32187:function(t,e,r){r.d(e,{B:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.date,r=t.type,o=t.format,a=(0,i.Q)().localizeDate;return(0,n.jsx)(n.Fragment,{children:a(e,r,o)})}},80921:function(t,e,r){r.d(e,{R:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.value,r=t.options,o=(0,i.Q)().localizeNumber;return(0,n.jsx)(n.Fragment,{children:o(e,r)})}},68533:function(t,e,r){r.d(e,{a:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.from,r=t.to,o=t.options,a=(0,i.Q)().localizeRelativeTime;return(0,n.jsx)(n.Fragment,{children:a(e,r,o)})}},5307:function(t,e,r){r.d(e,{v:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.value,r=t.replacements,o=(0,i.Q)().translate;return(0,n.jsx)(n.Fragment,{children:o(e,r)})}},79757:function(t,e,r){r.d(e,{B:function(){return u}});var n=r(14818),i=r(57916),o=r(59246),a=["value","replacements"];function u(t){var e=t.value,r=t.replacements,u=(0,n.Z)(t,a),c=(0,o.Q)().translateHtml;return(0,i.jsx)(i.Fragment,{children:c(e,r,u)})}},76302:function(t,e,r){r.d(e,{y:function(){return o}});var n=r(57916),i=r(59246);function o(t){var e=t.value,r=t.count,o=t.replacements,a=(0,i.Q)().translatePlural;return(0,n.jsx)(n.Fragment,{children:a(e,r,o)})}},17270:function(t,e,r){r.d(e,{w:function(){return u}});var n=r(14818),i=r(57916),o=r(59246),a=["value","count","replacements"];function u(t){var e=t.value,r=t.count,u=t.replacements,c=(0,n.Z)(t,a),s=(0,o.Q)().translatePluralHtml;return(0,i.jsx)(i.Fragment,{children:s(e,r,u,c)})}},21940:function(t,e,r){r.d(e,{OO:function(){return m},q6:function(){return y},Cq:function(){return b}});var n=r(20364),i=r(83644),o=r(98036),a=r(64743);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t){var e=Object.entries(t||{}).map((function(t,e){var r=(0,o.Z)(t,2);return{name:r[0],value:r[1],tagName:"i18n-elt-".concat(e)}}));return{actualReplacements:e.reduce((function(t,e){var r,n=e.tagName,o=e.name,a=e.value;return c(c({},t),{},(0,i.Z)({},o,"string"!=typeof(r=a)&&"number"!=typeof r?"<".concat(n,"></").concat(n,">"):a))}),{}),tagReplacements:e.reduce((function(t,e){var r=e.tagName,n=e.value;return c(c({},t),{},(0,i.Z)({},r,n))}),{}),tagList:e.map((function(t){return t.tagName}))}}function f(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.replace,o=n.allowLinkTargetAttr;return(0,a.o)(t,{replace:function(t,e){return t.name in r?r[t.name]:i&&i(t,e)},allowedTags:e,allowedAttrs:o?["target"]:[]})}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e){return e.reduce((function(e,r){return p(p({},e),{},(0,i.Z)({},r,t[r].bind(t)))}),{})}var h=["translationExists","translate","translatePlural","getCountries","getCountry","localizeDate","localizeRelativeTime","localizeNumber","getDecimalSeparator","localizeCurrency","getCurrencySymbol","getCurrencySymbolPosition","isZeroDecimalCurrency","amountToBaseUnits","amountFromBaseUnits"];function v(t){var e=d(t,h);return p(p({},e),{},{translateHtml:function(t,r,n){return function(t,e,r,n){var i=s(r),o=i.actualReplacements,a=i.tagReplacements,u=i.tagList;return f(t(e,o),u,a,n)}(e.translate,t,r,n)},translatePluralHtml:function(t,r,n,i){return function(t,e,r,n,i){var o=s(n),a=o.actualReplacements,u=o.tagReplacements,c=o.tagList;return f(t(e,r,a),c,u,i)}(e.translatePlural,t,r,n,i)}})}var g=(0,n.g)(void 0,{name:"I18nContext",processProviderProps:function(t){var e=t.i18n;return{i18nContext:v(e),i18n:e}}}),m=g.Context,y=g.Provider,b=g.useContext},59246:function(t,e,r){r.d(e,{Q:function(){return i}});var n=r(21940);function i(){return(0,n.Cq)().i18nContext}},75252:function(t,e,r){r.d(e,{L:function(){return w}});var n=r(83644),i=r(77754),o=r(57916),a=r(29498),u=r(41802),c=r.n(u),s=r(21940),f=r(81177),l=r(98036),p=r(14190),d=r.n(p),h="other",v=["zero","two","few","many"];function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Object.entries(t).reduce((function(t,e){var n=(0,l.Z)(e,2),i=n[0],o=n[1];return r&&"string"==typeof o&&i===h?(v.forEach((function(e){t["".concat(r,".").concat(e)]=o})),t):"object"===(0,f.Z)(o)?g(o,t,r?"".concat(r,".").concat(i):i):t}),e)}function m(t){return(Array.isArray(t)?t:[t]).map((function(t){return g(t)})).reduce((function(t,e){return Object.entries(e).reduce((function(t,e){var r=(0,l.Z)(e,2),n=r[0],i=r[1];return d()(n,i,t)}),t)}),{})}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e){var r="withI18nPlaceholders(".concat(e.displayName||e.name,")"),n=[].concat((0,i.Z)(Array.isArray(t)?t:[t]),[m(t)]);function u(t){var r=e,i=(0,a.useContext)(s.OO),u=(0,a.useMemo)((function(){return null==i?void 0:i.i18n.extends({additionalTranslations:n})}),[i]);return u?(0,o.jsx)(s.q6,{i18n:u,children:(0,o.jsx)(r,b({},t))}):(0,o.jsx)(r,b({},t))}return u.displayName=r,u.WrappedComponent=e,c()(u,e)}},94784:function(t,e,r){r.d(e,{n:function(){return c}});var n=r(83644),i=r(44870),o=r(79649),a=r.n(o);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t,e){var r=(0,i.ZP)(t,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ssr:!0,resolveComponent:function(t){return t[e.exportName]}},a()("exportName",e)));return r.exportName=e.exportName,r}},72713:function(t,e,r){r.d(e,{S:function(){return f}});var n=r(83644),i=r(47659),o=r(84615),a=r(80370);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s=function(){function t(e){var r=e.internalRoutes;(0,i.Z)(this,t),this.internalRoutes=r}return(0,o.Z)(t,[{key:"getExternalUrl",value:function(t,e){return function(t,e){return(0,a.x)(t,e)?t:void 0}(t,c(c({},e),{},{internalRoutes:this.internalRoutes}))}}]),t}();function f(t){return new s(t)}},26303:function(t,e,r){r.d(e,{D:function(){return s}});var n=r(98036),i=r(57916),o=r(29498),a=r(43029),u=r(63750),c=r(96976);function s(t){var e=t.sampling,r=t.locationMatch,s=t.allowed,f=(0,u.TH)().pathname,l=(0,o.useState)(Math.random()<e),p=(0,n.Z)(l,1)[0],d=(0,o.useState)(!1),h=(0,n.Z)(d,2),v=h[0],g=h[1],m=(0,c.RA)().omnichannel;(0,o.useEffect)((function(){var t=function(t){var e=t.sampled,r=t.pathname,n=t.locationMatch;return!(!t.allowed||!e)&&(void 0===n||!!Array.isArray(n)&&n.some((function(t){return t.exec(r)})))}({sampled:p,pathname:f,locationMatch:r,allowed:s});g((function(e){return e||t}))}),[g,p,f,r,s]),(0,o.useEffect)((function(){m.init()}),[m]);var y=(0,o.useMemo)((function(){return m?m.getScript():""}),[m]);return v?(0,i.jsx)(a.ql,{children:(0,i.jsx)("script",{children:y})}):null}},96134:function(t,e,r){r.d(e,{fX:function(){return c}});var n=r(98036),i=r(29498),o=r(96976);var a="omnichannel_widget_overlay_open",u="omnichannel_widget_overlay_cancel";function c(t){var e=t.allowed,r=t.children,c=(0,i.useState)(!1),s=(0,n.Z)(c,2),f=s[0],l=s[1],p=function(){var t=(0,o.RA)().omnichannel,e=(0,i.useState)(!1),r=(0,n.Z)(e,2),a=r[0],u=r[1];return(0,i.useEffect)((function(){return t.toggleWidgetVisibility(a),function(){t.toggleWidgetVisibility(!1)}}),[a,t]),(0,i.useEffect)((function(){var e=t.addListener("visible",(function(t){u(t)}));return function(){e()}}),[t]),[a,u]}(),d=(0,n.Z)(p,1)[0],h=(0,i.useState)(!1),v=(0,n.Z)(h,2),g=v[0],m=v[1],y=function(){var t=(0,o.RA)().omnichannel,e=(0,i.useState)(!1),r=(0,n.Z)(e,2),a=r[0],u=r[1];return(0,i.useEffect)((function(){t.addListener("ready",(function(){u(!0)}))}),[t]),(0,i.useMemo)((function(){if(a){var e=t.getWidgetElement();if(e)return getComputedStyle(e)}}),[t,a])}(),b=(0,o.RA)().omnichannel;(0,i.useEffect)((function(){b&&b.addListener("toggle",(function(t){m(t)}))}),[b]);var w=(0,i.useCallback)((function(){l(!0),b.trackEvent(u,{context:"close"})}),[l,b]),O=(0,i.useCallback)((function(t){l(!0),b.startConversation(null!=t?t:""),b.trackEvent(a)}),[l,b]),k=(0,i.useCallback)((function(){b.trackEvent(u,{context:"cancel"}),l(!0)}),[b,l]);return(0,i.useEffect)((function(){g&&l(!0)}),[g,l]),e&&d&&!f&&!!r&&y?r({widgetStyles:y,onHide:w,onOpenChat:O,onCancelChat:k}):null}},67182:function(t,e,r){r.d(e,{B:function(){return f}});var n=r(98036),i=r(57916),o=r(29498),a=r(43029),u=r(63750),c=r(96976);function s(t){var e=t.allowed,r=t.locationMatch,n=t.pathname;return!!e&&(!r||r.some((function(t){return t.exec(n)})))}function f(t){var e=t.allowed,r=t.trackingAllowed,f=t.locationMatch,l=(0,u.TH)().pathname,p=(0,o.useState)(s({allowed:e,locationMatch:f,pathname:l})),d=(0,n.Z)(p,2),h=d[0],v=d[1],g=(0,c.RA)().optimizely;if((0,o.useEffect)((function(){v((function(t){return t||s({allowed:e,locationMatch:f,pathname:l})}))}),[v,e,f,l]),(0,o.useEffect)((function(){h?g.setState(r?"enabled":"opted-out"):g.setState("disabled")}),[g,h,r]),!h)return null;var m=g.getScript(!!r),y=m.init,b=m.tracking,w=m.scriptUrl,O=m.onOptimizelyLoad;return(0,i.jsxs)(a.ql,{children:[(0,i.jsx)("script",{children:y}),(0,i.jsx)("script",{children:b}),(0,i.jsx)("script",{src:w,"data-opt-in":!!r}),(0,i.jsx)("script",{children:O})]})}},77815:function(t,e,r){r.d(e,{h:function(){return f}});var n=r(57916),i=r(29498),o=r(10009),a=r.n(o);var u=r(14818),c=["id"];var s=r(99699);function f(t){var e=t.session,r=t.locale,o=t.countryCode,f=(0,i.useMemo)((function(){return e&&function(t){if(t){var e=t.user,r=t.loginState,n=t.uuid,i=t.experiments,o=i&&i.reduce((function(t,e){var r=e.id,n=(0,u.Z)(e,c);return t[r]=n,t}),{});return{user:e?{id:e.id,displayName:e.displayName,photo:e.photo}:void 0,loginState:r,uuid:n,activity:(null==e?void 0:e.activityRaw)||void 0,experiments:o}}}(e)}),[e]),l=(0,i.useMemo)((function(){return function(t){var e=t.session;return{locale:t.locale,countryCode:t.countryCode,utmParams:e&&a()((function(t){return t.replace(/_(.)/g,(function(t,e){return e.toUpperCase()}))}),e.trackingData)||{}}}({session:e,locale:r,countryCode:o})}),[e,r,o]);return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(s.p,{name:"viewer",value:f,persistent:!0}),(0,n.jsx)(s.p,{name:"appState",value:l,persistent:!0})]})}},99699:function(t,e,r){r.d(e,{p:function(){return o}});var n=r(29498),i=r(63747);function o(t){return function(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).persistent,o=(0,i.a2)();o.setValue(t,e),(0,n.useEffect)((function(){if(!r)return o.setValue(t,e)}),[o,t,e,r])}(t.name,t.value,{persistent:t.persistent}),null}},63747:function(t,e,r){r.d(e,{MK:function(){return i},a2:function(){return o}});var n=(0,r(20364).g)(void 0,{name:"PageStateContext"}),i=(n.Context,n.Provider),o=n.useContext},96049:function(t,e,r){r.d(e,{x:function(){return g},e:function(){return v}});var n=r(57916),i=r(29498),o=r(94508),a="changeTargetingData",u=r(83644),c=r(47659),s=r(84615);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,u.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p=function(){function t(e){var r=e.set,n=e.get;(0,c.Z)(this,t),this.set=r,this.get=n}return(0,s.Z)(t,[{key:"setValue",value:function(t,e){var r=this;return this.set(l(l({},this.get()),{},(0,u.Z)({},t,e))),function(){var e=l({},r.get());delete e[t],r.set(e)}}}]),t}();function d(t){return new p(t)}var h=r(63747);function v(t){var e=t.children,r=(0,i.useMemo)((function(){return t=(0,o.Jj)(),d({set:function(e){t[a]=e},get:function(){return t[a]||{}}});var t}),[]);return(0,n.jsx)(h.MK,{value:r,children:e})}function g(t){var e=t.context,r=t.children,o=(0,i.useMemo)((function(){return function(t){var e=t.context;return d({set:function(t){e.state=t},get:function(){return e.state}})}({context:e})}),[e]);return(0,n.jsx)(h.MK,{value:o,children:r})}},48102:function(t,e,r){r.d(e,{f:function(){return S}});var n=r(84615),i=r(47659),o=r(83644),a=r(21544),u=r(31842),c=function(t,e){return!!e&&e.test(t)};function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=r(9702),h=r(10814),v=r(21166),g=r(73823),m=function(t){var e=t.html;return t.transformers.reduce((function(t,e){var r=(0,g.wL)(t);return(0,d.td)(e.tagName,r).forEach((function(t){var r=e.transformTagFn(t);(0,v.replaceElement)(t,r)})),(0,h.Z)(r)}),e)},y=function(t,e){var r=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).assetBasePath;if(!t)throw new Error("Asset base path required");return{transformer:{tagName:"change-media",transformTagFn:function(e){if(!function(t){var e;return"img"===(null===(e=t.attributes.find((function(t){return"data-type"===t.name})))||void 0===e?void 0:e.value)}(e))return e;var r=f({},e.attributes.reduce((function(e,r){var n=u.j2.find((function(t){return"data-".concat(t)===r.name}));return n&&c(r.value,u.KX[n])?f(f({},e),{},(0,o.Z)({},n,"src"===n?"".concat(t).concat(r.value):r.value)):e}),{}));return new a.W_("img",r,e.children)}}}}({assetBasePath:e.assetBasePath}),n=r.transformer;return m({html:t,transformers:[n,{transformer:{tagName:"change-media",transformTagFn:function(t){if(!function(t){var e;return"youtube"===(null===(e=t.attributes.find((function(t){return"data-type"===t.name})))||void 0===e?void 0:e.value)}(t))return t;var e=p({},t.attributes.reduce((function(t,e){var r=u.j2.find((function(t){return"data-".concat(t)===e.name}));return r&&c(e.value,u.KX[r])?p(p({},t),{},(0,o.Z)({},r,"src"===r?"".concat(u.BO,"/").concat(e.value,"?").concat(u.QG):e.value)):t}),{}));return new a.W_("iframe",e,t.children)}}}.transformer]})},b=(0,n.Z)((function t(e){var r=this,n=e.assetBasePath;(0,i.Z)(this,t),this.transformHtml=function(t){return y(t,{assetBasePath:r.assetBasePath})},this.transformedTags=["change-media"],this.transformedAttrs=["data-alt","data-height","data-src","data-type","data-width","target"],this.assetBasePath=n}));function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).assetBasePath;if(!t)throw new Error("Asset base path required");var e={"data-type":"img"};return{transformer:{tagName:"img",transformTagFn:function(r){if(!function(e){var r=e.attributes.find((function(t){return"src"===t.name}));try{var n;return new URL(null!==(n=null==r?void 0:r.value)&&void 0!==n?n:"").href.startsWith(t)}catch(t){return!1}}(r))return r;var n=O(O({},e),r.attributes.reduce((function(t,e){var r=u.j2.find((function(t){return t===e.name})),n="src"===e.name?function(t){try{return new URL(t).pathname}catch(t){return""}}(e.value):e.value;return r&&c(n,u.KX[e.name])?O(O({},t),{},(0,o.Z)({},"data-".concat(e.name),n)):t}),{}));return new a.W_("change-media",n,r.children)}}}};function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){(0,o.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var x=function(){var t={"data-type":"youtube"};return{transformer:{tagName:"iframe",transformTagFn:function(e){var r=function(t){if("iframe"===t.name){var e,r=(null==t||null===(e=t.attribs)||void 0===e?void 0:e.src)||"";if(r){var n=null!=r&&r.startsWith("//")?"https:".concat(r):r;return new a.W_("iframe",P(P({},t.attribs),{},{src:n}),t.children)}}return t}(e);if(!function(t){var e=t.attributes.find((function(t){return"src"===t.name}));try{var r;return!!new URL(null!==(r=null==e?void 0:e.value)&&void 0!==r?r:"").href.match(u.Hf)}catch(t){return!1}}(r))return r;var n=P(P({},t),r.attributes.reduce((function(t,e){var r,n,i=u.j2.find((function(t){return t===e.name})),a="src"===e.name?null!==(r=null===(n=e.value.match(u.Hf))||void 0===n?void 0:n[1])&&void 0!==r?r:"":e.value;return i&&c(a,u.KX[e.name])?P(P({},t),{},(0,o.Z)({},"data-".concat(e.name),a)):t}),{}));return new a.W_("change-media",n,r.children)}}}},E=(0,n.Z)((function t(e){var r=this,n=e.assetBasePath;(0,i.Z)(this,t),this.transformHtml=function(t){return function(t,e){var r=e.assetBasePath,n=k({assetBasePath:r}).transformer,i=x().transformer;return m({html:t,transformers:[n,i]})}(t,{assetBasePath:r.assetBasePath})},this.assetBasePath=n}));function S(t){var e=t.assetBasePath;return{decodeRichMediaTransformer:new b({assetBasePath:e}),encodeRichMediaTransformer:new E({assetBasePath:e})}}},36112:function(t,e,r){r.d(e,{r:function(){return x}});var n=r(83644),i=r(14818),o=r(57916),a=r(29498),u=r(79649),c=r.n(u),s=r(63750),f=r(35130),l=r(80370),p=r(96976),d=r(87119);var h=r(68853);function v(t){var e=t.to,r=t.rel;return r||("string"!=typeof e||(0,h.y)(e)?void 0:"nofollow noopener noreferrer")}var g=["externalUrl","onClick"],m=["replace","state","children"],y=["forceMode"],b=["children"],w=["children"];function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j=c()(["theme","location","match","replace","state","href","children","to"]),P=(0,a.forwardRef)((function(t,e){var r=t.externalUrl,n=t.onClick,u=(0,i.Z)(t,g),c=u.replace,s=u.state,f=u.children,l=(0,i.Z)(u,m),p=(0,d.X)(),h=(0,a.useCallback)((function(t){null==n||n(t),r&&function(t){return!(t.defaultPrevented||0!==t.button||t.currentTarget.target&&"_self"!==t.currentTarget.target||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(t)&&(t.preventDefault(),p(r,{replace:!!c,state:s}))}),[n,p,r,c,s]);return(0,o.jsx)("a",k(k({href:r,onClick:h,ref:e},j(l)),{},{children:f}))})),x=(0,a.forwardRef)((function(t,e){var r=t.forceMode,n=(0,i.Z)(t,y),a=n.to,u=(0,s.oQ)(a),c=(0,p.RA)(),d=c.errorReporter,h=c.navigation,g="string"==typeof a&&(0,l.S)(a)?a:u;try{var m=h.getExternalUrl(g,{forceMode:r}),O=n.children,j=(0,i.Z)(n,b);return m?(0,o.jsx)(P,k(k({externalUrl:m,rel:v(n),ref:e},j),{},{children:O})):(0,o.jsx)(f.rU,k(k({rel:v(n),ref:e},j),{},{children:O}))}catch(t){var x=n.children,E=(0,i.Z)(n,w);return d.report({error:t,params:{target:a,component:"Link"}}),(0,o.jsx)(P,k(k({rel:v(n),ref:e},E),{},{children:x}))}}))},79622:function(t,e,r){r.d(e,{l:function(){return k}});var n=r(83644),i=r(14818),o=r(57916),a=r(29498),u=r(63750),c=r(80370),s=r(96976),f=r(87119),l=r(81307);var p=r(98061);var d=r(94337),h=["reason","permanent","forceMode"],v=["to"];function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){var e=t.externalUrl,r=t.replace,n=t.state,i=(0,f.X)();return(0,a.useEffect)((function(){i(e,{replace:!!r,state:n})}),[]),null}function b(t){var e,r=t.reason,n=t.permanent,f=t.forceMode,g=(0,i.Z)(t,h),b=g.to,w=(0,i.Z)(g,v),O=(0,u.oQ)(b),k=(0,s.RA)(),j=k.errorReporter,P=k.navigation,x="string"==typeof b&&(0,c.S)(b)?b:O,E=(0,d.n)();if(!(null===(e=(0,a.useContext)(l.G))||void 0===e||!e.disabledRenderedNavigation))return null;try{var S=function(t,e){return e?(0,p.X)(t,"redirect_reason",e):t}(x,r);if(E&&(E.redirectLocation=S,E.permanent=!!n,!E.allowRedirect))return null;if(null==E||!E.forceInternalRouting){var D=P.getExternalUrl(S,{forceMode:f});if(D)return(0,o.jsx)(y,m({externalUrl:D},g))}return(0,o.jsx)(u.Fg,m({to:S},w))}catch(t){return j.report({error:t,params:{target:b,component:"Navigate"}}),null}}var w=["push"];function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){var e=t.push,r=(0,i.Z)(t,w);return(0,o.jsx)(b,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({replace:!e},r))}},23407:function(t,e,r){r.d(e,{l:function(){return i}});var n=r(34114);function i(t){var e,r=(0,n.lX)(t),i=[];return{get action(){return r.action},get location(){return r.location},createHref:r.createHref.bind(r),createURL:r.createURL.bind(r),encodeLocation:r.encodeLocation.bind(r),push:r.push.bind(r),replace:r.replace.bind(r),go:r.go.bind(r),listen:function(t){return i.includes(t)||(e||(e=r.listen((function(t){[].concat(i).forEach((function(e){return e(t)}))}))),i.push(t)),function(){i.includes(t)&&(i.splice(i.indexOf(t),1),!i.length&&e&&(e(),e=void 0))}}}}},58730:function(t,e,r){r.d(e,{s:function(){return h}});var n=r(14818),i=r(29498),o=r(34114),a=r(63750),u=r(80370),c=r(96976),s=r(94337),f=r(87119),l=["forceMode"],p=function(t){return"string"==typeof t?t:(0,o.Ep)(t)},d=/^https?:\/\//;function h(){var t=(0,i.useContext)(a.Us).navigator,e=(0,a.s0)(),r=(0,c.RA)().navigation,o=(0,s.n)(),h=!(null==o||!o.forceInternalRouting),v=(0,f.X)();return(0,i.useCallback)((function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.forceMode,c=(0,n.Z)(o,l);!function(t){var e=p(t);if(e.startsWith("./")||e.startsWith("../"))throw new Error("Relative programmatic navigation not yet supported");if(!e.startsWith("/")&&!d.exec(e))throw new Error("Relative programmatic navigation not yet supported")}(i);var s=r.getExternalUrl(p(i),{forceMode:a});!s||h?"string"==typeof i&&(0,u.S)(i)?c.replace?t.replace(i,c.state,c):t.push(i,c.state,c):e(i,c):v(s,c)}),[e,v,r,t,h])}},46028:function(t,e,r){r.d(e,{q:function(){return n}});var n=r(63750).UO},87119:function(t,e,r){r.d(e,{X:function(){return a}});var n=r(29498),i=r(96976),o=r(94508);function a(){var t=(0,i.RA)().errorReporter;return(0,n.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.replace;r.state&&t.report({error:"State is ignored when navigating to an external url",params:{target:e}}),function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).replace?(0,o.k$)().replace(t):(0,o.k$)().assign(t)}(e,{replace:n})}),[t])}},81307:function(t,e,r){r.d(e,{G:function(){return n}});var n=(0,r(29498).createContext)(void 0)},26914:function(t,e,r){r.d(e,{_:function(){return o}});var n=r(57916),i=r(81307);function o(t){var e=t.disabledRenderedNavigation,r=t.children;return(0,n.jsx)(i.G.Provider,{value:{disabledRenderedNavigation:e},children:r})}},94337:function(t,e,r){r.d(e,{n:function(){return o}});var n=r(29498),i=(0,n.createContext)(void 0);function o(){return(0,n.useContext)(i)}},76866:function(t,e,r){r.d(e,{n:function(){return f}});var n=r(83644),i=r(98036),o=r(29498),a=r(11223),u=r.n(a);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t){var e=t.cacheKey,r=t.useState,a=t.mutations,c=t.initialState;return{useCachePrefetchContext:function(){var t=r(),a=(0,i.Z)(t,2),u=a[0],c=a[1];return(0,o.useMemo)((function(){return(0,n.Z)({},e,s({getState:function(){return u}},c))}),[u,c])},createCachePrefetchContext:function(){var t=u()(c);return(0,n.Z)({},e,s({getState:function(){return t}},Object.entries(a).reduce((function(e,r){var n=(0,i.Z)(r,2),o=n[0],a=n[1];return e[o]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return a.apply(void 0,[t].concat(r))},e}),{})))}}}},35827:function(t,e,r){r.d(e,{Ax:function(){return o},if:function(){return a},qh:function(){return i}});var n=r(29498),i=(0,n.createContext)(void 0),o=(0,n.createContext)(void 0),a=(0,n.createContext)(void 0)},20264:function(t,e,r){r.d(e,{q:function(){return u}});var n=r(98036),i=r(57916),o=r(29498),a=r(35827);function u(t){var e=t.prefetchedData,r=t.prefetchedUserData,u=t.prefetchedSession,c=t.clearAfterFirstRender,s=t.children,f=(0,o.useState)(e),l=(0,n.Z)(f,2),p=l[0],d=l[1],h=(0,o.useState)(r),v=(0,n.Z)(h,2),g=v[0],m=v[1],y=(0,o.useState)(u),b=(0,n.Z)(y,2),w=b[0],O=b[1];return(0,o.useEffect)((function(){c&&(d(void 0),m(void 0),O(void 0))}),[c]),(0,i.jsx)(a.if.Provider,{value:c?w:u,children:(0,i.jsx)(a.qh.Provider,{value:c?p:e,children:(0,i.jsx)(a.Ax.Provider,{value:c?g:r,children:s})})})}},82466:function(t,e,r){r.d(e,{A:function(){return p},X:function(){return l}});var n=r(83644),i=r(57916),o=r(41802),a=r.n(o),u=r(29498),c=r(35827);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){var r="withPrefetchedData(".concat(t.displayName||t.name,")");function n(r){var n=t,o=(0,u.useContext)(c.qh),a=(0,u.useContext)(c.Ax),s=(0,u.useContext)(c.if);return(0,i.jsx)(n,f({prefetchedData:null==o?void 0:o[e.prefetchName],prefetchedUserData:null==a?void 0:a[e.prefetchName],prefetchedSession:s},r))}return n.prefetchName=e.prefetchName,n.prefetchData=e.prefetchData&&e.prefetchData.bind(e),n.prefetchUserData=e.prefetchUserData&&e.prefetchUserData.bind(e),n.prefetchDependencies=Array.isArray(e.prefetchDependencies)?function(){return e.prefetchDependencies}:e.prefetchDependencies,n.displayName=r,n.WrappedComponent=t,a()(n,t)}function p(t,e,r){return f({__prefetchId:t,status:e},r)}},4023:function(t,e,r){r.d(e,{V:function(){return i}});var n=r(83515);function i(t){var e=t.children,r=t.placeholder;return((0,n.j)()?r:e)||null}},61002:function(t,e,r){r.d(e,{YI:function(){return i},Z8:function(){return o}});var n=(0,r(54875).k)(void 0,{name:"AppRenderContext"}),i=(n.Context,n.Provider),o=n.useContext},83515:function(t,e,r){r.d(e,{j:function(){return i}});var n=r(61002);function i(){var t=(0,n.Z8)();return!!t&&t.firstRender}},80451:function(t,e,r){r.d(e,{R:function(){return u}});var n=r(98036),i=r(57916),o=r(29498),a=r(61002);function u(t){var e=t.children,r=(0,o.useState)(!0),u=(0,n.Z)(r,2),c=u[0],s=u[1];return(0,o.useEffect)((function(){s(!1)}),[]),(0,i.jsx)(a.YI,{value:{firstRender:c},children:e})}},15614:function(t,e,r){r.d(e,{EF:function(){return o},GH:function(){return i}});var n=(0,r(54875).k)(void 0,{name:"TrackingContext"}),i=(n.Context,n.Provider),o=n.useContext},30848:function(t,e,r){r.d(e,{r:function(){return o}});var n=r(96976),i=r(15614);function o(){var t=(0,n.RA)();return(0,i.EF)()||t.tracker.track}},55195:function(t,e,r){r.d(e,{G:function(){return y}});var n=r(83644),i=r(49458),o=r(98036),a=r(1558),u=r.n(a),c=r(57916),s=r(31970),f=r.n(s),l=r(81640),p=r(15614),d=r(30848);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t){return Object.entries(t).sort((function(t,e){return(0,o.Z)(t,1)[0]<(0,o.Z)(e,1)[0]?-1:1})).reduce((function(t,e){var r=(0,o.Z)(e,2),n=r[0],i=r[1];return t.push(n,i),t}),[])}function m(t,e){var r=(0,o.Z)(t,2),n=r[0],i=r[1],a=(0,o.Z)(e,2),u=a[0],c=a[1];if(n!==u)return!1;if(i===c)return!0;var s=g(i),l=g(c);return s.length===l.length&&s.every((function(t,e){return f()(t,l[e])}))}function y(t){var e=t.children,r=t.properties,n=(0,d.r)(),o=(0,l.wo)((function(){return function(){var t=(0,i.Z)(u().mark((function t(e,i){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e,v(v({},r),i)));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}),[n,r],m);return(0,c.jsx)(p.GH,{value:o,children:e})}},96976:function(t,e,r){r.d(e,{Mx:function(){return Z},RA:function(){return C}});var n=r(20364),i=r(83644);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.reduce((function(e,r){return a(a({},e),{},(0,i.Z)({},r,t[r].bind(t)))}),{});return(r||[]).reduce((function(e,r){return Object.defineProperty(e,r,{get:function(){return t[r]}}),e}),n)}var c=["getEnvironment","getDemoEnvironment","getApiEnvironment","getApiDemoEnvironment","getBuildEnvironment"],s=["report","createSampledReporter","wrap","wrapFunction","wrapAsyncFunction"],f=["get","getAll","isServiceError"],l=["ui","load","login"],p=["authStatus","authResponse","isAuthenticated","isConnected","sdkHash","locale","apiVersion"],d=["get","normalizeFcmValue"],h=["fetch"],v=["get","post","put","patch","delete","getAsset","sendBeacon"],g=["track","updateSessionInfo","getCommonData"],m=["getExternalUrl"],y=["getUserAgent","getParsedUserAgent","getWebviewType","isBot"],b=["isWebview"],w=["getScript","formSubmit","vpv","stateChange","tagRecording","trigger"],O=["getScript","setContextualAttributes","toggleWidgetVisibility","startConversation","init","addListener","getWidgetElement","trackEvent"],k=["getScript","setState"],j=["getScript","showSurvey"],P=["getCsrfToken","refreshCsrfToken"],x=["get","set","remove"],E=["renderButton"],S=["disabled"];var D=(0,n.g)(void 0,{name:"UtilityContext",processProviderProps:function(t){return function(t){var e=t.environment,r=t.errorReporter,n=t.experiments,i=t.facebook,o=t.hotjar,a=t.omnichannel,D=t.optimizely,Z=t.googleAuth,C=t.delighted,_=t.fcm,A=t.gql,T=t.http,R=t.tracker,I=t.navigation,N=t.userAgent,F=t.csrf,M=t.cookies,B=t.resolveUrl;return{environment:u(e,c),errorReporter:u(r,s),experiments:u(n,f),facebook:u(i,l,p),hotjar:u(o,w),omnichannel:u(a,O),optimizely:u(D,k),delighted:u(C,j),fcm:u(_,d),gql:u(A,h),http:u(T,v),tracker:u(R,g),navigation:u(I,m),userAgent:u(N,y,b),cookies:u(M,x),googleAuth:u(Z,E,S),csrf:u(F,P),resolveUrl:B}}(t.utilities)}}),Z=(D.Context,D.Provider),C=D.useContext},31842:function(t,e,r){r.d(e,{BO:function(){return a},Hf:function(){return u},KX:function(){return i},QG:function(){return o},j2:function(){return n}});var n=["alt","height","src","width","allowfullscreen"],i={alt:/^.+$/,height:/^\d+$/,src:/^((?!\.\.)[\w-./])+$/,width:/^\d+$/,allowfullscreen:/^.+$/},o="cc_lang_pref=en&hl=en&disablekb=1&controls=1&modestbranding=1&rel=0",a="https://www.youtube.com/embed",u=/(?:http:|https:)*?\/\/(?:www\.|)(?:youtube\.com|m\.youtube\.com|youtu\.|youtube-nocookie\.com).*(?:v=|v%3D|v\/|(?:a|p)\/(?:a|u)\/\d.*\/|watch\?|vi(?:=|\/)|\/embed\/|oembed\?|be\/|e\/)([^&?%#/\n]*)/},60340:function(t,e,r){r.d(e,{m:function(){return g}});var n=r(49458),i=r(14818),o=r(47659),a=r(84615),u=r(1558),c=r.n(u),s=r(83843),f=r.n(s),l=function(t,e,r){t({error:new Error(e),params:r})};function p(t){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function t(e){var r,n,i,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fetch,n=e.reportError,i="/api-proxy/-/csrf-token".concat(f().stringify({cb:Date.now()},{addQueryPrefix:!0})),t.prev=2,t.next=5,r(i);case 5:if((o=t.sent).ok){t.next=9;break}return l(n,"Failed to call CSRF token API",o.status?{message:o.statusText,status:o.status,url:i}:{message:o.toString(),url:i}),t.abrupt("return","");case 9:if(a=o.headers.get("x-csrf-token")){t.next=13;break}return l(n,"CSRF token header not found",{url:i}),t.abrupt("return","");case 13:return t.abrupt("return",a);case 16:return t.prev=16,t.t0=t.catch(2),l(n,"Failed to call CSRF token API",{message:t.t0.toString(),url:i}),t.abrupt("return","");case 20:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}var h=["initialCsrfToken","fetchPolicy","cacheExpirationMs"],v=function(){function t(e){var r=e.initialCsrfToken,n=e.fetchPolicy,a=e.cacheExpirationMs,u=(0,i.Z)(e,h);(0,o.Z)(this,t),this.getCsrfTokenOptions=u,this.fetchPolicy=n||"as-needed",this.cacheExpirationMs=null!=a?a:18e5,this.csrfPromise=r?Promise.resolve(r):void 0}var e;return(0,a.Z)(t,[{key:"resetTimeout",value:function(){var t=this;this.cacheExpirationMs<=0||(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.clearCache()}),this.cacheExpirationMs))}},{key:"init",value:function(){return this.csrfPromise||"immediate"===this.fetchPolicy&&this.refreshPromise(),this.resetTimeout(),this}},{key:"clearCache",value:function(){this.csrfPromise=void 0,this.resetTimeout()}},{key:"refreshPromise",value:(e=(0,n.Z)(c().mark((function t(){var e,r,i,o=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.prevCsrfPromise=this.csrfPromise||this.prevCsrfPromise,e=this.prevCsrfPromise,r=p(this.getCsrfTokenOptions),this.csrfPromise=(0,n.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:if(!e){t.next=7;break}return t.abrupt("return",e);case 7:return t.abrupt("return","");case 8:case"end":return t.stop()}}),t)})))(),i=this.csrfPromise,(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:t.sent||o.csrfPromise!==i||(o.csrfPromise=void 0);case 4:case"end":return t.stop()}}),t)})))(),this.resetTimeout(),t.abrupt("return",this.csrfPromise);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getCsrfToken",value:function(){var t=(0,n.Z)(c().mark((function t(){var e=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0&&void 0!==e[0]?e[0]:{}).nocache&&this.csrfPromise){t.next=3;break}return t.abrupt("return",this.refreshPromise());case 3:return t.abrupt("return",this.csrfPromise);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"refreshCsrfToken",value:function(t){this.csrfPromise=t?Promise.resolve(t):void 0,this.init()}}]),t}();function g(t){return new v(t)}},58366:function(t,e,r){r.d(e,{G:function(){return v}});var n,i=r(83644),o=r(14818),a=r(49458),u=r(2903),c=r(1558),s=r.n(c),f=r(22117),l=["id"];function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=(0,f.Ps)(n||(n=(0,u.Z)(['\n\tquery FeCoreSession {\n\t\tsession: viewer {\n\t\t\tid\n\t\t\tloginState\n\t\t\tcsrfToken\n\t\t\tlocale {\n\t\t\t\tlocaleCode\n\t\t\t}\n\t\t\tcountry {\n\t\t\t\tcountryCode\n\t\t\t}\n\t\t\tipCountry {\n\t\t\t\tcountryCode\n\t\t\t}\n\t\t\tgeoipData {\n\t\t\t\tregion\n\t\t\t\tcity\n\t\t\t\tpostalCode\n\t\t\t\tcountryCode\n\t\t\t}\n\t\t\ttrackingData\n\t\t\tcookiePrefs {\n\t\t\t\tpreferences\n\t\t\t\tanalytics\n\t\t\t\tmarketing\n\t\t\t}\n\t\t\tcookiePrefsSaved\n\t\t\tuuid\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t\t...FeSessionUser\n\t\t\t}\n\t\t\texperiments {\n\t\t\t\tid\n\t\t\t\tvariation\n\t\t\t\ttreated\n\t\t\t}\n\t\t}\n\t}\n\tfragment FeSessionUser on User {\n\t\tid\n\t\tslug\n\t\troles {\n\t\t\tid\n\t\t\tstaff\n\t\t\tstaffAdmin: hasRole(targetType: "Staff", title: "Admin")\n\t\t\tsupport\n\t\t\taudit\n\t\t\tauditAdmin\n\t\t\tcampaigns: hasRole(targetType: "Campaigns", title: "Member")\n\t\t\tengineering: hasRole(targetType: "Engineering", title: "Member")\n\t\t\tpetitionAdmin: hasRole(targetType: "Petition", title: "Admin")\n\t\t\tproduct: hasRole(targetType: "Product", title: "Member")\n\t\t}\n\t\tnewUser\n\t\tpasswordSet\n\t\tfirstName\n\t\tlastName\n\t\tdisplayName\n\t\tshortDisplayName\n\t\temail\n\t\tcountry {\n\t\t\tcountryCode\n\t\t}\n\t\tcity\n\t\tpostalCode\n\t\tstateCode\n\t\tformattedLocationString\n\t\ttotalSignatureCount\n\t\tphoto {\n\t\t\tid\n\t\t\tuserSmall {\n\t\t\t\turl\n\t\t\t\tprocessing\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t}\n\t\t\tuserMedium {\n\t\t\t\turl\n\t\t\t\tprocessing\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t}\n\t\t\tuserLarge {\n\t\t\t\turl\n\t\t\t\tprocessing\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t}\n\t\t}\n\t\tactivityRaw\n\t\tconnectedToFacebook\n\t\tfacebookHash\n\t}\n'])));function v(t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(s().mark((function t(e){var r,n,i,a,u,c,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.gqlFetch,i=e.reportError,t.next=3,n({important:!0,query:h});case 3:if(a=t.sent,u=null===(r=a.data)||void 0===r?void 0:r.session){t.next=7;break}throw new Error("Cannot retrieve session");case 7:if(u.id,"GUEST"===(c=(0,o.Z)(u,l)).loginState||c.user){t.next=12;break}return i({error:"user info missing in Viewer for ".concat((f=c).loginState," user"),params:{loginState:f.loginState,uuid:f.uuid}}),t.abrupt("return",d(d({},f),{},{loginState:"GUEST"}));case 12:return t.abrupt("return",c);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},19045:function(t,e,r){function n(t){return"GUEST"!==t.loginState}r.d(e,{A:function(){return n}})},48499:function(t,e,r){r.d(e,{K:function(){return i}});var n=r(94508);function i(){return void 0===(0,n.o4)()}},92641:function(t,e,r){r.d(e,{LS:function(){return o},cl:function(){return a},rV:function(){return u}});var n=r(94508),i=function(){var t=(0,n.o4)();if(void 0===t)return!1;var e;try{return(e=t.localStorage).setItem("t","t"),e.removeItem("t"),!0}catch(t){return!1}},o=function(t,e){return!!i()&&((0,n.o4)().localStorage.setItem(t,e),!0)},a=function(t){return!!i()&&((0,n.o4)().localStorage.removeItem(t),!0)},u=function(t){return i()?(0,n.o4)().localStorage.getItem(t):null}},81081:function(t,e,r){r.d(e,{M:function(){return s}});var n=r(47659),i=r(84615),o=r(70466),a=r(94508);var u=r(99268);var c=function(){function t(e){var r=e.userAgent;(0,n.Z)(this,t),this.userAgent=r,this.parsedUserAgent=function(t){return new u.UAParser(t)}(this.userAgent),this.webviewType=function(t){if(!t)return"unknown";if(t.includes("FBAN")||t.includes("FBAV"))return"facebook";if(/(iPhone|iPod|iPad)/i.test(t)){var e=(0,a.o4)();if(void 0!==e&&e.navigator&&e.navigator.standalone)return"ios_standalone";if(!t.includes("Safari"))return"ios"}return/Android.*(;\s+wv|Version\/\d.\d\s+Chrome\/\d+(\.0){3})/i.test(t)?"android":"unknown"}(this.userAgent),this._isBot=(0,o.Z)(this.userAgent)}return(0,i.Z)(t,[{key:"isWebview",get:function(){return"unknown"!==this.getWebviewType()}},{key:"getWebviewType",value:function(){return this.webviewType}},{key:"getParsedUserAgent",value:function(){return this.parsedUserAgent}},{key:"getUserAgent",value:function(){return this.userAgent}},{key:"isBot",value:function(){return this._isBot}},{key:"getEventTrackingData",value:function(){var t=this.getParsedUserAgent();return{mobile:["mobile","tablet"].includes(t.getDevice().type||""),platform:t.getOS().name,browser:t.getBrowser().name,browser_version:t.getBrowser().version,os:t.getOS().name,os_version:t.getOS().version,user_agent:t.getUA(),webview:this.getWebviewType()}}}]),t}();function s(t){return new c(t)}},94508:function(t,e,r){function n(){if("undefined"==typeof window)throw new Error("window is not available in this environment");return window}function i(){if("undefined"!=typeof window)return window}function o(){return n().location}function a(t){return n().open(t)}function u(){return n().history}function c(){return n().document}function s(t){return n().alert(t)}function f(t){return n().confirm(t)}r.d(e,{Jj:function(){return n},Me:function(){return c},cg:function(){return f},dZ:function(){return s},k$:function(){return o},o4:function(){return i},s1:function(){return u},xw:function(){return a}})}}]);
//# sourceMappingURL=core.bb263505ca698de29c93.js.map