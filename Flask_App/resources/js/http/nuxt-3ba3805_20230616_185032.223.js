(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1054:function(e,t,n){},1365:function(e,t,n){"use strict";n(1054)},1477:function(e,t,n){"use strict";n.r(t);n(30),n(13),n(12),n(14),n(11),n(15);var o=n(3),r=(n(8),n(27),n(9),n(348),n(61),n(34),n(33),n(45));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={data:function(){return{selectedRegion:{id:null,name:"todos",slug:"todos"},selectedCommune:{id:null,name:"todos",slug:"todos"},selectedService:{id:null,name:"todos",slug:"todos"},selectedBrand:{id:null,name:"todos",slug:"todos"},regions:[],communes:[],services:[{name:"Venta",slug:"venta"},{name:"Servicio Técnico",slug:"servicio-tecnico"},{name:"Vehículos Usados",slug:"vehiculos-usados"},{name:"Venta Repuestos",slug:"venta-repuestos"},{name:"Desabolladuras y Pinturas",slug:"desabolladura-y-pintura"}],subsidiaries:149}},computed:l(l({},Object(r.c)({brands:"brands/getBrands",getAllRegions:"home/getSubsidiariesList"})),{},{getSubsidiaries:function(){var e=this;return"todos"==this.selectedRegion.name||"todos"==this.communes.name||"todos"==this.services.name?this.subsidiaries=this.regions.map((function(e){return e.subsidiaries.length})).reduce((function(a,b){return a+b}),0):"todos"!=this.selectedService.name?(this.subsidiaries=this.regions.filter((function(t){return t===e.selectedRegion})).map((function(t){return t.subsidiaries.filter((function(t){return t.communeId===e.selectedCommune.id}))})),this.subsidiaries=this.subsidiaries[0].map((function(t){return t.services.filter((function(t){return t.name===e.selectedService.name})).length})).reduce((function(a,b){return a+b}),0)):this.subsidiaries=this.regions.filter((function(t){return t===e.selectedRegion})).map((function(t){return t.subsidiaries.filter((function(t){return t.communeId===e.selectedCommune.id})).length})).reduce((function(a,b){return a+b}),0),this.subsidiaries},filteredCommunes:function(){var e=this;if(this.selectedRegion){var t=this.regions.filter((function(t){return t===e.selectedRegion})).map((function(e){return e.subsidiaries})),n=[];t.map((function(e){return e.map((function(e){return n.push(e.commune)}))}));var o=n.filter((function(e,t){return t===n.findIndex((function(t){return e.slug===t.slug}))}));return null!=this.selectedRegion.id&&(this.selectedCommune=n[0]),null!=this.selectedRegion.id&&(this.selectedCommune=o[0]),o}return this.communes},filteredBrands:function(){var e=this,t=[],n=this.brands;return this.selectedRegion&&this.selectedCommune?this.regions.map((function(o){o.subsidiaries.map((function(o){o.communeId==e.selectedCommune.id&&o.brands.map((function(e){var o=n.find((function(t){return t.slug===e.slug}));t.find((function(e){return e.slug===o.slug}))||t.push(o)}))}))})):this.selectedRegion&&this.selectedRegion.id?this.regions.map((function(o){o.id==e.selectedRegion.id&&o.subsidiaries.map((function(e){e.brands.map((function(e){var o=n.find((function(t){return t.slug===e.slug}));t.find((function(e){return e.slug===o.slug}))||t.push(o)}))}))})):t=this.brands,t},filteredServices:function(){var e=this,t=this.services,n=[];if(this.selectedCommune&&this.selectedCommune.id)this.regions.find((function(t){return t.id==e.selectedRegion.id})).subsidiaries.find((function(t){return t.communeId==e.selectedCommune.id})).services.map((function(e){var o=t.find((function(t){return t.slug===e.slug}));o&&(n.find((function(e){return e.slug===o.slug}))||n.push(o))}));else if(this.selectedRegion&&this.selectedRegion.id){this.regions.find((function(t){return t.id==e.selectedRegion.id})).subsidiaries.map((function(e){e.services.map((function(e){var o=t.find((function(t){return t.slug===e.slug}));o&&(n.find((function(e){return e.slug===o.slug}))||n.push(o))}))}))}else n=this.services;return n},getAllSubsidiaries:function(){var e=this.regions.map((function(e){return e.subsidiaries.length})).reduce((function(a,b){return a+b}),0);return e>0?e:149}}),watch:{getAllRegions:{handler:function(e){if(0!==e.length){this.regions=e.slice(0,e.length);var t=e.map((function(e){return e.subsidiaries}));this.subsidiaries.length;var n=[],o=(t.map((function(e){return e.map((function(e){return n.push(e.commune)}))})),{});n=n.filter((function(e){return!o[e.id]&&(o[e.id]=!0)})),this.communes=n}},immediate:!0}},methods:{handleSubsidiary:function(){var e=[],t="todos",n="todos",o="todos",r="todos";this.selectedRegion&&(t=this.selectedRegion.slug),this.selectedCommune&&(n=this.selectedCommune.slug),this.selectedBrand&&(o=this.selectedBrand.slug),this.selectedService&&(r=this.selectedService.slug),"todos"===t&&"todos"===n&&"todos"===o&&"todos"===r&&(e=[t],this.$router.push("/concesionarios/")),"todos"!==n&&(e=[t,n],this.$router.push("/concesionarios/"+e.join("/"))),"todos"!==o&&(e=[t,n,o],this.$router.push("/concesionarios/"+e.join("/"))),"todos"!==r&&(e=[t,n,o,r],this.$router.push("/concesionarios/"+e.join("/")))}}},m=(n(1365),n(23)),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"bg-concesionarios",attrs:{fluid:""}},[t("b-row",{staticClass:"padding-center"},[t("b-col",{attrs:{cols:"12"}},[t("h2",[e._v("Encuentra tu concesionario más cercano.")]),e._v(" "),t("h3",[e._v("\n        Más de "+e._s(e.getAllSubsidiaries)+" sucursales a lo largo del país, te\n        esperamos.\n      ")])]),e._v(" "),t("b-col",{staticClass:"mb-2",attrs:{cols:"12",sm:"12",md:"3",lg:"3"}},[t("div",{staticClass:"rail-select"},[t("div",{staticClass:"select-side"},[t("img",{attrs:{src:n(218),width:"14",height:"14"}})]),e._v(" "),t("b-form-select",{staticClass:"custom-select",model:{value:e.selectedRegion,callback:function(t){e.selectedRegion=t},expression:"selectedRegion"}},[t("option",{attrs:{disabled:""},domProps:{value:{id:null,name:"todos",slug:"todos"}}},[e._v("Región")]),e._v(" "),e._l(e.regions,(function(n,o){return t("option",{key:o,domProps:{value:n}},[e._v(e._s(n.name))])}))],2)],1)]),e._v(" "),t("b-col",{staticClass:"mb-2",attrs:{cols:"12",sm:"12",md:"3",lg:"3"}},[t("div",{staticClass:"rail-select"},[t("div",{staticClass:"select-side"},[t("img",{attrs:{src:n(218),width:"14",height:"14"}})]),e._v(" "),t("b-form-select",{staticClass:"custom-select",model:{value:e.selectedCommune,callback:function(t){e.selectedCommune=t},expression:"selectedCommune"}},[t("option",{attrs:{disabled:""},domProps:{value:{id:null,name:"todos",slug:"todos"}}},[e._v("Comuna")]),e._v(" "),e._l(e.filteredCommunes,(function(n,o){return t("option",{key:o,domProps:{value:n}},[e._v(e._s(n.name))])}))],2)],1)]),e._v(" "),t("b-col",{staticClass:"mb-2",attrs:{cols:"12",sm:"12",md:"3",lg:"3"}},[t("div",{staticClass:"rail-select"},[t("div",{staticClass:"select-side"},[t("img",{attrs:{src:n(218),width:"14",height:"14"}})]),e._v(" "),t("b-form-select",{staticClass:"custom-select",model:{value:e.selectedBrand,callback:function(t){e.selectedBrand=t},expression:"selectedBrand"}},[t("option",{attrs:{disabled:""},domProps:{value:{id:null,name:"todos",slug:"todos"}}},[e._v("Marca")]),e._v(" "),e._l(e.filteredBrands,(function(n,o){return t("option",{key:o,domProps:{value:n}},[e._v(e._s(n.name))])}))],2)],1)]),e._v(" "),t("b-col",{staticClass:"mb-2",attrs:{cols:"12",sm:"12",md:"3",lg:"3"}},[t("div",{staticClass:"rail-select"},[t("div",{staticClass:"select-side"},[t("img",{attrs:{src:n(218),width:"14",height:"14"}})]),e._v(" "),t("b-form-select",{staticClass:"custom-select",model:{value:e.selectedService,callback:function(t){e.selectedService=t},expression:"selectedService"}},[t("option",{attrs:{disabled:""},domProps:{value:{id:null,name:"todos",slug:"todos"}}},[e._v("Servicio")]),e._v(" "),e._l(e.filteredServices,(function(n,o){return t("option",{key:o,domProps:{value:n}},[e._v(e._s(n.name))])}))],2)],1)]),e._v(" "),t("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[t("b-button",{staticClass:"button-primary",on:{click:function(t){return t.preventDefault(),e.handleSubsidiary.apply(null,arguments)}}},[e._v("Ver "),0==e.getSubsidiaries?t("span",[e._v("149")]):t("span",[e._v(" "+e._s(e.getSubsidiaries))]),e._v(" concesionarios")])],1)],1)],1)}),[],!1,null,"83da6008",null);t.default=component.exports}}]);