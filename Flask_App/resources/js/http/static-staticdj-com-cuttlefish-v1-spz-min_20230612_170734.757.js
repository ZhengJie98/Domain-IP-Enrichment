;
self.SPZ=self.SPZ||[];try{self.SPZ&&!Array.isArray(self.SPZ)||function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var i,r=function(){function n(){t(this,n),this.signal_=new o}return e(n,[{key:"abort",value:function(){if(!this.signal_.isAborted_&&(this.signal_.isAborted_=!0,this.signal_.onabort_)){var t={"type":"abort","bubbles":!1,"cancelable":!1,"target":this.signal_,"currentTarget":this.signal_};this.signal_.onabort_(t)}}},{key:"signal",get:function(){return this.signal_}}]),n}(),o=function(){function n(){t(this,n),this.isAborted_=!1,this.onabort_=null}return e(n,[{key:"aborted",get:function(){return this.isAborted_}},{key:"onabort",get:function(){return this.onabort_},set:function(t){this.onabort_=t}}]),n}();function u(t,n){for(var e=n||0,i=this.length,r=e>=0?e:Math.max(i+e,0);r<i;r++){var o=this[r];if(o===t||t!=t&&o!=o)return!0}return!1}function a(){return i||(i=Promise.resolve(void 0))}var s=function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))};function l(t){return new Promise((function(n){n(t())}))}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var h=Object.prototype,v=h.hasOwnProperty,y=h.toString;function p(t){return"[object Object]"===y.call(t)}function d(t){return"{}"===JSON.stringify(t)}function m(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function b(t){return t||{}}function k(t,n){return v.call(t,n)}function w(t,n){if("."==n)return t;var e,i=t,r=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}(n.split("."));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!(o&&i&&void 0!==i[o]&&"object"==c(i)&&k(i,o))){i=void 0;break}i=i[o]}}catch(t){r.e(t)}finally{r.f()}return i}function g(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return z(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}function z(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function S(t){var n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;var e=t.message,i=t.stack,r=new Error(e);for(var o in t)r[o]=t[o];return r.stack=i,r}function O(t){var n,e=null,i="",r=g(arguments);try{for(r.s();!(n=r.n()).done;){var o=n.value;o instanceof Error&&!e?e=S(o):(i&&(i+=" "),i+=o)}}catch(t){r.e(t)}finally{r.f()}return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function j(t){var n=O.apply(null,arguments);setTimeout((function(){var t,e;throw null===(t=(e=self).__SPZ_REPORT_ERROR)||void 0===t||t.call(e,n),n}))}function E(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return A(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?A(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function x(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,n,e){return n&&_(t.prototype,n),e&&_(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var C=/^[a-z][a-z0-9._]*-[a-z0-9._-]*$/,P=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],I={"childList":!0,"subtree":!0};function R(t,n){if(!C.test(n)||P.includes(n))throw new t('invalid custom element name "'.concat(n,'"'))}var M=function(){function t(n,e){x(this,t),this.win_=n,this.registry_=e,this.pendingDefines_=m()}return T(t,[{key:"define",value:function(t,n,e){this.registry_.define(t,n,e);var i=this.pendingDefines_,r=i[t];r&&(r.resolve(),delete i[t])}},{key:"get",value:function(t){var n=this.registry_.getByName(t);if(n)return n.ctor}},{key:"whenDefined",value:function(t){var n=this.win_;if(n.Promise,R(n.SyntaxError,t),this.registry_.getByName(t))return a();var e=this.pendingDefines_,i=e[t];return i||(i=new s,e[t]=i),i.promise}},{key:"upgrade",value:function(t){this.registry_.upgrade(t)}}]),t}(),D=function(){function t(n){x(this,t),this.win_=n,this.definitions_=m(),this.query_="",this.current_=null,this.mutationObserver_=null,this.roots_=[n.document]}return T(t,[{key:"current",value:function(){var t=this.current_;return this.current_=null,t}},{key:"getByName",value:function(t){var n=this.definitions_[t];if(n)return n}},{key:"getByConstructor",value:function(t){var n=this.definitions_;for(var e in n){var i=n[e];if(i.ctor===t)return i}}},{key:"define",value:function(t,n,e){var i=this.win_,r=i.Error,o=i.SyntaxError;if(e)throw new r("Extending native custom elements is not supported");if(R(o,t),this.getByName(t)||this.getByConstructor(n))throw new r('duplicate definition "'.concat(t,'"'));this.definitions_[t]={name:t,ctor:n},this.observe_(t);var u,a=E(this.roots_);try{for(a.s();!(u=a.n()).done;){var s=u.value;this.upgrade(s,t)}}catch(t){a.e(t)}finally{a.f()}}},{key:"upgrade",value:function(t,n){var e,i=!!n,r=n||this.query_,o=E(this.queryAll_(t,r));try{for(o.s();!(e=o.n()).done;){var u=e.value;i?this.connectedCallback_(u):this.upgradeSelf(u)}}catch(t){o.e(t)}finally{o.f()}}},{key:"upgradeSelf",value:function(t){var n=this.getByName(t.localName);n&&this.upgradeSelf_(t,n)}},{key:"queryAll_",value:function(t,n){return n&&t.querySelectorAll?t.querySelectorAll(n):[]}},{key:"upgradeSelf_",value:function(t,n){var e=n.ctor;if(!(t instanceof e)){this.current_=t;try{if(new e!==t)throw new this.win_.Error("Constructor illegally returned a different instance.")}catch(t){j(t)}}}},{key:"connectedCallback_",value:function(t){var n=this.getByName(t.localName);if(n&&(t=t,this.upgradeSelf_(t,n),t.connectedCallback))try{t.connectedCallback()}catch(t){j(t)}}},{key:"disconnectedCallback_",value:function(t){if((t=t).disconnectedCallback)try{t.disconnectedCallback()}catch(t){j(t)}}},{key:"observe_",value:function(t){var n=this;if(this.query_)this.query_+=",".concat(t);else{this.query_=t;var e=new this.win_.MutationObserver((function(t){t&&n.handleRecords_(t)}));this.mutationObserver_=e;var i,r=E(this.roots_);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.observe(o,I)}}catch(t){r.e(t)}finally{r.f()}!function(t,n){var e,i=t.Document,r=t.Element,o=t.Node,u=t.document,a=i.prototype,s=r.prototype,l=o.prototype,c=a.createElement,f=a.importNode,h=l.appendChild,v=l.cloneNode,y=l.insertBefore,p=l.removeChild,d=l.replaceChild;a.createElement=function(t){var e=n.getByName(t);return e?new e.ctor:c.apply(this,arguments)},a.importNode=function(){var t=f.apply(this,arguments);return t&&this===u&&(n.upgradeSelf(t),n.upgrade(t)),t},l.appendChild=function(){var t=h.apply(this,arguments);return n.sync(),t},l.insertBefore=function(){var t=y.apply(this,arguments);return n.sync(),t},l.removeChild=function(){var t=p.apply(this,arguments);return n.sync(),t},l.replaceChild=function(){var t=d.apply(this,arguments);return n.sync(),t},l.cloneNode=function(){var t=v.apply(this,arguments);return t.ownerDocument===u&&(n.upgradeSelf(t),n.upgrade(t)),t};var m=s,b=Object.getOwnPropertyDescriptor(m,"innerHTML");if(b||(m=Object.getPrototypeOf(t.HTMLElement.prototype),b=Object.getOwnPropertyDescriptor(m,"innerHTML")),null!==(e=b)&&void 0!==e&&e.configurable){var k=b.set;b.set=function(t){k.call(this,t),n.upgrade(this)},Object.defineProperty(m,"innerHTML",b)}}(this.win_,this)}}},{key:"observe",value:function(t){this.roots_.push(t),this.mutationObserver_&&this.mutationObserver_.observe(t,I)}},{key:"sync",value:function(){this.mutationObserver_&&this.handleRecords_(this.mutationObserver_.takeRecords())}},{key:"handleRecords_",value:function(t){var n,e=E(t);try{for(e.s();!(n=e.n()).done;){var i=n.value;if(i){var r,o=i.addedNodes,u=i.removedNodes,a=E(o);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=this.queryAll_(s,this.query_);this.connectedCallback_(s);var c,f=E(l);try{for(f.s();!(c=f.n()).done;){var h=c.value;this.connectedCallback_(h)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){a.e(t)}finally{a.f()}var v,y=E(u);try{for(y.s();!(v=y.n()).done;){var p=v.value,d=this.queryAll_(p,this.query_);this.disconnectedCallback_(p);var m,b=E(d);try{for(b.s();!(m=b.n()).done;){var k=m.value;this.disconnectedCallback_(k)}}catch(t){b.e(t)}finally{b.f()}}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){e.e(t)}finally{e.f()}}}]),t}();function F(t){return t==this||this.documentElement.contains(t)}function L(t){return t?Array.prototype.slice.call(t):[]}var N=Array.isArray;function U(t,n){for(var e=[],i=0,r=0;r<t.length;r++){var o=t[r];n(o,r,t)?e.push(o):(i<r&&(t[i]=o),i++)}return i<t.length&&(t.length=i),e}function Z(t,n){var e=t.indexOf(n);return-1!=e&&(t.splice(e,1),!0)}function B(t){return"string"==typeof t}function V(t,n,e){var i=0,r=null;function o(o){r=null,i=t.setTimeout(u,e),n.apply(null,o)}function u(){i=0,r&&o(r)}return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];i?r=n:o(n)}}function H(t,n,e){var i=0,r=0,o=null;function u(){i=0;var a,s=e-(t.Date.now()-r);s>0?i=t.setTimeout(u,s):(a=o,o=null,n.apply(null,a))}return function(){r=t.Date.now();for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=a,i||(i=t.setTimeout(u,e))}}function G(t){return 1==(null==t?void 0:t.nodeType)}function W(t){return"number"==typeof t&&isFinite(t)}function $(t){return G(t)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t}function q(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(t)return t;for(var e=2,i=n.split("%s"),r=i.shift(),o=[r];i.length;){var u=arguments[e++],a=i.shift();r+=$(u)+a,o.push(u,a.trim())}var s=new Error(r);throw s.messageArray=U(o,(function(t){return""!==t})),s}function Q(t,n){return J(t,G(t),"Element expected",n)}function Y(t,n){return J(t,B(t),"String expected",n)}function X(t,n){return J(t,"number"==typeof t,"Number expected",n)}function J(t,n,e,i){return N(i)?q(n,i.concat([t])):q(n,"".concat(i||e,": %s"),t),t}function K(t){return JSON.parse(t)}function tt(t){return"undefined"!=typeof TextEncoder?new TextEncoder("utf-8").encode(t):function(t){for(var n=new Uint8Array(t.length),e=0;e<t.length;e++){var i=t.charCodeAt(e);q(i<=255,"Characters must be in range [0,255]"),n[e]=i}return n}(unescape(encodeURIComponent(t)))}function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function it(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?et(Object(e),!0).forEach((function(n){rt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):et(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function rt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ot(t,n){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function ut(t,n){if(n&&("object"===nt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function lt(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ct(t,n,e){return n&&lt(t.prototype,n),e&&lt(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ft={document:1,text:2},ht=["GET","POST"];function vt(t,n){var e=new XMLHttpRequest;if(!("withCredentials"in e))throw new Error("CORS is not supported");return e.open(t,n,!0),e}var yt=function(){function t(n){st(this,t),this.xhr_=n,this.status=this.xhr_.status,this.statusText=this.xhr_.statusText,this.ok=this.status>=200&&this.status<300,this.headers=new mt(n),this.bodyUsed=!1,this.body=null,this.url=n.responseURL}return ct(t,[{key:"clone",value:function(){return q(!this.bodyUsed,"Body already used"),new t(this.xhr_)}},{key:"drainText_",value:function(){return q(!this.bodyUsed,"Body already used"),this.bodyUsed=!0,Promise.resolve(this.xhr_.responseText)}},{key:"text",value:function(){return this.drainText_()}},{key:"json",value:function(){return this.drainText_().then(K)}},{key:"arrayBuffer",value:function(){return this.drainText_().then(tt)}}]),t}();function pt(t){return void 0===t?"GET":(t=t.toUpperCase(),q(ht.includes(t),"Only one of %s is currently allowed. Got %s",ht.join(", "),t),t)}var dt,mt=function(){function t(n){st(this,t),this.xhr_=n}return ct(t,[{key:"get",value:function(t){return this.xhr_.getResponseHeader(t)}},{key:"has",value:function(t){return null!=this.xhr_.getResponseHeader(t)}}]),t}(),bt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ot(t,n)}(r,t);var n,e,i=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=at(n);if(e){var r=at(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return ut(this,t)});function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st(this,r);var e=m(),o=it({status:200,statusText:"OK",responseText:t?String(t):"",getResponseHeader:function(t){var n=String(t).toLowerCase();return k(e,n)?e[n]:null}},n);if(o.status=void 0===n.status?200:parseInt(n.status,10),N(n.headers))n.headers.forEach((function(t){var n=t[0],i=t[1];e[String(n).toLowerCase()]=String(i)}));else if(p(n.headers))for(var u in n.headers)e[String(u).toLowerCase()]=String(n.headers[u]);return n.statusText&&(o.statusText=String(n.statusText)),i.call(this,o)}return r}(yt);function kt(t){return"loading"!=t.readyState&&"uninitialized"!=t.readyState}function wt(t){return new Promise((function(n){!function(t,n){!function(t,n,e){var i=n(t);i?e(t):t.addEventListener("readystatechange",(function r(){n(t)&&(i||(i=!0,e(t)),t.removeEventListener("readystatechange",r))}))}(t,kt,n)}(t,n)}))}function gt(t){return void 0!==dt?dt:dt=function(t){try{var n=t.ownerDocument,e=n.createElement("div"),i=n.createElement("div");return e.appendChild(i),e.querySelector(":scope div")===i}catch(t){return!1}}(t)}function zt(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function St(t){q(/^[\w-]+$/.test(t),'Expected "'.concat(t,'" to be a CSS name composed of alphanumerics and hyphens.'))}function Ot(t,n){var e="i-spzhtml-scoped";t.classList.add(e);var i=zt(n,".".concat(e)),r=t.querySelectorAll(i);return t.classList.remove(e),r}function jt(t,n){if(gt(t))return t.querySelector(zt(n,":scope"));var e=Ot(t,n);return void 0===e[0]?null:e[0]}function Et(t,n){return gt(t)?null==t?void 0:t.querySelectorAll(zt(n,":scope")):Ot(t,n)}function At(t,n){var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!e&&e.call(t,n)}function xt(t,n,e){for(var i=t;i&&i!==e;i=i.parentElement)if(n(i))return i;return null}function _t(t,n){return t.closest?t.closest(n):xt(t,(function(t){return At(t,n)}))}function Tt(t,n){for(var e=t.lastElementChild;e;e=e.previousElementSibling)if(n(e))return e;return null}function Ct(t,n){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)n(i)&&e.push(i);return e}var Pt,It={bubbles:!0,cancelable:!0},Rt=[],Mt=[];function Dt(t,n,e){if(n(t))e();else{var i=t.ownerDocument.defaultView;if(i.MutationObserver){var r=new i.MutationObserver((function(){n(t)&&(r.disconnect(),e())}));Rt.push(r),r.observe(t,{childList:!0})}else{var o=i.setInterval((function(){n(t)&&(i.clearInterval(o),e())}),5);Mt.push(o)}!function(){if(!self.__SPZ_WAIT_FOR_CHILD){self.__SPZ_WAIT_FOR_CHILD=!0;var t=function(){Mt.forEach((function(t){self.clearInterval(t)})),Rt.forEach((function(t){t.disconnect()}))};kt(self.document)?t():wt(self.document).then((function(){return t()}))}}()}}function Ft(t){return new Promise((function(n){return function(t,n){Dt(t.documentElement,(function(){return!!t.body}),n)}(t,n)}))}function Lt(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}function Nt(t,n){t.insertBefore(n,t.firstChild)}function Ut(t){var n=t.isConnected;if(void 0!==n)return n;for(var e=t;(e=Zt(e)).host;)e=e.host;return e.nodeType===Node.DOCUMENT_NODE}function Zt(t){if(Node.prototype.getRootNode)return t.getRootNode()||t;var n;for(n=t;n.parentNode;n=n.parentNode);return n}function Bt(t,n){var e=t;do{if(e.nextSibling)return!0}while((e=e.parentNode)&&e!=n);return!1}function Vt(t){try{t.focus()}catch(t){}}function Ht(t,n,e,i){var r=e||{},o=t.ownerDocument.createEvent("Event");o.data=r;var u=i||It,a=u.bubbles,s=u.cancelable;o.initEvent(n,a,s),t.dispatchEvent(o)}function Gt(t,n){return n!==t&&t.contains(n)}function Wt(t,n,e,i){return{left:t,top:n,width:e,height:i,bottom:n+i,right:t+e,x:t,y:n}}function $t(){return Ut(this)?Pt.call(this):Wt(0,0,0,0)}function qt(t){return(t=Number(t))?t>0?1:-1:t}var Qt,Yt,Xt,Jt=Object.prototype.hasOwnProperty;function Kt(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Jt.call(r,o)&&(e[o]=r[o])}return e}function tn(t){return Object.keys(t).map((function(n){return t[n]}))}function nn(t,n){var e=n>0?0|n:0;return this.substr(e,t.length)===t}function en(t){var n=t.ownerDocument||t;return Yt&&Yt.ownerDocument===n||(Yt=n.createElement("div")),rn}function rn(t){return function(t,n){q(1===n.length,"Improper html template tag usage. %s",n.length),t.innerHTML=n[0];var e=t.firstElementChild;return q(e,"No elements in template"),q(!e.nextElementSibling,"Too many root elements in template"),t.removeChild(e),e}(Yt,t)}(Qt=self).fetch||(Object.defineProperty(Qt,"fetch",{value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e,i){var r=pt(n.method||"GET"),o=vt(r,t);"include"==n.credentials&&(o.withCredentials=!0),n.responseType in ft&&(o.responseType=n.responseType),n.headers&&Object.keys(n.headers).forEach((function(t){o.setRequestHeader(t,n.headers[t])})),o.onreadystatechange=function(){if(!(o.readyState<2))return o.status<100||o.status>599?(o.onreadystatechange=null,void i(new Error("Unknown HTTP status ".concat(o.status)))):void(4==o.readyState&&e(new yt(o)))},o.onerror=function(){i(new Error("Network failure"))},o.onabort=function(){i(new Error("Request aborted"))},"POST"==r?o.send(n.body):o.send()}))},writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(Qt,"Response",{value:bt,writable:!0,enumerable:!1,configurable:!0})),function(t){t.Math.sign||t.Object.defineProperty(t.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:qt})}(self),function(t){t.Object.assign||t.Object.defineProperty(t.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:Kt})}(self),function(t){t.Object.values||t.Object.defineProperty(t.Object,"values",{configurable:!0,writable:!0,value:tn})}(self),function(t){t.Array.prototype.includes||t.Object.defineProperty(t.Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:u})}(self),function(t){var n=t.Map,e=new n;if(e.set(0,0)!==e){var i=e.set;t.Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(){return i.apply(this,arguments),this}})}}(self),function(t){var n=t.Set,e=new n;if(e.add(0)!==e){var i=e.add;t.Object.defineProperty(n.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(){return i.apply(this,arguments),this}})}}(self),function(t){t.String.prototype.startsWith||t.Object.defineProperty(t.String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:nn})}(self),self.document&&(function(t){var n=t.HTMLDocument||t.Document;n&&!n.prototype.contains&&t.Object.defineProperty(n.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:F})}(self),function(t){(function(t){if(!t.document)return!1;try{return 0!==t.document.createElement("div").getBoundingClientRect().top}catch(t){return!0}})(t)&&(Pt=Element.prototype.getBoundingClientRect,t.Object.defineProperty(t.Element.prototype,"getBoundingClientRect",{value:$t}))}(self),function(t,n){var e=t.document,i=function(t){var n=t.customElements;return!!(n&&n.define&&n.get&&n.whenDefined)}(t);if(!(!e||i&&function(t){return-1===t.HTMLElement.toString().indexOf("[native code]")}(t))){var r=!0,o=!1;if(n&&i)try{var u=t.Reflect,a=Object.create(n.prototype);Function.call.call(n,a),o=!(null==u||!u.construct)}catch(t){r=!1}!o&&r&&function(t){var n=t.Element,e=new D(t),i=new M(t,e);Object.defineProperty(t,"customElements",{enumerable:!0,configurable:!0,value:i});var r=n.prototype,o=r.attachShadow,u=r.createShadowRoot;o&&(r.attachShadow=function(t){var n=o.apply(this,arguments);return e.observe(n),n},r.attachShadow.toString=function(){return o.toString()}),u&&(r.createShadowRoot=function(){var t=u.apply(this,arguments);return e.observe(t),t},r.createShadowRoot.toString=function(){return u.toString()})}(t)}}(self,function(){return function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}}()),function(t){t.AbortController||(Object.defineProperty(t,"AbortController",{configurable:!0,enumerable:!1,writable:!0,value:r}),Object.defineProperty(t,"AbortSignal",{configurable:!0,enumerable:!1,writable:!0,value:o}))}(self));var on=["Webkit","webkit","Moz","moz","ms","O","o"],un={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function an(t,n,e){if(hn(n))return n;Xt||(Xt=m());var i=Xt[n];if(!i||e){if(i=n,void 0===t[n]){var r=function(t,n){for(var e=0;e<on.length;e++){var i=on[e]+n;if(void 0!==t[i])return i}return""}(t,function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n));void 0!==t[r]&&(i=r)}e||(Xt[n]=i)}return i}function sn(t,n,e,i,r){var o=an(t.style,n,r);if(o){var u=i?e+i:e;hn(o)?t.style.setProperty(o,u):t.style[o]=u}}function ln(t,n){for(var e in n)sn(t,e,n[e])}function cn(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function fn(t,n){return t.getComputedStyle(n)||un}function hn(t){return t.startsWith("--")}function vn(t,n,e){var i=t.createElement("canvas");return i.width=n,i.height=e,i.toDataURL()}var yn=['<i-spzhtml-sizer class=i-spzhtml-sizer slot=i-spzhtml-svc><img alt="" role=presentation aria-hidden=true class=i-spzhtml-intrinsic-sizer></i-spzhtml-sizer>'],pn=["SPZ-IMG"],dn={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill",FLEX_ITEM:"flex-item",FLUID:"fluid",INTRINSIC:"intrinsic",LOGIC:"logic"},mn={CONTENT:0,METADATA:1,ADS:2,BACKGROUND:3},bn={"SPZ-ANALYTICS":{width:"1px",height:"1px"},"SPZ-AUDIO":null,"SPZ-SOCIAL-SHARE":{width:"60px",height:"44px"}},kn=/^spz\-(video|.+player)|SPZ-BRIGHTCOVE|SPZ-DAILYMOTION|SPZ-YOUTUBE|SPZ-VIMEO|SPZ-IMA-VIDEO/i,wn=null;function gn(t){for(var n in dn)if(dn[n]==t)return dn[n]}function zn(t){return"i-spzhtml-layout-"+t}function Sn(t){return t==dn.FIXED||t==dn.FIXED_HEIGHT||t==dn.RESPONSIVE||t==dn.FILL||t==dn.FLEX_ITEM||t==dn.FLUID||t==dn.INTRINSIC}function On(t){return"number"==typeof t?t+"px":t&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(t)?/^\d+(\.\d+)?$/.test(t)?t+"px":t:void 0}function jn(t){return function(t){q(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)$/.test(t),"Invalid length value: %s",t)}(t),q(/[a-z]+/i.exec(t),"Failed to read units from %s",t)[0]}function En(t){var n=parseFloat(t);return W(n)?n:void 0}function An(t){return t=t.toUpperCase(),void 0!==bn[t]}function xn(t){var n=t.tagName.toUpperCase();if(q(void 0!==bn[n]),!bn[n]){var e=t.ownerDocument,i=n.replace(/^SPZ\-/,""),r=e.createElement(i);r.controls=!0,ln(r,{position:"absolute",visibility:"hidden"}),e.body.appendChild(r),bn[n]={width:(r.offsetWidth||1)+"px",height:(r.offsetHeight||1)+"px"},e.body.removeChild(r)}return bn[n]}function _n(){return null==wn&&(wn=!1),wn}function Tn(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Cn,Pn,In,Rn,Mn,Dn,Fn=self.SPZ_CONFIG||{},Ln={cdnProxyRegex:("string"==typeof Fn.cdnProxyRegex?new RegExp(Fn.cdnProxyRegex):Fn.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/},Nn={url:(Dn=(null===(Cn=Array.prototype.find.call(self.document.querySelectorAll("script[src]"),(function(t){var n=t.src;return/spz.min|spz.js$/.test(n)})))||void 0===Cn||null===(Pn=Cn.src)||void 0===Pn?void 0:Pn.split(/(\S*(?:cuttlefish|dist))(\S*)\/(?:spz.min|spz)\.js/))||[],3,In=function(t){if(Array.isArray(t))return t}(Dn)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,o=[],u=!0,a=!1;try{for(e=e.call(t);!(u=(i=e.next()).done)&&(o.push(i.value),3!==o.length);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==e.return||e.return()}finally{if(a)throw r}}return o}}(Dn)||function(t,n){if(t){if("string"==typeof t)return Tn(t,3);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Tn(t,3):void 0}}(Dn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Rn=In[1],Mn=In[2],{cdn:Fn.cdnUrl||Rn,spzVersion:(null==Mn?void 0:Mn.slice(1))||""})};function Un(t){var n=t||self;return n.__SPZ_MODE?n.__SPZ_MODE:n.__SPZ_MODE={localDev:!!(self.SPZ_CONFIG||{}).localDev,esm:!1,minified:!0,version:"1.0"}}var Zn=["spz-mustache"],Bn="latest";function Vn(){var t=Nn.url,n=t.cdn,e=t.spzVersion;return e?"".concat(n,"/").concat(e):"".concat(n)}function Hn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.1",e=Un().esm?".mjs":".js",i=Vn(),r=n?"-"+n:"";return"".concat(i,"/").concat(t).concat(r).concat(e)}function Gn(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),e=n?n[2]:void 0,i=n?n[3]:void 0;return e&&i?{extensionId:e,extensionVersion:i}:null}function Wn(t,n,e){var i=t.document.createElement("script");i.async=!0,Qn(n)?e="":i.setAttribute(Zn.indexOf(n)>=0?"custom-template":"custom-element",n),i.setAttribute("data-script",n),i.setAttribute("i-spzhtml-inserted",""),Un().esm&&i.setAttribute("type","module");var r=t.document.head.querySelector("script[nonce]");r&&i.setAttribute("nonce",r.getAttribute("nonce")),i.setAttribute("crossorigin","anonymous");var o=Hn(n,e);return i.src=o,i}function $n(t,n,e,i){for(var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=":not([i-spzhtml-loaded-new-version])"+(r?"":":not([i-spzhtml-inserted])"),u=t.document.head.querySelectorAll('script[src*="/'.concat(n,'-"]').concat(o)),a=[],s=0;s<u.length;s++){var l=u[s],c=Gn(l.src);if(c){var f=c.extensionId,h=c.extensionVersion;f==n&&(Qn(n)||h==e||h==Bn&&i)&&a.push(l)}}return a}function qn(){var t=self.document.head;if(!t)return[];for(var n=t.querySelectorAll("script[custom-element],script[custom-template]"),e=[],i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("custom-element")||r.getAttribute("custom-template"),u=Gn(r.src);o&&u&&e.push({extensionId:o,extensionVersion:u.extensionVersion})}return e}function Qn(t){return!t.startsWith("spz")}function Yn(t,n,e,i){var r=self.document.head,o=function(t,n,e,i){var r=t.__SPZ_CSS_SM;r||(r=t.__SPZ_CSS_SM=m());var o=!e&&i&&"spz-custom"!=i&&"spz-keyframes"!=i,u=e?"spz-runtime":o?"spz-extension=".concat(i):null;if(u){var a=Xn(t,r,u);if(a)return a.textContent!==n&&(a.textContent=n),a}var s=(t.ownerDocument||t).createElement("style");s.textContent=n;var l=null;return e?s.setAttribute("spz-runtime",""):o?(s.setAttribute("spz-extension",i||""),l=Q(Xn(t,r,"spz-runtime"))):(i&&s.setAttribute(i,""),l=t.lastChild),function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){var i=e.nextSibling;t.insertBefore(n,i)}else Nt(t,n)}(t,s,l),u&&(r[u]=s),s}(r,function(t,n){var e=t.__SPZ_CSS_TR;return e?e(n):n}(r,t),e||!1,i||null);if(n){var u=self.document;if(ne(u,o))return n(o),o;var a=setInterval((function(){ne(u,o)&&(clearInterval(a),n(o))}),4)}return o}function Xn(t,n,e){if(n[e])return n[e];var i=t.querySelector("style[".concat(e,"]"));return i?(n[e]=i,i):null}var Jn=!1;function Kn(t){q(t.defaultView,"Passed in document must have a defaultView"),Jn||(Jn=!0,te(t))}function te(t){ln(Q(t.body),{opacity:1,visibility:"visible","animation":"none"})}function ne(t,n){for(var e=t.styleSheets,i=0;i<e.length;i++)if(e[i].ownerNode==n)return!0;return!1}var ee=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.level_=this.defaultLevel_()}var n,e;return n=t,(e=[{key:"getLevel_",value:function(){return this.level_}},{key:"defaultLevel_",value:function(){return this.win.console&&this.win.console.log?3:0}},{key:"msg_",value:function(t,n,e){if(this.getLevel_()<n)return!1;var i=this.win.console.log;1==n?i=this.win.console.error||i:3==n?i=this.win.console.info||i:2==n&&(i=this.win.console.warn||i);var r="[".concat(t,"]");return N(e)?"string"==typeof e[0]?e[0]=r+" "+e[0]:e.unshift(r):e=r+e,i.apply(this.win.console,e),e}},{key:"isEnabled",value:function(){return 0!=this.getLevel_()}},{key:"fine",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,4,e)}},{key:"info",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,3,e)}},{key:"warn",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.msg_(t,2,e)}},{key:"error_",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.msg_(t,1,e)}},{key:"error",value:function(t,n){var e=this.error_.apply(this,arguments);e&&(e.name=t||e.name,self.__SPZ_REPORT_ERROR(e))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();self.__SPZ_LOG=self.__SPZ_LOG||{logger:null};var ie=self.__SPZ_LOG;function re(){return ie.logger?ie.logger:ie.logger=new ee(self)}function oe(t,n,e,i){ve(t=fe(t),n,e),i&&he(t,n)}function ue(t,n,e){var i=self;ve(i,t,n),e&&he(i,t)}function ae(t,n){return he(t=fe(t),n)}function se(t){return he(self,t)}function le(t){return de(self,t)?he(self,t):null}function ce(t){return function(t,n){var e=ye(t,n);if(e)return e;var i,r,o,u,a=pe(t);return a[n]=(r=(i=new s).promise,o=i.reject,u=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:u,reject:o,context:null,ctor:null}),a[n].promise}(self,t)}function fe(t){return t.__SPZ_TOP||(t.__SPZ_TOP=t)}function he(t,n){if(!de(t,n))return null;var e=pe(t)[n];return e.obj||(q(e.ctor,"Service ".concat(n," registered without ctor nor impl.")),q(e.context,"Service ".concat(n," registered without context.")),e.obj=new e.ctor(e.context),q(e.obj,"Service ".concat(n," constructed to null.")),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function ve(t,n,e,i,r){var o=pe(t),u=o[n];u||(u=o[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:r||!1}),!i&&u.ctor||(u.ctor=e,u.context=self,u.sharedInstance=r||!1,u.resolve&&he(t,n))}function ye(t,n){var e=pe(t)[n];return e?e.promise?e.promise:(he(t,n),e.promise=Promise.resolve(e.obj)):null}function pe(t){var n=t.__SPZ_SERVICES;return n||(n=t.__SPZ_SERVICES={}),n}function de(t,n){var e=t.__SPZ_SERVICES&&t.__SPZ_SERVICES[n];return!(!e||!e.ctor)}var me="ready-upgrade",be="upgraded",ke="built",we="mounted",ge="load-start",ze="render-start",Se="load-end",Oe="unload",je="building",Ee="mounting",Ae="loading",xe="complete",_e="error";var Te=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=m(),this.promiseMap_=null}var n,e;return n=t,(e=[{key:"get",value:function(t){var n=this.map_[t];return null==n?null:n}},{key:"whenSignal",value:function(t){var n,e=null===(n=this.promiseMap_)||void 0===n?void 0:n[t];if(!e){var i=this.map_[t];e=null!=i?{promise:"number"==typeof i?Promise.resolve(i):Promise.reject(i)}:new s,this.promiseMap_||(this.promiseMap_=m()),this.promiseMap_[t]=e}return e.promise}},{key:"signal",value:function(t,n){var e;if(null==this.map_[t]){var i=null!=n?n:Date.now();this.map_[t]=i;var r=null===(e=this.promiseMap_)||void 0===e?void 0:e[t];null!=r&&r.resolve&&(r.resolve(i),r.resolve=void 0,r.reject=void 0)}}},{key:"rejectSignal",value:function(t,n){var e;if(null==this.map_[t]){this.map_[t]=n;var i=null===(e=this.promiseMap_)||void 0===e?void 0:e[t];null!=i&&i.reject&&(i.reject(n),i.promise.catch((function(){})),i.resolve=void 0,i.reject=void 0)}}},{key:"reset",value:function(t){var n;this.map_[t]&&delete this.map_[t];var e=null===(n=this.promiseMap_)||void 0===n?void 0:n[t];e&&!e.resolve&&delete this.promiseMap_[t]}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Ce={DOM_UPDATE:"spz:dom-update",FORM_DIRTINESS_CHANGE:"spz:form-dirtiness-change",FORM_VALUE_CHANGE:"spz:form-value-change",VISIBILITY_CHANGE:"spz:visibilitychange",ATTACHED:"spz:attached",STUBBED:"spz:stubbed",LOAD_START:"spz:load-start",LOAD_END:"spz:load-end",ERROR:"spz:error",SIZE_CHANGED:"spz:size-changed",UNLOAD:"spz:unload"},Pe="CANCELLED",Ie=self.__SPZ_ERRORS||[];function Re(t,n){if(self.console){var e=console.error||console.log;t.messageArray?e.apply(console,t.messageArray):e.call(console,t.stack||t.message)}return t}function Me(t,n,e,i,r){!this||!this.document||r&&r.expected||Kn(this.document)}function De(){return new Error(Pe)}self.__SPZ_ERRORS=Ie;var Fe="scheduler",Le="50% 31.25%",Ne=function(){function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=self;this.observer_=new e.IntersectionObserver((function(t){return n.observed_(t)}),{rootMargin:Le}),this.containerMap_=new Map,this.targets_=new Map,this.parsingTargets_=[],this.scheduledReady_=!1,wt(self.document).then((function(){return n.checkParsing_()}))}var n,e;return n=t,(e=[{key:"dispose",value:function(){this.observer_.disconnect(),this.targets_.clear()}},{key:"scheduleAsap",value:function(t){this.targets_.set(t,{asap:!0,isIntersecting:!1}),this.waitParsing_(t)}},{key:"schedule",value:function(t){var n=t.deferredMount(),e=this.targets_.get(t);this.targets_.has(t)&&(n||e.isIntersecting)||(n?(this.targets_.set(t,{asap:!1,isIntersecting:!1}),this.observer_.observe(t),this.containerMap_.size>0&&this.containerMap_.forEach((function(n,e){Gt(e,t)&&n.observe(t)}))):this.targets_.set(t,{asap:!1,isIntersecting:!0}),this.waitParsing_(t))}},{key:"unschedule",value:function(t){this.targets_.has(t)&&(this.targets_.delete(t),this.observer_.unobserve(t),this.containerMap_.size>0&&this.containerMap_.forEach((function(n){n.unobserve(t)})),this.parsingTargets_&&(Z(this.parsingTargets_,t),this.checkParsing_()))}},{key:"setContainer",value:function(t,n){var e=this;if(!this.containerMap_.has(t)){var i=new self.IntersectionObserver((function(t){return e.observed_(t)}),{root:n||t,rootMargin:Le});this.containerMap_.set(t,i),this.targets_.forEach((function(n,e){!n.asap&&Gt(t,e)&&i.observe(e)}))}}},{key:"removeContainer",value:function(t){var n=this.containerMap_.get(t);n&&(n.disconnect(),this.containerMap_.delete(t))}},{key:"signalScanReady_",value:function(){kt(self.document)&&!this.scheduledReady_&&(this.scheduledReady_=!0)}},{key:"waitParsing_",value:function(t){var n=this.parsingTargets_;n?(n.includes(t)||n.push(t),this.checkParsing_()):this.maybeBuild_(t)}},{key:"checkParsing_",value:function(){var t=kt(self.document),n=this.parsingTargets_;if(n)for(var e=0;e<n.length;e++){var i=n[e];this.targets_.get(i).isIntersecting&&(t||Bt(i,self.document))&&(n.splice(e--,1),this.observerCallback_(i))}t&&(this.parsingTargets_=null,this.signalScanReady_())}},{key:"observed_",value:function(t){for(var n=0;n<t.length;n++){var e=t[n],i=e.isIntersecting,r=e.target,o=this.targets_.get(r);if(o){var u=i||o.isIntersecting;u!==o.isIntersecting&&this.targets_.set(r,{asap:o.asap,isIntersecting:u}),u&&this.observerCallback_(r)}}}},{key:"observerCallback_",value:function(t){var n=this;this.installExtension_(t).then((function(){return n.maybeBuild_(t)}))}},{key:"maybeBuild_",value:function(t){var n=this.targets_.get(t)||{asap:!1,isIntersecting:!1},e=n.asap,i=n.isIntersecting;if(e||i){this.unschedule(t);var r=self;(e||t.getBuildPriority()<=mn.CONTENT?r.setTimeout:r.requestIdleCallback||r.setTimeout)((function(){return t.mountInternal()}))}}},{key:"installExtension_",value:function(t){return SPZServices.extensionsFor(self).installExtensionForDoc(t.tagName.toLowerCase())}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Ue(){return ue(Fe,Ne),se(Fe)}function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ve(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function He(t,n,e){return n&&Ve(t.prototype,n),e&&Ve(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ge(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&We(t,n)}function We(t,n){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function $e(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,i=Qe(t);if(n){var r=Qe(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return qe(this,e)}}function qe(t,n){if(n&&("object"===Ze(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ye,Xe={bubbles:!1},Je=function(){return!0},Ke=[];function ti(t){return"placeholder"in t}function ni(t){q(!t.isInTemplate_,"Must never be called in template")}function ei(t){return!(!(e="string"==typeof(n=t)?n:n.tagName)||!e.toLowerCase().startsWith("i-"))||!(!t.tagName||!(t.hasAttribute("placeholder")||t.hasAttribute("fallback")||t.hasAttribute("overflow")));var n,e}function ii(t){return t.__SPZ_EXTENDED_ELEMENTS||(t.__SPZ_EXTENDED_ELEMENTS={}),t.__SPZ_EXTENDED_ELEMENTS}function ri(t,n){try{t.upgrade(n)}catch(t){Re(t)}}function oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();t.forEach((function(t){var n=t.extensionId;yi(n,t.extensionVersion),ui(self,n)}))}function ui(t,n){ii(t)[n]||ai(t,n,Pi)}function ai(t,n,e){ii(t)[n]=e;var i=function(t){var n=function(t){Ge(i,t);var n=$e(i);function i(){return Be(this,i),n.apply(this,arguments)}return He(i,[{key:"adoptedCallback",value:function(){Object.getPrototypeOf(this)!==e&&Object.setPrototypeOf(this,e)}}]),i}(function(t){if(t.__SPZ_BASE_CE_CLASS)return t.__SPZ_BASE_CE_CLASS;var n=function(n){Ge(i,n);var e=$e(i);function i(){var t;return Be(this,i),(t=e.call(this)).createdCallback(),t}return He(i,[{key:"createdCallback",value:function(){this.built_=!1,this.isConnected_=!1,this.buildingPromise_=null,this.mounted_=!1,this.mountPromise_=null,this.mountAbortController_=null,this.readyState_="upgrading",this.everAttached=!1,this.layout_=dn.NODISPLAY,this.sizerElement=void 0,this.overflowElement_=void 0;var n=t.__SPZ_EXTENDED_ELEMENTS&&t.__SPZ_EXTENDED_ELEMENTS[this.localName];this.implClass_=n===Pi?null:n||null,this.implClass_||Ke.push(this),this.impl_=null,this.upgradeState_=1,this.upgradeDelayMs_=0,this.actionQueue_=void 0,this.isInTemplate_=void 0,this.signals_=new Te,this.implClass_&&this.signals_.signal(me)}},{key:"readyState",get:function(){return this.readyState_}},{key:"signals",value:function(){return this.signals_}},{key:"isUpgraded",value:function(){return 2==this.upgradeState_}},{key:"whenUpgraded",value:function(){return this.signals_.whenSignal(be)}},{key:"upgrade",value:function(t){this.isInTemplate_||1==this.upgradeState_&&(this.implClass_=t,this.signals_.signal(me),this.everAttached&&this.upgradeOrSchedule_())}},{key:"getUpgradeDelayMs",value:function(){return this.upgradeDelayMs_}},{key:"completeUpgrade_",value:function(n,e){this.impl_=n,this.upgradeDelayMs_=t.Date.now()-e,this.upgradeState_=2,this.setReadyStateInternal(je),this.classList.remove("spz-unresolved"),this.classList.remove("i-spzhtml-unresolved"),this.assertLayout_(),this.signals_.signal(be)}},{key:"assertLayout_",value:function(){this.layout_!=dn.NODISPLAY&&this.impl_&&!this.impl_.isLayoutSupported(this.layout_)&&(q(this.getAttribute("layout"),"The element did not specify a layout attribute. "),q(!1,"Layout not supported: ".concat(this.layout_)))}},{key:"getBuildPriority",value:function(){return this.implClass_?this.implClass_.getBuildPriority(this):mn.BACKGROUND}},{key:"getDefaultActionAlias",value:function(){return q(this.isUpgraded(),"Cannot get default action alias of unupgraded element"),this.impl_.getDefaultActionAlias()}},{key:"isBuilding",value:function(){return!!this.buildingPromise_}},{key:"isBuilt",value:function(){return this.built_}},{key:"isMount",value:function(){return this.mounted_}},{key:"whenBuilt",value:function(){return this.signals_.whenSignal(ke)}},{key:"buildInternal",value:function(){var t=this;if(ni(this),q(this.implClass_,"Cannot build unupgraded element"),this.buildingPromise_)return this.buildingPromise_;this.setReadyStateInternal(je);var n=this.createImpl_().then((function(){q(t.impl_).buildCallback()}));return this.buildingPromise_=n.then((function(){if(t.built_=!0,t.classList.add("i-spzhtml-built"),t.classList.remove("i-spzhtml-notbuilt"),t.classList.remove("spz-notbuilt"),t.signals_.signal(ke),t.setReadyStateInternal(t.readyState_!=je?t.readyState_:Ee),t.isConnected_&&t.connected_(),!t.getPlaceholder()){var n=t.createPlaceholder();n&&t.appendChild(n)}}),(function(n){throw t.signals_.rejectSignal(ke,n),t.setReadyStateInternal(_e,n),n}))}},{key:"build",value:function(){var t=this;return this.buildingPromise_?this.buildingPromise_:this.signals_.whenSignal(me).then((function(){return Ue().scheduleAsap(t),t.whenBuilt()}))}},{key:"mountInternal",value:function(){var t=this;if(this.mountPromise_)return this.mountPromise_;this.mountAbortController_=this.mountAbortController_||new AbortController;var n=this.mountAbortController_.signal;return this.mountPromise_=this.buildInternal().then((function(){if(!n.aborted){t.setReadyStateInternal(t.readyState_!=Ee?t.readyState_:t.implClass_.usesLoading(t)?Ae:Ee),t.mounted_=!0;var e=t.impl_.mountCallback(n);return!!e&&e.then(Je)}})).then((function(e){if(t.mountAbortController_=null,n.aborted)throw De();t.signals_.signal(we),t.implClass_.usesLoading(t)&&!e||t.setReadyStateInternal(xe),t.actionQueue_&&gi.timerFor(t.ownerDocument.defaultView).delay(t.dequeueActions_.bind(t),1)})).catch((function(n){var e;throw t.mountAbortController_=null,(e=n)&&("string"==typeof e?e.startsWith(Pe):"string"==typeof e.message&&e.message.startsWith(Pe))?t.mountPromise_=null:(t.signals_.rejectSignal(we,n),t.setReadyStateInternal(_e,n)),n}))}},{key:"mount",value:function(){var t=this;if(this.mountPromise_)return this.mountPromise_;this.mountAbortController_=this.mountAbortController_||new AbortController;var n=this.mountAbortController_.signal;return this.signals_.whenSignal(me).then((function(){if(n.aborted)throw De();return Ue().scheduleAsap(t),t.whenMounted()}))}},{key:"unmount",value:function(){this.mountAbortController_&&(this.mountAbortController_.abort(),this.mountAbortController_=null),Ue().unschedule(this),this.mounted_&&this.impl_.unmountCallback(),this.mounted_=!1,this.mountPromise_=null,this.reset_(),this.isConnected_&&this.upgradeOrSchedule_(!0)}},{key:"whenMounted",value:function(){return this.signals_.whenSignal(we)}},{key:"whenLoaded",value:function(){return this.signals_.whenSignal(Se)}},{key:"ensureLoaded",value:function(){var t=this;return this.mount().then((function(){return t.implClass_.usesLoading(t)&&t.impl_.ensureLoaded(),t.whenLoaded()}))}},{key:"setAsContainerInternal",value:function(t){Ue().setContainer(this,t)}},{key:"removeAsContainerInternal",value:function(){Ue().removeContainer(this)}},{key:"setReadyStateInternal",value:function(t,n){if(t!==this.readyState_)switch(this.readyState_=t,t){case Ae:return this.signals_.signal(ge),this.signals_.reset(Oe),this.signals_.reset(Se),void this.classList.add("i-spzhtml-layout");case xe:return this.signals_.signal(ge),this.signals_.signal(Se),this.signals_.reset(Oe),this.classList.add("i-spzhtml-layout"),void Ht(this,"load",null,Xe);case _e:return this.signals_.rejectSignal(Se,n),void Ht(this,"error",n,Xe)}}},{key:"deferredMount",value:function(){return!this.implClass_||this.implClass_.deferredMount(this)}},{key:"getSizer_",value:function(){return void 0!==this.sizerElement||this.layout_!==dn.RESPONSIVE&&this.layout_!==dn.INTRINSIC||(this.sizerElement=this.querySelector("i-spzhtml-sizer")),this.sizerElement||null}},{key:"resetSizer_",value:function(t){if(this.layout_!==dn.RESPONSIVE)if(this.layout_!==dn.INTRINSIC);else{var n=t.querySelector(".i-spzhtml-intrinsic-sizer");if(!n)return;n.setAttribute("src","")}else sn(t,"paddingTop","0")}},{key:"applySize",value:function(t,n,e){var i=this.getSizer_();i&&(this.sizerElement=null,this.resetSizer_(i),this.mutateOrInvoke_((function(){i&&Lt(i)}))),void 0!==t&&sn(this,"height",t,"px"),void 0!==n&&sn(this,"width",n,"px"),e&&(null!=e.top&&sn(this,"marginTop",e.top,"px"),null!=e.right&&sn(this,"marginRight",e.right,"px"),null!=e.bottom&&sn(this,"marginBottom",e.bottom,"px"),null!=e.left&&sn(this,"marginLeft",e.left,"px")),this.isAwaitingSize_()&&this.sizeProvided_(),Ht(this,Ce.SIZE_CHANGED)}},{key:"connectedCallback",value:function(){if(function(){if(void 0===Ye){var t=self.document.createElement("template");Ye="content"in t}return Ye}()||void 0!==this.isInTemplate_||(this.isInTemplate_=!!_t(this,"template")),!this.isInTemplate_&&!this.isConnected_&&Ut(this))if(this.isConnected_=!0,this.everAttached||(this.classList.add("i-spzhtml-element"),this.classList.add("i-spzhtml-notbuilt"),this.classList.add("spz-notbuilt")),this.everAttached)this.reconstructWhenReparented()&&this.reset_(),this.isUpgraded()&&this.connected_(),this.implClass_?this.upgradeOrSchedule_():Ue().schedule(this);else{this.everAttached=!0;try{this.layout_=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.getAttribute("i-spzhtml-layout");if(e){var i=q(gn(e));return i!=dn.RESPONSIVE&&i!=dn.INTRINSIC||!t.firstElementChild?i==dn.NODISPLAY&&(cn(t,!1),t.style.display=""):(t.sizerElement=t.querySelector("i-spzhtml-sizer")||void 0,t.sizerElement&&t.sizerElement.setAttribute("slot","i-spzhtml-svc")),i}var r=t.getAttribute("layout"),o=t.getAttribute("width"),u=t.getAttribute("height"),a=t.getAttribute("sizes"),s=t.getAttribute("heights"),l=r?gn(r):null;q(l,'Invalid "layout" value: %s, %s',r,t);var c=o&&"auto"!=o?On(o):o;q(void 0!==c,'Invalid "width" value: %s, %s',o,t);var f,h,v,y=u&&"fluid"!=u?On(u):u;if(q(void 0!==y,'Invalid "height" value: %s, %s',u,t),l&&l!=dn.FIXED&&l!=dn.FIXED_HEIGHT||c&&y||!An(t.tagName))f=c,h=y;else{var p=xn(t);f=c||l==dn.FIXED_HEIGHT?c:p.width,h=y||p.height}if(((v=l||(f||h?"fluid"==h?dn.FLUID:!h||f&&"auto"!=f?h&&f&&(a||s)?dn.RESPONSIVE:dn.FIXED:dn.FIXED_HEIGHT:dn.CONTAINER))==dn.FIXED||v==dn.FIXED_HEIGHT||v==dn.RESPONSIVE||v==dn.INTRINSIC&&!pn.includes(t.tagName))&&q(h,'The "height" attribute is missing: %s',t),v==dn.FIXED_HEIGHT&&q(!f||"auto"==f,'The "width" attribute must be missing or "auto": %s',t),v!=dn.FIXED&&v!=dn.RESPONSIVE&&v!=dn.INTRINSIC||q(f&&"auto"!=f,'The "width" attribute must be present and not "auto": %s',t),v==dn.RESPONSIVE||v==dn.INTRINSIC&&!pn.includes(t.tagName)?q(jn(f)==jn(h),'Length units should be the same for "width" and "height": %s, %s, %s',o,u,t):q(null===s,'"heights" attribute must be missing: %s',t),t.classList.add(zn(v)),Sn(v)&&t.classList.add("i-spzhtml-layout-size-defined"),v==dn.NODISPLAY)cn(t,!1),t.style.display="";else if(v==dn.FIXED)ln(t,{width:Y(f),height:Y(h)});else if(v==dn.FIXED_HEIGHT)sn(t,"height",Y(h));else if(v==dn.RESPONSIVE)if(_n(t.ownerDocument.defaultView))sn(t,"aspect-ratio","".concat(En(f),"/").concat(En(h)));else{var d=t.ownerDocument.createElement("i-spzhtml-sizer");d.setAttribute("slot","i-spzhtml-svc"),ln(d,{paddingTop:En(h)/En(f)*100+"%"}),t.insertBefore(d,t.firstChild),t.sizerElement=d}else if(v==dn.INTRINSIC){if(!h)return t.setAttribute("i-spzhtml-unheight-layout",""),sn(t,"width",f),v;var m=en(t)(yn);m.firstElementChild.setAttribute("src",n&&t.ownerDocument?vn(t.ownerDocument,X(En(f)),X(En(h))):'data:image/svg+xml;charset=utf-8,<svg height="'.concat(h,'" width="').concat(f,'" xmlns="http://www.w3.org/2000/svg" version="1.1"/>')),t.insertBefore(m,t.firstChild),t.sizerElement=m}else v==dn.FILL||v==dn.CONTAINER||(v==dn.FLEX_ITEM?(f&&sn(t,"width",f),h&&sn(t,"height",h)):v==dn.FLUID&&(t.classList.add("i-spzhtml-layout-awaiting-size"),f&&sn(t,"width",f),sn(t,"height",0)));return t.setAttribute("i-spzhtml-layout",v),v}(this,gi.platformFor(this.ownerDocument.defaultView).isIe())}catch(t){Re(t)}this.implClass_?this.upgradeOrSchedule_():Ue().schedule(this),this.isUpgraded()||(this.classList.add("spz-unresolved"),this.classList.add("i-spzhtml-unresolved"))}}},{key:"isAwaitingSize_",value:function(){return this.classList.contains("i-spzhtml-layout-awaiting-size")}},{key:"sizeProvided_",value:function(){this.classList.remove("i-spzhtml-layout-awaiting-size")}},{key:"upgradeOrSchedule_",value:function(t){this.mountPromise_||(Ue().schedule(this),this.buildingPromise_?this.setReadyStateInternal(this.implClass_&&this.implClass_.usesLoading(this)?Ae:Ee):this.setReadyStateInternal(je))}},{key:"tryUpgrade_",value:function(){var n=this;if(!this.isInTemplate_&&1==this.upgradeState_){var e=new(q(this.implClass_,"Implementation must not be a stub"))(this);this.upgradeState_=4;var i=t.Date.now(),r=e.upgradeCallback();if(r){if("function"==typeof r.then)return r.then((function(t){n.completeUpgrade_(t||e,i)})).catch((function(t){n.upgradeState_=3,j(t)}));this.completeUpgrade_(r,i)}else this.completeUpgrade_(e,i)}}},{key:"disconnectedCallback",value:function(){this.disconnect(!1)}},{key:"connected_",value:function(){this.built_&&this.impl_.attachedCallback()}},{key:"disconnect",value:function(t){!this.isInTemplate_&&this.isConnected_&&(!t&&Ut(this)||(t&&this.classList.remove("i-spzhtml-element"),this.isConnected_=!1,this.impl_&&this.impl_.detachedCallback(),this.unmount()))}},{key:"prerenderAllowed",value:function(){return!this.hasAttribute("noprerender")&&!!this.implClass_&&this.implClass_.prerenderAllowed(this)}},{key:"isBuildRenderBlocking",value:function(){return!!this.impl_&&this.impl_.isBuildRenderBlocking()}},{key:"createPlaceholder",value:function(){return this.impl_?this.impl_.createPlaceholderCallback():null}},{key:"createLoaderLogo",value:function(){return this.implClass_?this.implClass_.createLoaderLogoCallback(this):{}}},{key:"getImpl",value:function(){var t=this;return(arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.createImpl_():this.build()).then((function(){return t.impl_}))}},{key:"createImpl_",value:function(){var t=this;return this.signals_.whenSignal(me).then((function(){return t.tryUpgrade_(),t.whenUpgraded()}))}},{key:"getApi",value:function(){return this.getImpl().then((function(t){return t.getApi()}))}},{key:"getData",value:function(){return this.getImpl().then((function(t){return t.getData()}))}},{key:"getLayout",value:function(){return this.layout_}},{key:"reset_",value:function(){this.signals_.reset(we),this.signals_.reset(ze),this.signals_.reset(ge),this.signals_.reset(Se),this.signals_.reset("ini-load")}},{key:"reconstructWhenReparented",value:function(){return!!this.impl_&&this.impl_.reconstructWhenReparented()}},{key:"mutatedAttributesCallback",value:function(t){this.impl_&&this.impl_.mutatedAttributesCallback(t)}},{key:"enqueAction",value:function(t){ni(this),this.isBuilt()&&this.isMount()?this.executionAction_(t,!1):(void 0===this.actionQueue_&&(this.actionQueue_=[]),q(this.actionQueue_).push(t),this.isBuilt()?this.mount():this.build())}},{key:"dequeueActions_",value:function(){var t=this;this.actionQueue_&&gi.timerFor(this.ownerDocument.defaultView).delay((function(){var n=q(t.actionQueue_);t.actionQueue_=void 0,n.forEach((function(n){t.executionAction_(n,!0)}))}),1)}},{key:"executionAction_",value:function(t,n){try{this.impl_.executeAction(t,n)}catch(n){j("Action execution failed:",n,t.node.tagName,t.method)}}},{key:"getRealChildNodes",value:function(){return function(t,n){for(var e=[],i=t.firstChild;i;i=i.nextSibling)!ei(i)&&e.push(i);return e}(this)}},{key:"getRealChildren",value:function(){return Ct(this,(function(t){return!ei(t)}))}},{key:"getPlaceholder",value:function(){return Tt(this,(function(t){return t.hasAttribute("placeholder")&&!ti(t)}))}},{key:"togglePlaceholder",value:function(t){if(ni(this),t){var n=this.getPlaceholder();n&&Q(n).classList.remove("spz-hidden")}else for(var e=(St("placeholder"),Et(this,"> [".concat("placeholder","]"))),i=0;i<e.length;i++)ti(e[i])||e[i].classList.add("spz-hidden")}},{key:"renderStarted",value:function(){this.signals_.signal(ze),this.togglePlaceholder(!1)}},{key:"getOverflowElement",value:function(){return void 0===this.overflowElement_&&(this.overflowElement_=(St("overflow"),jt(this,"> [".concat("overflow","]"))),this.overflowElement_&&(this.overflowElement_.hasAttribute("tabindex")||this.overflowElement_.setAttribute("tabindex","0"),this.overflowElement_.hasAttribute("role")||this.overflowElement_.setAttribute("role","button"))),this.overflowElement_}},{key:"mutateOrInvoke_",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];gi.mutatorForDoc().mutateElement(n||this,t,e)}},{key:"showToast",value:function(t,n,e){this.getImpl().then((function(i){return i.showToast(t,n,e)}))}}]),i}(t.HTMLElement);return t.__SPZ_BASE_CE_CLASS=n,t.__SPZ_BASE_CE_CLASS}(t)),e=n.prototype;return n}(t);t.customElements.define(n,i)}var si="extensions",li="0.1",ci="latest",fi="__SPZ_EXT_LDR",hi=["spz-img"];function vi(t){return self.__SPZ_DECLARE_EXTENSION||(self.__SPZ_DECLARE_EXTENSION={}),self.__SPZ_DECLARE_EXTENSION[t]||null}function yi(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;self.__SPZ_DECLARE_EXTENSION||(self.__SPZ_DECLARE_EXTENSION={}),q(!self.__SPZ_DECLARE_EXTENSION[t]||self.__SPZ_DECLARE_EXTENSION[t]===n,"extension already declared %s",t),self.__SPZ_DECLARE_EXTENSION[t]=n}function pi(t,n){var e=vi(t);return!(!e||n&&e!==n)}var di=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.extensions_={},this.currentExtensionId_=null,this.currentExtensionVersion_=null,this.currentExtensionLatest_=null}var n,e;return n=t,(e=[{key:"registerExtension",value:function(t,n,e,i,r){var o,u=e?this.extensions_[bi(t,ci)]:null,a=this.getExtensionHolder_(t,n,null===(o=null==u?void 0:u.auto)||void 0===o||o);if(a.latest=e,!a.loaded){e&&(this.extensions_[bi(t,ci)]=a);try{var s,l;this.currentExtensionId_=t,this.currentExtensionVersion_=n,this.currentExtensionLatest_=e,i(r,r._),a.loaded=!0,null===(s=a.resolve)||void 0===s||s.call(a,a.extension),null==u||null===(l=u.resolve)||void 0===l||l.call(u,a.extension)}catch(t){var c,f;throw a.error=t,null===(c=a.reject)||void 0===c||c.call(a,t),null==u||null===(f=u.reject)||void 0===f||f.call(u,t),t}finally{this.currentExtensionId_=null,this.currentExtensionVersion_=null,this.currentExtensionLatest_=null}}}},{key:"waitForExtension",value:function(t,n){var e=this.waitFor_(this.getExtensionHolder_(t,n));return gi.timerFor(this.win).timeoutPromise(16e3,e).catch((function(n){if(!n.message.includes("timeout"))throw n;return re().error(si,"Waited over 16s to load extension ".concat(t,".")),e}))}},{key:"preloadExtension",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li,e=this.getExtensionHolder_(t,n);return this.insertExtensionScriptIfNeeded_(t,n,e),this.waitFor_(e)}},{key:"installExtensionForDoc",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;if(hi.includes(t))return a();var i=self.document,r=i[fi];return r||(r=i[fi]=m()),r[t]?r[t]:(yi(t,e),ui(self,t),r[t]=this.preloadExtension(t,e).then((function(){return n.installExtensionInDoc(t,e)})))}},{key:"reloadExtension",value:function(t,n,e){var i=$n(this.win,t,n,e,!1),r=this.extensions_[bi(t,n)];return r&&(q(!r.loaded&&!r.error),r.scriptPresent=!1),i.forEach((function(n){return n.setAttribute("i-spzhtml-loaded-new-version",t)})),this.preloadExtension(t,n)}},{key:"importUnwrapped",value:function(t,n){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=$n(t,n,i,r),u=o.length>0?o[0]:null;return u?e=u.__SPZ_SCR_LOADED:(e=(u=Wn(this.win,n,i)).__SPZ_SCR_LOADED=new Promise((function(t,n){u.onload=t,u.onerror=n})),t.document.head.appendChild(u)),e}},{key:"loadElementClass",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;return this.preloadExtension(t,n).then((function(n){return q(n.elements[t],"Element not found: %s",t).implementationClass}))}},{key:"addElement",value:function(t,n,e){var i=this;this.getCurrentExtensionHolder_(t).extension.elements[t]={implementationClass:n,css:e},this.addDocFactory((function(){i.installElement_(t,n,e)}))}},{key:"installElement_",value:function(t,n,e){var i=this;e?Yn(e,(function(){i.registerElementInWindow_(self,t,n)}),!1,t):this.registerElementInWindow_(self,t,n)}},{key:"registerElementInWindow_",value:function(t,n,e){(function(t,n,e){!function(t,n,e){var i=ii(t);if(i[n]){if(i[n]!=e){q(i[n]==Pi,"%s is already registered. The script tag for %s is likely included twice in the page.",n,n),i[n]=e;for(var r=0;r<Ke.length;r++){var o=Ke[r];o.tagName.toLowerCase()==n&&o.ownerDocument.defaultView==t&&(ri(o,e),Ke.splice(r--,1))}}}else ai(t,n,e)}(t,n,e)})(t,n,e),oe(t,n,mi)}},{key:"addService",value:function(t,n){this.getCurrentExtensionHolder_(t).extension.services.push({serviceName:t,serviceClass:n}),this.addDocFactory((function(){ue(t,n,!0)}))}},{key:"addDocFactory",value:function(t,n){var e=this.getCurrentExtensionHolder_(n);if(e.docFactories.push(t),this.currentExtensionId_){var i=Y(this.currentExtensionId_),r=Y(this.currentExtensionVersion_),o=this.currentExtensionLatest_||!1;(pi(i,r)||o&&pi(i,ci)||e.auto)&&t()}}},{key:"installExtensionInDoc",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;return yi(t,e),this.waitFor_(this.getExtensionHolder_(t,e)).then((function(){n.getExtensionHolder_(t,e).docFactories.forEach((function(n){try{n()}catch(n){j("Doc factory failed: ",n,t)}}))}))}},{key:"getExtensionHolder_",value:function(t,n,e){var i=bi(t,n),r=this.extensions_[i];return r||(r={version:n,latest:n==ci,extension:{elements:{},services:[]},auto:e||!1,docFactories:[],promise:void 0,resolve:void 0,reject:void 0,loaded:void 0,error:void 0,scriptPresent:void 0},this.extensions_[i]=r),r}},{key:"getCurrentExtensionHolder_",value:function(t){return this.currentExtensionId_||Un(this.win).test||re().error(si,"unknown extension for ",t),this.getExtensionHolder_(this.currentExtensionId_||"_UNKNOWN_",this.currentExtensionVersion_||"")}},{key:"waitFor_",value:function(t){if(!t.promise)if(t.loaded)t.promise=Promise.resolve(t.extension);else if(t.error)t.promise=Promise.reject(t.error);else{var n=new s;t.promise=n.promise,t.resolve=n.resolve,t.reject=n.reject}return t.promise}},{key:"insertExtensionScriptIfNeeded_",value:function(t,n,e){if(this.isExtensionScriptRequired_(t,n,e)){var i=Wn(this.win,t,n);this.win.document.head.appendChild(i),e.scriptPresent=!0}}},{key:"isExtensionScriptRequired_",value:function(t,n,e){if(e.loaded||e.error)return!1;if(void 0===e.scriptPresent){var i=$n(this.win,t,n,e.latest);e.scriptPresent=i.length>0}return!e.scriptPresent}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function mi(){return{}}function bi(t,n){return"".concat(t,":").concat(n)}function ki(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wi,gi=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"actionServiceForDoc",value:function(){return le("action")}},{key:"templatesForDoc",value:function(){return le("templates")}},{key:"extensionsFor",value:function(t){return ae(t,"extensions")}},{key:"mutatorForDoc",value:function(){return se("mutator")}},{key:"platformFor",value:function(t){return ae(t,"platform")}},{key:"timerFor",value:function(t){return function(t,n){return he(t,"timer")}(t)}},{key:"urlForDoc",value:function(){return le("url")}},{key:"viewerForDoc",value:function(){return se("viewer")}},{key:"viewerPromiseForDoc",value:function(){return ce("viewer")}},{key:"vsyncFor",value:function(t){return ae(t,"vsync")}},{key:"viewportForDoc",value:function(){return se("viewport")}},{key:"xhrFor",value:function(t){return ae(t,"xhr")}},{key:"batchedXhrFor",value:function(t){return ae(t,"batched-xhr")}},{key:"scriptForDocOrNull",value:function(t){return"spz-script",(n=le("spz-script"))?Promise.resolve(n):function(t,n,e,i){var r=function(t){return ye(self,t)}(n);if(r)return r;var o=vi(e);return o?ae(self,"extensions").waitForExtension(e,o).then((function(t){return t?ce(n):null})):null}(0,"spz-script","spz-script");var n}},{key:"localeFor",value:function(t){return ae(t,"spz-locale")}}])&&ki(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function zi(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function Si(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?zi(Object(e),!0).forEach((function(n){Oi(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):zi(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Oi(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ji(t,n,e,i){var r=t,o=e,u=function(t){try{return o(t)}catch(t){var n,e;throw null===(n=(e=self).__SPZ_REPORT_ERROR)||void 0===n||n.call(e,t),t}},a=function(){if(void 0!==wi)return wi;wi=!1;try{var t={get capture(){wi=!0}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return wi}(),s=!(null==i||!i.capture);return r.addEventListener(n,u,a?i:s),function(){var t;null===(t=r)||void 0===t||t.removeEventListener(n,u,a?i:s),o=null,r=null,u=null}}function Ei(t,n,e,i){var r={detail:e};if(Object.assign(r,i),"function"==typeof t.CustomEvent)return new t.CustomEvent(n,r);var o=t.document.createEvent("CustomEvent");return o.initCustomEvent(n,!!r.bubbles,!!r.cancelable,e),o}function Ai(t,n,e,i){return ji(t,n,e,i)}function xi(t){return t.data}function _i(t,n,e,i){var r=e,o=ji(t,n,(function(t){try{r(t)}finally{r=null,o()}}),i);return o}function Ti(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}function Ci(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Pi=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.win=n.ownerDocument.defaultView,this.actionMap_=null,this.defaultActionAlias_=null}var n,e,i;return n=t,i=[{key:"deferredMount",value:function(t){return!0}},{key:"prerenderAllowed",value:function(t){return!1}},{key:"usesLoading",value:function(t){return!1}},{key:"createLoaderLogoCallback",value:function(t){return{}}},{key:"getBuildPriority",value:function(t){return mn.CONTENT}}],(e=[{key:"signals",value:function(){return this.element.signals()}},{key:"getDefaultActionAlias",value:function(){return this.defaultActionAlias_}},{key:"getLayout",value:function(){return this.element.getLayout()}},{key:"getWin",value:function(){return this.win}},{key:"getVsync",value:function(){return gi.vsyncFor(this.win)}},{key:"isLayoutSupported",value:function(t){return t==dn.NODISPLAY}},{key:"upgradeCallback",value:function(){return null}},{key:"buildCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"setAsContainer",value:function(t){this.element.setAsContainerInternal(t)}},{key:"removeAsContainer",value:function(){this.element.removeAsContainerInternal()}},{key:"isBuildRenderBlocking",value:function(){return!1}},{key:"createPlaceholderCallback",value:function(){return null}},{key:"ensureLoaded",value:function(){}},{key:"setReadyState",value:function(t,n){this.element.setReadyStateInternal(t,n)}},{key:"mountCallback",value:function(t){}},{key:"unmountCallback",value:function(){}},{key:"firstLayoutCompleted",value:function(){this.togglePlaceholder(!1)}},{key:"reconstructWhenReparented",value:function(){return!0}},{key:"loadPromise",value:function(t){return function(t){var n,e;if(function(t){return!!(t.complete||"complete"==t.readyState||Ti(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);var i=Ti(t);return i&&t.__SPZ_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise((function(r,o){if(n=i?_i(t,"loadedmetadata",r,{capture:!0}):_i(t,"load",r),t.tagName){var u=t;if(i&&!t.hasAttribute("src")&&!(u=Tt(t,(function(t){return"SOURCE"===t.tagName}))))return o(new Error("Media has no source."));e=_i(u,"error",o)}})).then((function(){return e&&e(),t}),(function(){n&&n(),function(t){Ti(t)&&(t.__SPZ_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);var n=t;throw n&&n.src&&(n=n.src),new Error("Failed to load:")}(t)}))}(t)}},{key:"registerAction",value:function(t,n){Ii(this),this.actionMap_[t]={handler:n}}},{key:"registerDefaultAction",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"activate";q(!this.defaultActionAlias_,'Default action "%s" already registered.',this.defaultActionAlias_),this.registerAction(n,t),this.defaultActionAlias_=n}},{key:"executeAction",value:function(t,n){var e=t.method;"activate"===e&&(e=this.defaultActionAlias_||e),Ii(this);var i=this.actionMap_[e],r=this.element.tagName;return q(i,"Method not found: ".concat(e," in ").concat(r)),(0,i.handler)(t)}},{key:"propagateAttributes",value:function(t,n,e){t=N(t)?t:[t];for(var i=0;i<t.length;i++){var r=t[i],o=this.element.getAttribute(r);null!==o?n.setAttribute(r,o):e&&n.removeAttribute(r)}}},{key:"forwardEvents",value:function(t,n){var e=this,i=(N(t)?t:[t]).map((function(t){return Ai(n,t,(function(n){Ht(e.element,t,xi(n)||{})}))}));return function(){return i.forEach((function(t){return t()}))}}},{key:"getPlaceholder",value:function(){return this.element.getPlaceholder()}},{key:"togglePlaceholder",value:function(t){this.element.togglePlaceholder(t)}},{key:"getFallback",value:function(){return this.element.getFallback()}},{key:"getOverflowElement",value:function(){return this.element.getOverflowElement()}},{key:"renderStarted",value:function(){this.element.renderStarted()}},{key:"getRealChildNodes",value:function(){return this.element.getRealChildNodes()}},{key:"getRealChildren",value:function(){return this.element.getRealChildren()}},{key:"applyFillContent",value:function(t,n){t.classList.add("i-spzhtml-fill-content"),n&&t.classList.add("i-spzhtml-replaced-content")}},{key:"getViewport",value:function(){return gi.viewportForDoc()}},{key:"mutateElement",value:function(t,n){return this.measureMutateElement(null,t,n)}},{key:"measureMutateElement",value:function(t,n,e){return gi.mutatorForDoc().measureMutateElement(e||this.element,t,n)}},{key:"mutatedAttributesCallback",value:function(t){}},{key:"logger",value:function(){return re(this.element)}},{key:"assert",value:function(){return q.apply(this,arguments)}},{key:"assertElement",value:function(){return Q.apply(this,arguments)}},{key:"getApi",value:function(){return this}},{key:"getData",value:function(){return a()}},{key:"showToast",value:function(t){var n,e,i=this;"string"==typeof t?n=t:(n=t.text,e=t.duration),SPZServices.extensionsFor(this.win).installExtensionForDoc("spz-toast").then((function(){var t=i.win.document.getElementsByClassName("i-spzhtml-toast-global");if(t.length)t[0].showToast(n,e);else{var r=i.win.document.createElement("spz-toast");r.setAttribute("layout","nodisplay"),r.classList.add("i-spzhtml-toast-global"),self.document.body.appendChild(r),r.showToast(n,e)}}))}},{key:"show",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.parent,i=void 0===e?this.element:e,r=n.type,o=void 0===r?"loading":r,u=this.element.hasAttribute("has-loading"),s=this.element.hasAttribute("has-mask");o=u?"loading":s?"mask":o;var l=function(n){return t.win.document.activeElement&&t.win.document.activeElement.blur(),SPZCore.Dom.toggle(n,!0),n},c=function(){var t=Array.prototype.find.call(i.children,(function(t){return t.getAttribute("role")===o}));if(t)return Promise.resolve(l(t))};if(!u&&!s)return a();var f=c();return f||SPZServices.extensionsFor(this.win).installExtensionForDoc("spz-loading").then((function(){var n=c();return n||((n=t.win.document.createElement("spz-loading")).setAttribute("layout","container"),n.setAttribute("role",o),"mask"===o&&n.setAttribute("has-mask",""),i.appendChild(n),l(n))}))}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parent,e=void 0===n?this.element:n,i=t.type,r=void 0===i?"loading":i,o=this.element.hasAttribute("has-loading"),u=this.element.hasAttribute("has-mask");if(r=o?"loading":u?"mask":r,!o&&!u)return a();var s=Array.prototype.find.call(e.children,(function(t){return t.getAttribute("role")===r}));s&&SPZCore.Dom.toggle(s,!1)}}])&&Ci(n.prototype,e),i&&Ci(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Ii(t){t.actionMap_||(t.actionMap_=t.win.Object.create(null))}function Ri(t){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Di="Action",Fi="__SPZ_ACTION_MAP__"+Math.random(),Li="__SPZ_ACTION_QUEUE__",Ni="__SPZ_ACTION_HANDLER__",Ui={"form":["submit","clear","insert","init","focus","check"]},Zi={"button":!0,"checkbox":!0,"link":!0,"listbox":!0,"menuitem":!0,"menuitemcheckbox":!0,"menuitemradio":!0,"option":!0,"radio":!0,"scrollbar":!0,"slider":!0,"spinbutton":!0,"switch":!0,"tab":!0,"treeitem":!0},Bi=["tap","submit","change","input-debounced","input-throttled","valid","invalid"],Vi=/\(([^)]+)\)/,Hi=new RegExp(/^event(\.[a-zA-Z_][\w]*)+$/),Gi="eventChange",Wi=function t(n,e,i,r,o,u){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"?",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Math.random();Mi(this,t),this.node=n,this.method=e,this.args=i,this.source=r,this.caller=o,this.event=u,this.actionEventType=a,this.tagOrTarget=s||n.tagName,this.sequenceId=l},$i=function(){function t(){var n=this;Mi(this,t),this.root_=self.document,this.globalTargets_=m(),this.globalMethodHandlers_=m(),Bi.forEach((function(t){return n.addEvent(t)}))}var n,e;return n=t,(e=[{key:"addEvent",value:function(t){var n=this;if("tap"==t)this.root_.addEventListener("click",(function(e){if(!e.defaultPrevented){var i=Q(e.target);n.trigger(i,t,e)}})),this.root_.addEventListener("keydown",(function(e){var i=e.key,r=Q(e.target);if("Enter"==i||" "==i){var o=r.getAttribute("role"),u=o&&k(Zi,o.toLowerCase());!e.defaultPrevented&&u&&n.trigger(r,t,e)&&e.preventDefault()}}));else if("submit"==t)this.root_.addEventListener(t,(function(e){var i=Q(e.target);n.trigger(i,t,e)}));else if("change"==t)this.root_.addEventListener(t,(function(e){var i=Q(e.target);n.addTargetPropertiesAsDetail_(e),n.trigger(i,t,e)}));else if("input-debounced"==t){var e=H(self,(function(e){var i=Q(e.target);n.trigger(i,t,e)}),300);this.root_.addEventListener("input",(function(t){var i=new Qi(t);n.addTargetPropertiesAsDetail_(i),e(i)}))}else if("input-throttled"==t){var i=V(self,(function(e){var i=Q(e.target);n.trigger(i,t,e)}),100);this.root_.addEventListener("input",(function(t){var e=new Qi(t);n.addTargetPropertiesAsDetail_(e),i(e)}))}else"valid"!=t&&"invalid"!=t||this.root_.addEventListener(t,(function(e){var i=Q(e.target);n.trigger(i,t,e)}))}},{key:"addGlobalTarget",value:function(t,n){this.globalTargets_[t]=n}},{key:"addGlobalMethodHandler",value:function(t,n){this.globalMethodHandlers_[t]={handler:n}}},{key:"trigger",value:function(t,n,e,i){return this.action_(t,n,e,i)}},{key:"execute",value:function(t,n,e,i,r,o){var u=new Wi(t,n,e,i,r,o);this.invoke_(u)}},{key:"installActionHandler",value:function(t,n){var e=t.getAttribute("id")||"";if(q(qi(e)||t.tagName.toLowerCase()in Ui,"SPZ or special element expected: %s",t.tagName+"#"+e),t[Ni])re().error(Di,"Action handler already installed for ".concat(t));else{t[Ni]=n;var i=t[Li];N(i)&&gi.timerFor(t.ownerDocument.defaultView).delay((function(){i.forEach((function(t){try{n(t)}catch(n){re().error(Di,"Action execution failed:",t,n)}})),t[Li].length=0}),1)}}},{key:"hasAction",value:function(t,n,e){return!!this.findAction_(t,n,e)}},{key:"hasResolvableAction",value:function(t,n,e){var i=this,r=this.findAction_(t,n,e);return!!r&&r.actionInfos.some((function(t){var n=t.target;return!!i.getActionNode_(n)}))}},{key:"hasResolvableActionForTarget",value:function(t,n,e,i){var r=this,o=this.findAction_(t,n,i);return!!o&&o.actionInfos.some((function(t){var n=t.target;return r.getActionNode_(n)==e}))}},{key:"getActionNode_",value:function(t){return this.globalTargets_[t]?this.root_:this.root_.getElementById(t)}},{key:"action_",value:function(t,n,e,i){var r=this,o=null;!1===(null==i?void 0:i.bubbles)&&(o=t.parentElement);var u=this.findAction_(t,n,o);if(!u||!N(null==u?void 0:u.actionInfos))return!1;var a=Math.random(),s=null;return u.actionInfos.forEach((function(o){var l=o.args,c=o.method,f=o.target,h=function(t,n,e){if(!t)return t;var i=e||b({});if(n){var r=function(t){return t.detail}(n);r&&(i.event=r)}var o=m();return Object.keys(t).forEach((function(n){var e=t[n];if("object"==Ri(e)&&e.expression){var r=e.expression,u=w(i,r);e=void 0===u?null:u}i[e]?o[n]=i[e]:o[n]=e})),o}(l,e,i),v=function(){var i=r.getActionNode_(f),o=function(){var o=new Wi(i,c,h,t,u.node,e,n,i.tagName||f,a);return r.invoke_(o)};if(i)return o();Dt(self.document.body,(function(){return!!self.document.getElementById(f)}),(function(){i=r.getActionNode_(f),o()}))};s=s?s.then(v):v()})),u.actionInfos.length>=1}},{key:"error_",value:function(t,n){if(n){var e=new Error("[".concat(Di,"] ").concat(t));throw Re(e),e}re().error(Di,t)}},{key:"invoke_",value:function(t){var n=this,e=t.method,i=t.tagOrTarget,r=this.globalTargets_[i];if(r)return r(t);var o=Q(t.node),u=this.globalMethodHandlers_[e];if(u)return u.handler(t);var a=o.tagName.toLowerCase();if(qi(a))return self.SPZ.whenDefined(o).then((function(){o.enqueAction(t)}),(function(){n.error_('Unrecognized SPZ element "'.concat(a,'".'),o)})),null;var s=Ui[a];if(qi(o.getAttribute("id")||"")||s&&s.indexOf(e)>-1){var l=o[Ni];return l?l(t):(o[Li]=o[Li]||[],o[Li].push(t)),null}return this.error_("Target (".concat(i,") doesn't support \"").concat(e,'" action.'),t.caller),null}},{key:"findAction_",value:function(t,n,e){for(var i,r=t;r;){if(e&&r==e)return null;var o=this.matchActionInfos_(r,n);if(o&&!(i=r).disabled&&!At(i,":disabled"))return{node:r,actionInfos:q(o)};r=r.parentElement}return null}},{key:"matchActionInfos_",value:function(t,n){return this.geActionMap_(t,n)}},{key:"geActionMap_",value:function(t,n){var e,i,r,o="@".concat(n),u="on:".concat(n),a=t[Fi]||{},s=t.hasAttribute(Gi),l=t.hasAttribute(u);if(!a[o]&&!a[u]||s){if(!t.hasAttribute(o)&&!t.hasAttribute(u))return null;var c=null;l?(c=t.getAttribute(u),t.removeAttribute(Gi)):c=t.getAttribute(o);var f=function(t){var n=t.split(";").filter((function(t){return t&&t.includes(".")}));return null==n?void 0:n.map((function(t){var n=t.indexOf("."),e=t.substring(n+1,t.length),i=e.includes("(")?e.indexOf("("):e.length;return{target:t.substring(0,n),method:e.substring(0,i),args:Xi(e)}}))}(c);t[Fi]=(r=f,(i=l?u:o)in(e={})?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e)}return t[Fi][l?u:o]}},{key:"addTargetPropertiesAsDetail_",value:function(t){var n=m(),e=t.target;if(void 0!==e.value&&(n.value=e.value,/^[{\[][\s\S]*[}\]]$/.test(e.value)&&(n.valueAsJson=function(t,n){try{return K(t)}catch(t){return null}}(e.value))),"INPUT"==e.tagName&&(n.valueAsNumber=Number(e.value)),void 0!==e.checked&&(n.checked=e.checked),void 0===e.min&&void 0===e.max||(n.min=e.min,n.max=e.max),e.files&&(n.files=L(e.files).map((function(t){return{"name":t.name,"size":t.size,"type":t.type}}))),Object.keys(n).length>0)try{t.detail=n}catch(t){}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function qi(t){return"spz-"===t.substring(0,4)}var Qi=function t(n){Mi(this,t),this.detail=null,function(t,n){var e=n||m();for(var i in t){var r=t[i];e[i]="function"==typeof r?Yi:t[i]}}(n,this)};function Yi(){q(null,"Deferred events cannot access native event functions.")}function Xi(t){var n=Vi.exec(t),e={};if(!n)return e;var i=n[1].split(/(?:\b|['"])\s*,\s*(?=\w+=)/g);return null==i||i.forEach((function(t){var n=t.trim().split("="),i=n[0],r=n[1];if(e[i]=null,Hi.test(r))e[i]={expression:r};else try{e[i]=JSON.parse(r)}catch(t){e[i]=r.replace(/\'/g,"")}})),e}var Ji=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function Ki(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function tr(t){var n,e=m();if(!t)return e;for(;n=Ji.exec(t);){var i=Ki(n[1],n[1]),r=n[2]?Ki(n[2].replace(/\+/g," "),n[2]):"";e[i]?e[i]+=","+r:e[i]=r}return e}var nr,er,ir=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.capacity_=n,this.size_=0,this.access_=0,this.cache_=m()}var n,e;return n=t,(e=[{key:"has",value:function(t){return!!this.cache_[t]}},{key:"get",value:function(t){var n=this.cache_[t];if(n)return n.access=++this.access_,n.payload}},{key:"put",value:function(t,n){this.has(t)||this.size_++,this.cache_[t]={payload:n,access:this.access_},this.evict_()}},{key:"evict_",value:function(){if(!(this.size_<=this.capacity_)){var t,n=this.cache_,e=this.access_+1;for(var i in n){var r=n[i].access;r<e&&(e=r,t=i)}void 0!==t&&(delete n[t],this.size_--)}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),rr=b({"c":!0,"v":!0,"a":!0,"ad":!0}),or=/[?&]spz_js[^&]*/,ur=/[?&]spz_gsa[^&]*/,ar=/[?&]spz_r[^&]*/,sr=/[?&]spz_kit[^&]*/,lr=/[?&]usqp[^&]*/,cr=["javascript:","data:","vbscript:"];function fr(t,n){return nr||(nr=self.document.createElement("a"),er=self.__SPZ_URL_CACHE||(self.__SPZ_URL_CACHE=new ir(100))),hr(nr,t,n?null:er)}function hr(t,n,e){if(e&&e.has(n))return e.get(n);t.href=n,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};return"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i,e&&e.put(n,r),r}function vr(t,n){return function(t,n,e){if(!n)return t;var i=t.split("#",2),r=i[0].split("?",2);return r[0]+(r[1]?"?".concat(r[1],"&").concat(n):"?".concat(n))+(i[1]?"#".concat(i[1]):"")}(t,pr(n))}function yr(t,n){for(var e=fr(t),i=e.origin,r=e.pathname,o=tr(e.search),u=Object.keys(n),a=0;a<u.length;a++)o[u[a]]=n[u[a]];return vr((i&&i!==self.location.origin?i:"")+r,o)}function pr(t){var n=[];for(var e in t){var i=t[e];if(null!=i)if(N(i))for(var r=0;r<i.length;r++){var o=i[r];n.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(o)))}else{var u=i;n.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(u)))}}return n.join("&")}function dr(t){return"string"==typeof t&&(t=fr(t)),"https:"==t.protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(e=".localhost",(i=(n=t.hostname).length-e.length)>=0&&n.indexOf(e,i)==i);var n,e,i}function mr(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";q(null!=t,"%s %s must be available",n,e);var i=t;return q(dr(i)||/^(\/\/)/.test(i),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,e,i),i}function br(t){var n=t.indexOf("#");return-1==n?t:t.substring(0,n)}function kr(t){return"string"==typeof t&&(t=fr(t)),Ln.cdnProxyRegex.test(t.origin)}function wr(t){if("string"==typeof t&&(t=fr(t)),!kr(t))return t.href;var n=t.pathname.split("/"),e=n[1];q(rr[e],"Unknown path prefix in url %s",t.href);var i=n[2],r="s"==i?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(i);return q(r.indexOf(".")>0,"Expected a . in origin %s",r),n.splice(1,"s"==i?3:2),r+n.join("/")+function(t){if(!t||"?"==t)return"";var n=t.replace(or,"").replace(ur,"").replace(ar,"").replace(sr,"").replace(lr,"").replace(/^[?&]/,"");return n?"?"+n:""}(t.search)+(t.hash||"")}function gr(t){return fr(wr(t)).origin}function zr(t,n){return"string"==typeof n&&(n=fr(n)),"function"==typeof URL?new URL(t,n.href).toString():function(t,n){"string"==typeof n&&(n=fr(n));var e=fr(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(e.protocol)?e.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(t,n)}var Sr=["GET","POST","DELETE","PATCH","PUT"],Or=[N,p];function jr(t,n){return q("string"==typeof n,"Only URL supported: %s",n),n}function Er(t,n){var e,i=t||{},r=i.credentials;q(void 0===r||"include"==r||"omit"==r,"Only credentials=include|omit support: %s",r),i.method=void 0===(e=i.method)?"GET":(e=e.toUpperCase(),q(Sr.includes(e),"Only one of %s is currently allowed. Got %s",Sr.join(", "),e),e),i.headers=i.headers||b({}),n&&(i.headers.Accept=n);var o=function(t,n){var e=function(t){try{return t.document.cookie}catch(t){return""}}(self);if(!e)return null;for(var i=e.split(";"),r=0;r<i.length;r++){var o=i[r].trim(),u=o.indexOf("=");if(-1!=u&&"CSRF-TOKEN"==Ki(o.substring(0,u).trim())){var a=o.substring(u+1).trim();return Ki(a,a)}}return null}();return o&&(i.headers["X-CSRF-Token"]=o),q(null!==i.body,"fetch `body` can not be `null`"),i}var Ar=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.fetchPromises_=m()}var n,e;return n=t,(e=[{key:"fetch_",value:function(t,n){return this.win.fetch.apply(null,arguments)}},{key:"fetchHandler_",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=jr(this.win,t),this.fetch_(t,n).then((function(t){return t}),(function(t){throw new Error("XHR","Failed fetching (".concat(t&&t.message,"/...):"))}))}},{key:"fetchJson",value:function(t,n){return this.fetch(t,function(t){var n=Er(t,"application/json");if(["POST","PATCH","DELETE","PUT"].includes(n.method)){q(Or.some((function(t){return t(n.body)})),"body must be of type object or array. %s",n.body),n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json;charset=utf-8";var e=n.headers["Content-Type"];n.body="application/x-www-form-urlencoded"===e?pr(n.body):JSON.stringify(n.body)}return n}(n)).then((function(t){try{return t.json()}catch(n){return t}}),(function(t){throw t.json()}))}},{key:"fetchText",value:function(t,n){return this.fetch(t,Er(n,"text/plain"))}},{key:"setFetchParam_",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headers,e=void 0===n?{}:n,i=t.method,r=void 0===i?"":i;this.responseType_=e.Accept||"",this.isBatchAble_=!r||"GET"===r}},{key:"getCacheFetch_",value:function(t){var n=this.getMapKey_(t),e=!!this.fetchPromises_[n];if(this.isBatchAble_&&e)return this.fetchPromises_[n].then((function(t){return t.clone()}))}},{key:"setCacheFetch_",value:function(t,n){var e=this,i=this.getMapKey_(t);this.fetchPromises_[i]=n.then((function(t){return delete e.fetchPromises_[i],t.clone()}),(function(t){throw delete e.fetchPromises_[i],t}))}},{key:"fetch",value:function(t,n){this.setFetchParam_(n);var e=this.getCacheFetch_(t);if(e)return e;var i=this.request_(t,n);return this.isBatchAble_&&this.setCacheFetch_(t,i),i}},{key:"request_",value:function(t,n){var e=Er(n);return this.fetchHandler_(t,e).then((function(t){return function(t){return new Promise((function(n,e){return t&&t.ok?t.redirected&&t.url?void(location.href=t.url):n(t):e(t)}))}(t)}))}},{key:"getMapKey_",value:function(t){return br(zr(t,gr(this.win.location)))+this.responseType_}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _r(t,n){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Tr(t,n){if(n&&("object"===xr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pr=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&_r(t,n)}(u,t);var n,e,i,r,o=(i=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Cr(i);if(r){var e=Cr(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return Tr(this,t)});function u(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),o.call(this,t)}return n=u,(e=[{key:"batchFetchJsonFor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.url,i=void 0===e?t.getAttribute("src"):e;return this.fetchJson(Y(i),n).then((function(n){return w(n,t.getAttribute("items")||".")})).catch((function(t){throw t}))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),u}(Ar);function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mr(t,n){return(Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Dr(t,n){if(n&&("object"===Ir(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fr(t){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lr="spz-img",Nr=["alt","aria-describedby","aria-label","aria-labelledby","crossorigin","referrerpolicy","title","sizes","srcset","src"],Ur=[48,180,360,540,720,900,1024,1280,1366,1440,1536,1600,1920,2056,2560,2732,2880,3072,3200,3840],Zr=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Mr(t,n)}(a,t);var n,e,i,r,o,u=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Fr(r);if(o){var e=Fr(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return Dr(this,t)});function a(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(n=u.call(this,t)).allowImgLoadFallback_=!0,n.src_=void 0,n.img_=null,n.autoFitSize_=330,n.autoFit_=!1,n}return n=a,i=[{key:"prerenderAllowed",value:function(){return!0}},{key:"usesLoading",value:function(){return!0}}],(e=[{key:"isLayoutSupported",value:function(t){return SPZCore.isLayoutSizeDefined(t)}},{key:"setSrc",value:function(){this.initialize_()}},{key:"initialize_",value:function(){if(this.img_)return this.img_;this.attemptChangeSizeFitSrc_(),this.allowImgLoadFallback_=!this.element.hasAttribute("fallback");var t,n,e=this.element.hasAttribute("i-spzhtml-ssr");return e&&(this.img_=jt(this.element,"> img:not([placeholder])")),this.img_=this.img_||new Image,this.img_.setAttribute("decoding","async"),this.element.id&&this.img_.setAttribute("spz-img-id",this.element.id),"img"==this.element.getAttribute("role")&&(this.element.removeAttribute("role"),this.logger().error(Lr,"Setting role=img on spz-img elements breaks screen readers please just set alt or ARIA attributes, they will be correctly propagated for the underlying <img> element.")),this.propagateAttributes(Nr,this.img_),this.applyFillContent(this.img_,!0),t=this.element,n=this.img_,t.hasAttribute("object-fit")&&sn(n,"object-fit",t.getAttribute("object-fit")),t.hasAttribute("object-position")&&sn(n,"object-position",t.getAttribute("object-position")),e||this.element.appendChild(this.img_),this.img_}},{key:"attemptChangeSizeFitSrc_",value:function(){if(!this.src_&&(this.src_=this.element.getAttribute("src"),this.src_)){var t=this.src_.lastIndexOf(".");t>-1&&(this.initFitSize_(),this.autoFit_&&(this.src_="".concat(this.src_.substring(0,t),"_").concat(this.autoFitSize_,"x").concat(this.src_.substring(t)),this.element.setAttribute("src",this.src_)))}}},{key:"initFitSize_",value:function(){var t=this;if(this.autoFit_=this.element.hasAttribute("auto-fit"),this.autoFit_){var n=this.element.getAttribute("auto-fit");this.autoFitSize_=n?parseInt(n||0,10)||330:Ur.filter((function(n){return n>((window.devicePixelRatio||1)+1)/2*Math.max(t.element.offsetWidth,t.element.clientWidth||0,t.element.offsetHeight,t.element.clientHeight||0)}))[0]}}},{key:"reconstructWhenReparented",value:function(){return!1}},{key:"mountCallback",value:function(){var t=this;if(!L(this.element.children).some((function(t){return"IMG"==t.tagName}))){var n=!!this.img_,e=this.initialize_();n||(Ai(e,"load",(function(){t.setReadyState(xe),t.firstLayoutCompleted(),t.hideFallbackImg_(),t.triggerEvent_()})),Ai(e,"error",(function(n){t.setReadyState(_e,n),t.onImgLoadingError_()}))),e.complete?(this.setReadyState(xe),this.firstLayoutCompleted(),this.hideFallbackImg_(),this.triggerEvent_()):this.setReadyState(Ae)}}},{key:"unmountCallback",value:function(){var t=this.img_;t&&!t.complete&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=",Lt(t),this.img_=null)}},{key:"ensureLoaded",value:function(){Q(this.img_).loading="eager"}},{key:"hideFallbackImg_",value:function(){!this.allowImgLoadFallback_&&this.img_.classList.contains("i-spzhtml-ghost")&&this.img_.classList.remove("i-spzhtml-ghost")}},{key:"onImgLoadingError_",value:function(){this.allowImgLoadFallback_&&(this.img_.classList.add("i-spzhtml-ghost"),this.togglePlaceholder(!1),this.allowImgLoadFallback_=!1)}},{key:"triggerEvent_",value:function(){this.element.setAttribute(xe,""),SPZCore.Dom.dispatchCustomEvent(this.element,xe)}}])&&Rr(n.prototype,e),i&&Rr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(Pi);function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vr(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Hr(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gr(t,n){return(Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Wr(t,n){if(n&&("object"===Br(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $r(t){return($r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qr=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Gr(t,n)}(a,t);var n,e,i,r,o,u=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=$r(r);if(o){var e=$r(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return Wr(this,t)});function a(){return Vr(this,a),u.apply(this,arguments)}return n=a,i=[{key:"prerenderAllowed",value:function(){return!0}}],(e=[{key:"isLayoutSupported",value:function(t){return t==dn.CONTAINER||Sn(t)}},{key:"buildCallback",value:function(){if(this.getLayout()!=dn.CONTAINER){var t=this.win.document.createElement("div");this.applyFillContent(t),this.getRealChildNodes().forEach((function(n){t.appendChild(n)})),this.element.appendChild(t)}}}])&&Hr(n.prototype,e),i&&Hr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(Pi);var Qr=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"i18n",value:function(){return SPZ.i18n?Promise.resolve(SPZ.i18n):fetch(Hn("i18n","")).then((function(t){return t.text()})).then((function(t){return new Function(t)(),SPZ.i18n}))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var Yr=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=self,this.vsync_=gi.vsyncFor(this.win)}var n,e;return n=t,(e=[{key:"measureElement",value:function(t){return this.vsync_.measurePromise(t)}},{key:"mutateElement",value:function(t,n){return this.measureMutateElementResources_(null,n)}},{key:"measureMutateElement",value:function(t,n,e){return this.measureMutateElementResources_(n,e)}},{key:"measureMutateElementResources_",value:function(t,n){return this.vsync_.runPromise({measure:function(){t&&t()},mutate:function(){n()}})}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var Xr=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.navigator_=n.navigator,this.win_=n}var n,e;return n=t,(e=[{key:"isAndroid",value:function(){return/Android/i.test(this.navigator_.userAgent)}},{key:"isIos",value:function(){return/iPhone|iPad|iPod/i.test(this.navigator_.userAgent)}},{key:"isSafari",value:function(){return/Safari/i.test(this.navigator_.userAgent)&&!this.isChrome()&&!this.isIe()&&!this.isEdge()&&!this.isFirefox()&&!this.isOpera()}},{key:"isChrome",value:function(){return/Chrome|CriOS/i.test(this.navigator_.userAgent)&&!this.isEdge()&&!this.isOpera()}},{key:"isFirefox",value:function(){return/Firefox|FxiOS/i.test(this.navigator_.userAgent)&&!this.isEdge()}},{key:"isOpera",value:function(){return/OPR\/|Opera|OPiOS/i.test(this.navigator_.userAgent)}},{key:"isIe",value:function(){return/Trident|MSIE|IEMobile/i.test(this.navigator_.userAgent)}},{key:"isEdge",value:function(){return/Edge/i.test(this.navigator_.userAgent)}},{key:"isWebKit",value:function(){return/WebKit/i.test(this.navigator_.userAgent)&&!this.isEdge()}},{key:"isWindows",value:function(){return/Windows/i.test(this.navigator_.userAgent)}},{key:"isStandalone",value:function(){return this.isIos()&&this.navigator_.standalone||this.isChrome()&&this.win_.matchMedia("(display-mode: standalone)").matches}},{key:"isBot",value:function(){return/bot/i.test(this.navigator_.userAgent)}},{key:"getMajorVersion",value:function(){return this.isSafari()?this.isIos()?this.getIosMajorVersion()||0:this.evalMajorVersion_(/\sVersion\/(\d+)/,1):this.isChrome()?this.evalMajorVersion_(/(Chrome|CriOS)\/(\d+)/,2):this.isFirefox()?this.evalMajorVersion_(/(Firefox|FxiOS)\/(\d+)/,2):this.isOpera()?this.evalMajorVersion_(/(OPR|Opera|OPiOS)\/(\d+)/,2):this.isIe()?this.evalMajorVersion_(/MSIE\s(\d+)/,1):this.isEdge()?this.evalMajorVersion_(/Edge\/(\d+)/,1):0}},{key:"evalMajorVersion_",value:function(t,n){if(!this.navigator_.userAgent)return 0;var e=this.navigator_.userAgent.match(t);return!e||n>=e.length?0:parseInt(e[n],10)}},{key:"getIosVersionString",value:function(){if(!this.navigator_.userAgent)return"";if(!this.isIos())return"";var t=this.navigator_.userAgent.match(/OS ([0-9]+[_.][0-9]+([_.][0-9]+)?)\b/);return t?t=t[1].replace(/_/g,"."):""}},{key:"getIosMajorVersion",value:function(){var t=this.getIosVersionString();return""==t?null:Number(t.split(".")[0])}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Jr(t){oe(t,"platform",Xr)}function Kr(t){return t.queryCommandSupported("copy")}var to=/^i-spzhtml-/,no=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=self.document.head;this.mutator_=gi.mutatorForDoc(),this.viewport_=gi.viewportForDoc(),this.installActions_(gi.actionServiceForDoc(n))}var n,e;return n=t,(e=[{key:"installActions_",value:function(t){t.addGlobalTarget("SPZ",this.handleSpzTarget_.bind(this)),t.addGlobalMethodHandler("scrollTo",this.handleScrollTo_.bind(this)),t.addGlobalMethodHandler("focus",this.handleFocus_.bind(this)),t.addGlobalMethodHandler("toggleClass",this.handleToggleClass_.bind(this)),t.addGlobalMethodHandler("show",(function(t){cn(Q(t.node),!0)})),t.addGlobalMethodHandler("hide",(function(t){cn(Q(t.node),!1)}))}},{key:"handleSpzTarget_",value:function(t){var n=t.args,e=t.method;switch(e){case"copy":return this.handleCopy_(t);case"scrollTo":return q(n.id,"SPZ.scrollTo must provide element ID"),t.node=Q(self.document.getElementById(n.id),"scrollTo element ID must exist on page"),this.handleScrollTo_(t);case"replaceUrlState":return q(n&&!d(n),"SPZ.replaceUrlState must provide params"),this.handleReplaceUrlState_(t);case"navigateTo":var i=n.url;return void(self.location.href=i);case"postMessage":var r=n.id,o=n.data;if(!r)return void q(u,"SPZ.postMessage must provide id dom");var u=self.document.getElementById(r);return void u.contentWindow.postMessage(o);default:throw new Error("Unknown SPZ action "+e)}}},{key:"handleReplaceUrlState_",value:function(t){var n=t.args,e=void 0===n?{}:n,i=e.reload,r=void 0!==i&&i;delete e.reload,history.replaceState({},"",yr(self.location.href,e)),r&&location.reload()}},{key:"handleCopy_",value:function(t){var n,e=t.args,i=self,r="copy-error";if("SPZ"===t.tagOrTarget)n=e.text.trim();else{var o,u=t.node;n=(null!==(o=t.node.value)&&void 0!==o?o:u.textContent).trim()}var a,s,l,c=function(t,n,e){var r={data:{type:n}},o=Ei(i,"".concat(t),r);SPZServices.actionServiceForDoc(e.caller).trigger(e.caller,t,o)};null!==(s=(a=self.document).defaultView)&&void 0!==s&&null!==(l=s.navigator)&&void 0!==l&&l.clipboard||Kr(a)?function(t,n,e,i){var r;null!==(r=t.navigator)&&void 0!==r&&r.clipboard?t.navigator.clipboard.writeText(n).then(e,i):Kr(t.document)&&function(t,n){var e,i=!1,r=t.document,o=r.createElement("textarea");ln(o,{"position":"fixed","top":0,"left":0,"width":"50px","height":"50px","padding":0,"border":"none","outline":"none","background":"transparent"}),o.value=n,o.readOnly=!0,o.contentEditable="true",r.body.appendChild(o),null===(e=t.getSelection())||void 0===e||e.removeAllRanges(),o.focus(),o.setSelectionRange(0,n.length);try{i=r.execCommand("copy")}catch(t){}return Lt(o),i}(t,n)?e():i()}(self,n,(function(){c("copy-success","success",t)}),(function(){c(r,"error",t)})):c(r,"unsupported",t)}},{key:"handleScrollTo_",value:function(t){var n=Q(t.node),e=t.args,i=e&&e.position,r=e&&e.duration,o=e&&e["target-id"],u=void 0;if(i&&!["top","bottom","center"].includes(i)&&(i=void 0),W(r)||(r=void 0),o){u=q(self.document.getElementById(o),'target-id="%s" not found.',o);var a=fn(self,u).position;"fixed"!==a&&"sticky"!==a&&(u=void 0)}return this.viewport_.animateScrollIntoView(n,{pos:i,durationOrUndef:r,target:u})}},{key:"handleFocus_",value:function(t){return Vt(Q(t.node)),null}},{key:"handleToggleClass_",value:function(t,n){var e=Q(t.node),i=t.args;return n=Y(n||i.class,"Argument 'class' must be a string."),to.test(n)||this.mutator_.mutateElement(e,(function(){if(void 0!==i.force){var t=!!i.force;e.classList.toggle(n,t)}else e.classList.toggle(n)})),null}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var eo=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win_=n;var i,r,o=(i=Un().esm?".mjs":".js",r=Vn(),"".concat(r,"/").concat("ww").concat(i));this.worker_=null,this.fetchPromise_=new Promise((function(t){o=o.startsWith("http")?o:"".concat(location.protocol).concat(o);var i=new n.Blob(['importScripts("'.concat(o,'")')],{type:"text/javascript"}),r=n.URL.createObjectURL(i);e.worker_=new n.Worker(r),e.worker_.onmessage=e.receiveMessage_.bind(e),t()})),this.messages_={},this.counter_=0,this.windows_=[n]}var n,e;return n=t,(e=[{key:"sendMessage_",value:function(t,n,e){var i=this;return this.fetchPromise_.then((function(){return new Promise((function(r,o){var u=i.counter_++;i.messages_[u]={method:t,resolve:r,reject:o};var a=i.idForWindow_(e||i.win_);n.data=JSON.parse(JSON.stringify(n.data));var s={method:t,args:n,scope:a,id:u};i.worker_.postMessage(s)}))}))}},{key:"receiveMessage_",value:function(t){var n=t.data,e=n.id,i=n.returnValue,r=this.messages_[e];r&&(r.resolve(i),delete this.messages_[e])}},{key:"hasPendingMessages",value:function(){return Object.keys(this.messages_).length>0}},{key:"idForWindow_",value:function(t){var n=this.windows_.indexOf(t);return n>=0?n:this.windows_.push(t)-1}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var io=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container_=null}var n,e;return n=t,(e=[{key:"renderTemplate",value:function(t,n,e){return this.render_(t.innerHTML,n,e)}},{key:"renderTemplateArray",value:function(t,n){var e=this;return 0==n.length?Promise.resolve([]):Promise.all(n.map((function(n){return e.render_(t.innerHTML,n)})))}},{key:"findAndRenderTemplate",value:function(t,n,e,i){return this.renderTemplate(this.findTemplate(t,e),n,i)}},{key:"findAndRenderTemplateArray",value:function(t,n,e){return this.renderTemplateArray(this.findTemplate(t,e),n)}},{key:"hasTemplate",value:function(t,n){return!!this.maybeFindTemplate(t,n)}},{key:"findTemplate",value:function(t,n){var e=this.maybeFindTemplate(t,n);q(e,"Template not found for %s",t);var i=e.tagName;return q("TEMPLATE"==i||"SCRIPT"==i&&"text/plain"===e.getAttribute("type"),'Template must be defined in a <template> or <script type="text/plain"> tag'),e}},{key:"maybeFindTemplate",value:function(t,n){var e=t.getAttribute("template");return e?Zt(t).getElementById(e):n?jt(t,n):t.querySelector('template, script[type="text/plain"]')}},{key:"render_",value:function(t,n,e){var i=this;return function(t,n,e){return oe(t,"spz-worker",eo),ae(t,"spz-worker").sendMessage_("spz.template",e||[],t)}(self,0,{templateStr:t,data:{data:n}}).then((function(t){var n=t.ast,r=t.html;return e?{el:i.parseHtml_(r),vnode:n}:i.parseHtml_(r)}))}},{key:"parseHtml_",value:function(t){this.container_||(this.container_=self.document.createElement("div")),this.container_.innerHTML=t;var n=this.container_.firstElementChild;return q(n,"No elements in template"),q(!n.nextElementSibling,"Too many root elements in template"),this.container_.removeChild(n),n}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var ro=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.resolved_=this.win.Promise.resolve(),this.taskCount_=0,this.canceled_={},this.startTime_=Date.now()}var n,e;return n=t,(e=[{key:"timeSinceStart",value:function(){return Date.now()-this.startTime_}},{key:"delay",value:function(t,n){var e=this;if(!n){var i="p"+this.taskCount_++;return this.resolved_.then((function(){e.canceled_[i]?delete e.canceled_[i]:t()})).catch(Re),i}return this.win.setTimeout((function(){try{t()}catch(t){throw Re(t),t}}),n)}},{key:"cancel",value:function(t){"string"!=typeof t?this.win.clearTimeout(t):this.canceled_[t]=!0}},{key:"promise",value:function(t){var n=this;return new this.win.Promise((function(e){if(-1==n.delay(e,t))throw new Error("Failed to schedule timer.")}))}},{key:"timeoutPromise",value:function(t,n,e){var i,r=this,o=new this.win.Promise((function(n,o){if(-1==(i=r.delay((function(){o(new Error(e||"timeout"))}),t)))throw new Error("Failed to schedule timer.")}));if(!n)return o;var u=function(){r.cancel(i)};return n.then(u,u),this.win.Promise.race([o,n])}},{key:"poll",value:function(t,n){var e=this;return new this.win.Promise((function(i){var r=e.win.setInterval((function(){n()&&(e.win.clearInterval(r),i())}),t)}))}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function oo(t){oe(t,"timer",ro)}var uo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=self.document,e=n.ownerDocument||n;this.anchor_=e.createElement("a"),this.cache_=new ir(100)}var n,e;return n=t,(e=[{key:"parse",value:function(t,n){return hr(this.anchor_,t,n?null:this.cache_)}},{key:"parse_",value:function(t){return"string"!=typeof t?t:this.parse(t)}},{key:"isProtocolValid",value:function(t){return function(t){return!t||("string"==typeof t&&(t=fr(t)),!cr.includes(t.protocol))}(t)}},{key:"getSourceOrigin",value:function(t){return gr(this.parse_(t))}},{key:"getSourceUrl",value:function(t){return wr(this.parse_(t))}},{key:"resolveRelativeUrl",value:function(t,n){return zr(t,this.parse_(n))}},{key:"assertHttpsUrl",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return mr(t,n,e)}},{key:"assertAbsoluteHttpOrHttpsUrl",value:function(t){return function(t){return q(/^https?\:/i.test(t),'URL must start with "http://" or "https://". Invalid value: %s',t),fr(t).href}(t)}},{key:"isProxyOrigin",value:function(t){return kr(this.parse_(t))}},{key:"isSecure",value:function(t){return dr(this.parse_(t))}},{key:"getWinOrigin",value:function(t){return t.origin||this.parse_(t.location.href).origin}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function ao(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function so(t,n,e,i){return function(r){return lo.solveYValueFromXValue(r,0,0,t,n,e,i,1,1)}}var lo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e;return n=t,(e=[{key:"solveYValueFromXValue",value:function(n,e,i,r,o,u,a,s,l){return t.getPointY_(t.solvePositionFromXValue_(n,e,r,u,s),i,o,a,l)}},{key:"solvePositionFromXValue_",value:function(n,e,i,r,o){var u=1e-6,a=(n-e)/(o-e);if(a<=0)return 0;if(a>=1)return 1;for(var s=0,l=1,c=0,f=0;f<8;f++){c=t.getPointX_(a,e,i,r,o);var h=(t.getPointX_(a+u,e,i,r,o)-c)/u;if(Math.abs(c-n)<u)return a;if(Math.abs(h)<u)break;c<n?s=a:l=a,a-=(c-n)/h}for(var v=0;Math.abs(c-n)>u&&v<8;v++)c<n?(s=a,a=(a+l)/2):(l=a,a=(a+s)/2),c=t.getPointX_(a,e,i,r,o);return a}},{key:"getPointX_",value:function(n,e,i,r,o){if(0==n)return e;if(1==n)return o;var u=t.lerp_(e,i,n),a=t.lerp_(i,r,n),s=t.lerp_(r,o,n);return u=t.lerp_(u,a,n),a=t.lerp_(a,s,n),t.lerp_(u,a,n)}},{key:"getPointY_",value:function(n,e,i,r,o){if(0==n)return e;if(1==n)return o;var u=t.lerp_(e,i,n),a=t.lerp_(i,r,n),s=t.lerp_(r,o,n);return u=t.lerp_(u,a,n),a=t.lerp_(a,s,n),t.lerp_(u,a,n)}},{key:"lerp_",value:function(t,n,e){return t+e*(n-t)}}])&&ao(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),co={LINEAR:function(t){return t},EASE:function(t){return lo.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1)},EASE_IN:function(t){return lo.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1)},EASE_OUT:function(t){return lo.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1)},EASE_IN_OUT:function(t){return lo.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)}},fo={"linear":co.LINEAR,"ease":co.EASE,"ease-in":co.EASE_IN,"ease-out":co.EASE_OUT,"ease-in-out":co.EASE_IN_OUT};function ho(t){if(!t)return null;if(B(t)){if(-1!=(t=t).indexOf("cubic-bezier")){var n=t.match(/cubic-bezier\((.+)\)/);if(n){var e=n[1].split(",").map(parseFloat);if(4==e.length){for(var i=0;i<4;i++)if(isNaN(e[i]))return null;return so(e[0],e[1],e[2],e[3])}}return null}return fo[t]}return t}function vo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function yo(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function po(t,n,e){return n&&yo(t.prototype,n),e&&yo(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var mo="Animation",bo=function(){},ko=function(){function t(n,e){vo(this,t),this.contextNode_=n,this.vsync_=e||gi.vsyncFor(self),this.curve_=null,this.segments_=[]}return po(t,[{key:"setCurve",value:function(t){return t&&(this.curve_=ho(t)),this}},{key:"add",value:function(t,n,e,i){return this.segments_.push({delay:t,func:n,duration:e,curve:ho(i)}),this}},{key:"start",value:function(t){return new wo(this.vsync_,this.contextNode_,this.segments_,this.curve_,t)}}],[{key:"animate",value:function(n,e,i,r){return new t(n).setCurve(r).add(0,e,1).start(i)}}]),t}(),wo=function(){function t(n,e,i,r,o){vo(this,t),this.vsync_=n,this.contextNode_=e,this.segments_=[];for(var u=0;u<i.length;u++){var a=i[u];this.segments_.push({delay:a.delay,func:a.func,duration:a.duration,curve:a.curve||r,started:!1,completed:!1})}this.duration_=o,this.startTime_=Date.now(),this.running_=!0,this.state_={};var l=new s;this.promise_=l.promise,this.resolve_=l.resolve,this.reject_=l.reject,this.task_=this.vsync_.createAnimTask(this.contextNode_,{mutate:this.stepMutate_.bind(this)}),this.vsync_.canAnimate(this.contextNode_)?this.task_(this.state_):(re().warn(mo,"cannot animate"),this.complete_(!1,0))}return po(t,[{key:"then",value:function(t,n){return t||n?this.promise_.then(t,n):this.promise_}},{key:"thenAlways",value:function(t){var n=t||bo;return this.then(n,n)}},{key:"halt",value:function(t){this.complete_(!1,t||0)}},{key:"complete_",value:function(t,n){if(this.running_){if(this.running_=!1,0!=n){this.segments_.length>1&&this.segments_.sort((function(t,n){return t.delay+t.duration-(n.delay+n.duration)}));try{if(n>0)for(var e=0;e<this.segments_.length;e++)this.segments_[e].func(1,!0);else for(var i=this.segments_.length-1;i>=0;i--)this.segments_[i].func(0,!1)}catch(n){re().error(mo,"completion failed: "+n,n),t=!1}}t?this.resolve_():this.reject_()}}},{key:"stepMutate_",value:function(t){if(this.running_){for(var n=Date.now(),e=Math.min((n-this.startTime_)/this.duration_,1),i=0;i<this.segments_.length;i++){var r=this.segments_[i];!r.started&&e>=r.delay&&(r.started=!0)}for(var o=0;o<this.segments_.length;o++){var u=this.segments_[o];u.started&&!u.completed&&this.mutateSegment_(u,e)}1==e?this.complete_(!0,0):this.vsync_.canAnimate(this.contextNode_)?this.task_(this.state_):(re().warn(mo,"cancel animation"),this.complete_(!1,0))}}},{key:"mutateSegment_",value:function(t,n){var e,i;if(t.duration>0){if(i=e=Math.min((n-t.delay)/t.duration,1),t.curve&&1!=i)try{i=t.curve(e)}catch(t){return re().error(mo,"step curve failed: "+t,t),void this.complete_(!1,0)}}else e=1,i=1;1==e&&(t.completed=!0);try{t.func(i,t.completed)}catch(t){return re().error(mo,"step mutate failed: "+t,t),void this.complete_(!1,0)}}}]),t}();function go(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var zo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers_=null}var n,e;return n=t,(e=[{key:"add",value:function(t){var n=this;return this.handlers_||(this.handlers_=[]),this.handlers_.push(t),function(){n.remove(t)}}},{key:"remove",value:function(t){this.handlers_&&Z(this.handlers_,t)}},{key:"removeAll",value:function(){this.handlers_&&(this.handlers_.length=0)}},{key:"fire",value:function(t){if(this.handlers_){var n,e=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return go(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?go(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}(this.handlers_);try{for(e.s();!(n=e.n()).done;)(0,n.value)(t)}catch(t){e.e(t)}finally{e.f()}}}},{key:"getHandlerCount",value:function(){var t,n;return null!==(t=null===(n=this.handlers_)||void 0===n?void 0:n.length)&&void 0!==t?t:0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();var So=function(){function t(){var n=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=self,this.platform_=gi.platformFor(this.win),this.scrollObservable_=new zo,this.resizeObservable_=new zo,this.boundScrollEventListener_=this.handleScrollEvent_.bind(this),this.boundResizeEventListener_=function(){return n.resizeObservable_.fire()},this.boundTouchMoveEventListener_=function(){n.win.document.activeElement&&n.win.document.activeElement.blur()},re().fine("Viewport","initialized natural viewport")}var n,e;return n=t,(e=[{key:"handleScrollEvent_",value:function(){this.scrollObservable_.fire()}},{key:"connect",value:function(){this.win.addEventListener("scroll",this.boundScrollEventListener_),this.win.addEventListener("resize",this.boundResizeEventListener_),this.win.addEventListener("touchmove",this.boundTouchMoveEventListener_)}},{key:"disconnect",value:function(){this.win.removeEventListener("scroll",this.boundScrollEventListener_),this.win.removeEventListener("resize",this.boundResizeEventListener_)}},{key:"onScroll",value:function(t){this.scrollObservable_.add(t)}},{key:"onResize",value:function(t){this.resizeObservable_.add(t)}},{key:"disableScroll",value:function(){this.win.document.documentElement.classList.add("i-spzhtml-scroll-disabled")}},{key:"resetScroll",value:function(){this.win.document.documentElement.classList.remove("i-spzhtml-scroll-disabled")}},{key:"getSize",value:function(){var t=this.win.innerWidth,n=this.win.innerHeight;if(t&&n)return{width:t,height:n};var e=this.win.document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}},{key:"getScrollTop",value:function(){var t=this.getScrollingElement().scrollTop||this.win.pageYOffset,n=self.document.host;return n?t-n.offsetTop:t}},{key:"getScrollLeft",value:function(){return 0}},{key:"getLayoutRect",value:function(t,n,e){var i=t.getBoundingClientRect(),r=null!=e?e:this.getScrollTop(),o=null!=n?n:this.getScrollLeft();return Wt(Math.round(i.left+o),Math.round(i.top+r),Math.round(i.width),Math.round(i.height))}},{key:"setScrollTop",value:function(t){this.getScrollingElement().scrollTop=t}},{key:"getScrollingElement",value:function(){var t=this.win.document;return t.scrollingElement?t.scrollingElement:t.body&&this.platform_.isWebKit()?t.body:t.documentElement}},{key:"getScrollingElementScrollsLikeViewport",value:function(){return!0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Oo(t,n,e){return q(n<=e,"Minimum value is greater than the maximum."),Math.min(Math.max(t,n),e)}function jo(t,n){return function(e){return t+(n-t)*e}}var Eo="Viewport",Ao=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=self;this.globalDoc_=self.document,this.binding_=n,this.size_=null,this.scrollTop_=null,this.scrollLeft_=null,this.paddingTop_=0,this.timer_=gi.timerFor(e),this.vsync_=gi.vsyncFor(e),this.scrollTracking_=!1,this.scrollingElement_=null,this.scrollCount_=0,this.changeObservable_=new zo,this.scrollObservable_=new zo,this.resizeObservable_=new zo,this.viewportMeta_=void 0,this.originalViewportMetaString_=void 0,this.ios_=gi.platformFor(e).isIos(),this.binding_.onScroll(this.scroll_.bind(this)),this.binding_.onResize(this.resize_.bind(this)),this.binding_.connect(),this.documentElement_=this.globalDoc_.documentElement,this.documentElement_.classList.add("i-spzhtml-doc"),this.documentElement_.classList.add("i-spzhtml-standalone")}var n,e;return n=t,(e=[{key:"dispose",value:function(){this.binding_.disconnect()}},{key:"onScroll",value:function(t){return this.scrollObservable_.add(t)}},{key:"getScrollTop",value:function(){return null==this.scrollTop_&&(this.scrollTop_=this.binding_.getScrollTop()),this.scrollTop_}},{key:"getScrollLeft",value:function(){return null==this.scrollLeft_&&(this.scrollLeft_=this.binding_.getScrollLeft()),this.scrollLeft_}},{key:"setScrollTop",value:function(t){this.scrollTop_=null,this.binding_.setScrollTop(t)}},{key:"getSize",value:function(){return this.size_||(this.size_=this.binding_.getSize()),this.size_}},{key:"getHeight",value:function(){return this.getSize().height}},{key:"getWidth",value:function(){return this.getSize().width}},{key:"getLayoutRect",value:function(t){var n=this.getScrollLeft(),e=this.getScrollTop(),i=function(t,n){var e=(t.ownerDocument||t).defaultView,i=n||fe(e);if(e&&e!=i&&fe(e)==i)try{return e.frameElement}catch(t){}return null}(t,self);if(i){var r=this.binding_.getLayoutRect(t,0,0),o=this.binding_.getLayoutRect(i,n,e);return Wt(Math.round(r.left+o.left),Math.round(r.top+o.top),Math.round(r.width),Math.round(r.height))}return this.binding_.getLayoutRect(t,n,e)}},{key:"scrollIntoView",value:function(t){var n=this;return this.getScrollingContainerFor_(t).then((function(e){return n.scrollIntoViewInternal_(t,e)}))}},{key:"scrollIntoViewInternal_",value:function(t,n){var e=this,i=this.binding_.getLayoutRect(t).top;l((function(){return Math.max(0,i-e.paddingTop_)})).then((function(t){return e.setElementScrollTop_(n,t)}))}},{key:"animateScrollIntoView",value:function(t,n){var e=this,i=n.opt_curve,r=n.opt_duration,o=n.pos,u=void 0===o?"top":o,a=n.target;return q(!i||void 0!==r,"Curve without duration doesn't make sense."),this.getScrollingContainerFor_(t).then((function(n){return e.animateScrollWithinParent(t,n,{pos:Y(u),opt_duration:r,opt_curve:i,target:a})}))}},{key:"animateScrollWithinParent",value:function(t,n,e){var i=this,r=e.opt_curve,o=e.opt_duration,u=e.pos,a=void 0===u?"top":u,s=e.target;q(!r||void 0!==o,"Curve without duration doesn't make sense.");var l,c=this.binding_.getLayoutRect(t),f=(this.isScrollingElement_(n)?this.getSize():this.getLayoutRect(n)).height,h=function(t,n,e){if(!e)return 0;var i=fn(t,e),r=i.bottom,o=i.height,u=i.paddingBottom,a=i.paddingTop,s=i.top;return"bottom"===n?parseFloat(r)+parseFloat(o)-parseFloat(a):parseFloat(s)+parseFloat(o)-parseFloat(u)}(self,a,s);switch(a){case"bottom":l=-f+c.height+h;break;case"center":l=-f/2+c.height/2+h;break;default:l=-h}return this.getElementScrollTop_(n).then((function(t){var e=c.top-i.paddingTop_+l,u=Math.max(0,e);if(u!=t)return i.interpolateScrollIntoView_(n,t,u,o,r)}))}},{key:"interpolateScrollIntoView_",value:function(t,n,e,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ease-in",u=void 0!==i?X(i):xo(n,e),a=jo(n,e);return ko.animate(t,(function(n){r.setElementScrollTop_(t,a(n))}),u,o).thenAlways((function(){r.setElementScrollTop_(t,e)}))}},{key:"getScrollingContainerFor_",value:function(t){var n=this;return this.vsync_.measurePromise((function(){return _t(t,".i-spzhtml-scrollable")||n.binding_.getScrollingElement()}))}},{key:"setElementScrollTop_",value:function(t,n){this.isScrollingElement_(t)?this.binding_.setScrollTop(n):this.vsync_.mutate((function(){t.scrollTop=n}))}},{key:"getElementScrollTop_",value:function(t){var n=this;return this.isScrollingElement_(t)?l((function(){return n.getScrollTop()})):this.vsync_.measurePromise((function(){return t.scrollTop}))}},{key:"isScrollingElement_",value:function(t){return t==this.binding_.getScrollingElement()}},{key:"getScrollingElement",value:function(){return this.scrollingElement_?this.scrollingElement_:this.scrollingElement_=this.binding_.getScrollingElement()}},{key:"onChanged",value:function(t){return this.changeObservable_.add(t)}},{key:"onResize",value:function(t){return this.resizeObservable_.add(t)}},{key:"removeResize",value:function(t){return this.resizeObservable_.remove(t)}},{key:"enterOverlayMode",value:function(t){this.element=t,this.disableTouchZoom(),this.disableScroll(),this.handleIosScroll()}},{key:"leaveOverlayMode",value:function(){this.resetScroll(),this.restoreOriginalTouchZoom(),this.restoreIosScroll()}},{key:"disableScroll",value:function(){var t,n=this,e=self;this.vsync_.measure((function(){var i=fn(e,n.documentElement_).marginRight,r=function(t){var n=t.document.documentElement;return t.innerWidth-n.clientWidth}(self);t=parseInt(i,10)+r})),this.vsync_.mutate((function(){sn(n.documentElement_,"margin-right",t,"px"),n.binding_.disableScroll()}))}},{key:"resetScroll",value:function(){var t=this;this.vsync_.mutate((function(){sn(t.documentElement_,"margin-right",""),t.binding_.resetScroll()}))}},{key:"resetTouchZoom",value:function(){var t=this,n=self.innerHeight,e=this.documentElement_.clientHeight;n&&e&&n===e||this.disableTouchZoom()&&this.timer_.delay((function(){t.restoreOriginalTouchZoom()}),50)}},{key:"disableTouchZoom",value:function(){var t=this.getViewportMeta_();if(!t)return!1;var n=function(t,n){var e=function(t){var n=Object.create(null);if(!t)return n;for(var e=t.split(/,|;/),i=0;i<e.length;i++){var r=e[i].split("="),o=r[0].trim(),u=r[1];u=(u||"").trim(),o&&(n[o]=u)}return n}(t),i=!1;for(var r in n)e[r]!==n[r]&&(i=!0,void 0!==n[r]?e[r]=n[r]:delete e[r]);return i?function(t){var n="";for(var e in t)n.length>0&&(n+=","),t[e]?n+=e+"="+t[e]:n+=e;return n}(e):t}(t.content,{"maximum-scale":"1","user-scalable":"no"});return this.setViewportMetaString_(n)}},{key:"restoreOriginalTouchZoom",value:function(){return void 0!==this.originalViewportMetaString_&&this.setViewportMetaString_(this.originalViewportMetaString_)}},{key:"handleIosScroll",value:function(){var t=this;if(this.ios_&&this.element){this.syncHeight_(this.element);var n=this;this.onResize((function(){t.syncHeight_(n.element)})),this.element.addEventListener("touchmove",(function(n){n.stopPropagation(),function(t,n,e){for(var i=t;i;){if(n.tagName===i.tagName)return null;if(e(i))return i;i=i.parentNode}return null}(n.target,t.element,t.conditionFunc_.bind(t))&&t.preventScroll_(n)}),{passive:!1}),this.globalDoc_.addEventListener("touchmove",this.preventScroll_,{passive:!1})}}},{key:"conditionFunc_",value:function(t){var n=SPZCore.Dom.computedStyle(self.window,t),e=t.scrollHeight,i=t.clientHeight,r=t.scrollWidth,o=t.clientWidth;return e<=i&&r<=o&&(n.overflow.includes("auto")||n.overflow.includes("scroll"))}},{key:"restoreIosScroll",value:function(){this.ios_&&(this.removeResize(this.syncHeight_),this.globalDoc_.removeEventListener("touchmove",this.preventScroll_))}},{key:"preventScroll_",value:function(t){t.preventDefault()}},{key:"syncHeight_",value:function(t){sn(t,"height","".concat(self.window.innerHeight,"px"))}},{key:"setViewportMetaString_",value:function(t){var n=this.getViewportMeta_();return!(!n||n.content==t||(re().fine(Eo,"changed viewport meta to:",t),n.content=t,0))}},{key:"getViewportMeta_",value:function(){return void 0===this.viewportMeta_&&(this.viewportMeta_=this.globalDoc_.querySelector("meta[name=viewport]"),this.viewportMeta_&&(this.originalViewportMetaString_=this.viewportMeta_.content)),this.viewportMeta_}},{key:"changed_",value:function(t,n){var e=this.getSize(),i=this.getScrollTop(),r=this.getScrollLeft();re().fine(Eo,"changed event:","relayoutAll=",t,"top=",i,"left=",r,"bottom=",i+e.height,"velocity=",n),this.changeObservable_.fire({relayoutAll:t,top:i,left:r,width:e.width,height:e.height,velocity:n})}},{key:"scroll_",value:function(){var t=this;this.scrollCount_++,this.scrollLeft_=this.binding_.getScrollLeft();var n=this.binding_.getScrollTop();if(!(n<0)){if(this.scrollTop_=n,!this.scrollTracking_){this.scrollTracking_=!0;var e=Date.now();this.timer_.delay((function(){t.vsync_.measure((function(){t.throttledScroll_(e,n)}))}),36)}this.scrollObservable_.fire()}}},{key:"throttledScroll_",value:function(t,n){var e=this;this.scrollTop_=this.binding_.getScrollTop();var i=this.scrollTop_,r=Date.now(),o=0;r!=t&&(o=(i-n)/(r-t)),re().fine(Eo,"scroll: scrollTop="+i+"; velocity="+o),Math.abs(o)<.03?(this.changed_(!1,o),this.scrollTracking_=!1):this.timer_.delay((function(){return e.vsync_.measure(e.throttledScroll_.bind(e,r,i))}),20)}},{key:"resize_",value:function(){var t=this.size_;this.size_=null;var n=this.getSize(),e=!t||t.width!=n.width;this.changed_(e,0),(e||t.height!=n.height)&&this.resizeObservable_.fire({relayoutAll:e,width:n.width,height:n.height})}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function xo(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return Math.floor(Oo(.65*Math.abs(t-n),0,e))}function _o(){var t=gi.viewerForDoc(),n=new So;return new Ao(n,t)}var To=function(){function t(n,e,i){var r=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.timer_=gi.timerFor(n),this.handler_=e,this.defaultDelay_=i||0,this.scheduled_=-1,this.nextTime_=0,this.running_=!1,this.boundPass_=function(){r.pass_()}}var n,e;return n=t,(e=[{key:"isPending",value:function(){return-1!=this.scheduled_}},{key:"schedule",value:function(t){var n=t||this.defaultDelay_;this.running_&&n<10&&(n=10);var e=Date.now()+n;return(!this.isPending()||e-this.nextTime_<-10)&&(this.cancel(),this.nextTime_=e,this.scheduled_=this.timer_.delay(this.boundPass_,n),!0)}},{key:"pass_",value:function(){this.scheduled_=-1,this.nextTime_=0,this.running_=!0,this.handler_(),this.running_=!1}},{key:"cancel",value:function(){this.isPending()&&(this.timer_.cancel(this.scheduled_),this.scheduled_=-1)}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Co="visible";var Po=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win=n,this.raf_=this.getRaf_(),this.tasks_=[],this.nextTasks_=[],this.states_=[],this.nextStates_=[],this.scheduled_=!1,this.nextFramePromise_=null,this.nextFrameResolver_=null,this.boundRunScheduledTasks_=this.runScheduledTasks_.bind(this),this.invisiblePass_=new To(this.win,this.boundRunScheduledTasks_,16),this.backupPass_=new To(this.win,this.boundRunScheduledTasks_,40)}var n,e;return n=t,(e=[{key:"run",value:function(t,n){this.tasks_.push(t),this.states_.push(n||void 0),this.schedule_()}},{key:"runPromise",value:function(t,n){if(this.run(t,n),this.nextFramePromise_)return this.nextFramePromise_;var e=new s;return this.nextFrameResolver_=e.resolve,this.nextFramePromise_=e.promise}},{key:"createTask",value:function(t){var n=this;return function(e){n.run(t,e)}}},{key:"mutate",value:function(t){this.run({measure:void 0,mutate:t})}},{key:"mutatePromise",value:function(t){return this.runPromise({measure:void 0,mutate:t})}},{key:"measure",value:function(t){this.run({measure:t,mutate:void 0})}},{key:"measurePromise",value:function(t){var n=this;return new Promise((function(e){n.measure((function(){e(t())}))}))}},{key:"canAnimate",value:function(){return this.canAnimate_()}},{key:"canAnimate_",value:function(){return!(function(t){var n=an(t,"visibilityState",!0);if(t[n])return t[n];var e=an(t,"hidden",!0);return t[e]&&t[e]?"hidden":Co}(this.win.document)!=Co)}},{key:"runAnim",value:function(t,n,e){return this.canAnimate_(t)?(this.run(n,e),!0):(re().warn("VSYNC","Did not schedule a vsync request, because document was invisible"),!1)}},{key:"createAnimTask",value:function(t,n){var e=this;return function(i){return e.runAnim(t,n,i)}}},{key:"runAnimMutateSeries",value:function(t,n,e){var i=this;return this.canAnimate_(t)?new Promise((function(r,o){var u=Date.now(),a=0,s=i.createAnimTask(t,{mutate:function(t){var i=Date.now()-u;n(i,i-a,t)?e&&i>e?o(new Error("timeout")):(a=i,s(t)):r()}});s({})})):Promise.reject("runAnimMutateSeries")}},{key:"schedule_",value:function(){this.scheduled_||(this.scheduled_=!0,this.forceSchedule_())}},{key:"forceSchedule_",value:function(){this.canAnimate_()?(this.raf_(this.boundRunScheduledTasks_),this.backupPass_.schedule()):this.invisiblePass_.schedule()}},{key:"runScheduledTasks_",value:function(){this.backupPass_.cancel(),this.scheduled_=!1;var t=this.nextFrameResolver_,n=this.states_,e=this.tasks_;this.nextFrameResolver_=null,this.nextFramePromise_=null,this.tasks_=this.nextTasks_,this.states_=this.nextStates_;for(var i=0;i<e.length;i++)e[i].measure&&(Io(e[i].measure,n[i])||(e[i].mutate=void 0));for(var r=0;r<e.length;r++)e[r].mutate&&Io(e[r].mutate,n[r]);this.nextTasks_=e,this.nextStates_=n,this.nextTasks_.length=0,this.nextStates_.length=0,t&&t()}},{key:"getRaf_",value:function(){var t=this,n=this.win.requestAnimationFrame||this.win.webkitRequestAnimationFrame;if(n)return n.bind(this.win);var e=0;return function(n){var i=Date.now(),r=Math.max(0,16-(i-e));e=i+r,t.win.setTimeout(n,r)}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Io(t,n){q(t);try{void 0!==t(n)&&re().error("VSYNC","callback returned a value but vsync cannot propogate it: %s",t.toString())}catch(t){return j(t),!1}return!0}function Ro(t){var n;oe(t,"batched-xhr",Pr),Jr(t),oo(t),oo(n=t),oe(n,"vsync",Po),function(t){oe(t,"xhr",Ar)}(t)}function Mo(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function Do(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function Fo(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}(function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback_=n,this.options_=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Do(Object(e),!0).forEach((function(n){Fo(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Do(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({root:null,rootMargin:"0px 0px 0px 0px"},e),this.elements_=[],this.inst_=null,t._upgraders.push(this.upgrade_.bind(this))}var n,e;return n=t,(e=[{key:"root",get:function(){return this.inst_?this.inst_.root:this.options_.root||null}},{key:"rootMargin",get:function(){return this.inst_?this.inst_.rootMargin:this.options_.rootMargin}},{key:"thresholds",get:function(){return this.inst_?this.inst_.thresholds:[].concat(this.options_.threshold||0)}},{key:"disconnect",value:function(){this.inst_?this.inst_.disconnect():this.elements_.length=0}},{key:"takeRecords",value:function(){return this.inst_?this.inst_.takeRecords():[]}},{key:"observe",value:function(t){this.inst_?this.inst_.observe(t):-1==this.elements_.indexOf(t)&&this.elements_.push(t)}},{key:"unobserve",value:function(t){if(this.inst_)this.inst_.unobserve(t);else{var n=this.elements_.indexOf(t);-1!=n&&this.elements_.splice(n,1)}}},{key:"upgrade_",value:function(t){var n=new t(this.callback_,this.options_);this.inst_=n;var e,i=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return Mo(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Mo(t,n):void 0}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}(this.elements_);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.observe(r)}}catch(t){i.e(t)}finally{i.f()}this.elements_.length=0}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}())._upgraders=[];var Lo=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.queue_=[]}var n,e;return n=t,(e=[{key:"peek",value:function(){var t=this.length;return t?this.queue_[t-1].item:null}},{key:"enqueue",value:function(t,n){if(isNaN(n))throw new Error("Priority must not be NaN.");var e=this.binarySearch_(n);this.queue_.splice(e,0,{item:t,priority:n})}},{key:"binarySearch_",value:function(t){for(var n=-1,e=0,i=this.length;e<=i&&(n=Math.floor((e+i)/2))!==this.length;)if(this.queue_[n].priority<t)e=n+1;else{if(!(n>0&&this.queue_[n-1].priority>=t))break;i=n-1}return n}},{key:"forEach",value:function(t){for(var n=this.length;n--;)t(this.queue_[n].item)}},{key:"dequeue",value:function(){return this.length?this.queue_.pop().item:null}},{key:"length",get:function(){return this.queue_.length}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,n){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Zo(t,n){if(n&&("object"===No(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ho(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Go(t,n,e){return n&&Ho(t.prototype,n),e&&Ho(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Wo="CHUNK",$o=/nochunking=1/.test(self.location.hash),qo=a();function Qo(t,n){if($o)qo.then(t);else{var e=(ue("chunk",Ko),se("chunk"));e.runForStartup(t),n&&e.runForStartup((function(){e.bodyIsVisible_=!0}))}}var Yo="not_run",Xo=function(){function t(n){Vo(this,t),this.state=Yo,this.fn_=n}return Go(t,[{key:"runTask_",value:function(t){if("run"!=this.state){this.state="run";try{this.fn_(t)}catch(t){throw this.onTaskError_(t),t}}}},{key:"getName_",value:function(){return this.fn_.displayName||this.fn_.name}},{key:"onTaskError_",value:function(t){}},{key:"immediateTriggerCondition_",value:function(){return!0}},{key:"useRequestIdleCallback_",value:function(){return!1}}]),t}(),Jo=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Uo(t,n)}(r,t);var n,e,i=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=Bo(n);if(e){var r=Bo(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Zo(this,t)});function r(t,n,e){var o;return Vo(this,r),(o=i.call(this,t)).chunks_=e,o}return Go(r,[{key:"onTaskError_",value:function(t){Kn(self.document)}},{key:"useRequestIdleCallback_",value:function(){return this.chunks_.coreReady_}}]),r}(Xo),Ko=function(){function t(){var n=this;Vo(this,t),this.win_=self,this.tasks_=new Lo,this.boundExecute_=this.execute_.bind(this),this.durationOfLastExecution_=0,this.supportsInputPending_=!(!this.win_.navigator.scheduling||!this.win_.navigator.scheduling.isInputPending),this.scheduledImmediateInvocation_=!1,this.bodyIsVisible_=this.win_.document.documentElement.hasAttribute("i-spzhtml-no-boilerplate"),this.win_.addEventListener("message",(function(t){"spz-macro-task"==xi(t)&&n.execute_(null)})),this.coreReady_=!1,gi.viewerPromiseForDoc().then((function(){n.coreReady_=!0}))}return Go(t,[{key:"run",value:function(t,n){var e=new Xo(t);this.enqueueTask_(e,n)}},{key:"runForStartup",value:function(t){var n=new Jo(t,this.win_,this);this.enqueueTask_(n,Number.POSITIVE_INFINITY)}},{key:"enqueueTask_",value:function(t,n){this.tasks_.enqueue(t,n),this.schedule_()}},{key:"nextTask_",value:function(t){for(var n=this.tasks_.peek();n&&n.state!==Yo;)this.tasks_.dequeue(),n=this.tasks_.peek();return n&&t&&this.tasks_.dequeue(),n}},{key:"execute_",value:function(t){var n,e=this,i=this.nextTask_(!0);if(!i)return this.scheduledImmediateInvocation_=!1,this.durationOfLastExecution_=0,!1;try{n=Date.now(),i.runTask_(t)}finally{qo.then().then().then().then().then().then().then().then().then((function(){e.scheduledImmediateInvocation_=!1,e.durationOfLastExecution_+=Date.now()-n,re().fine(Wo,i.getName_(),"Chunk duration",Date.now()-n,e.durationOfLastExecution_),e.schedule_()}))}return!0}},{key:"executeAsap_",value:function(t){var n=this;if(this.bodyIsVisible_&&(this.supportsInputPending_?this.win_.navigator.scheduling.isInputPending():this.durationOfLastExecution_>5))return this.durationOfLastExecution_=0,void this.requestMacroTask_();qo.then((function(){n.boundExecute_(t)}))}},{key:"schedule_",value:function(){if(!this.scheduledImmediateInvocation_){var t=this.nextTask_();if(t)return t.immediateTriggerCondition_()?(this.scheduledImmediateInvocation_=!0,void this.executeAsap_(null)):void(t.useRequestIdleCallback_()&&this.win_.requestIdleCallback?function(t,n,e,i){var r=Date.now();t.requestIdleCallback((function n(o){if(o.timeRemaining()<15){var u=e-(Date.now()-r);u<=0||o.didTimeout?(re().fine(Wo,"Timed out",e,o.didTimeout),i(o)):(re().fine(Wo,"Rescheduling with",u,o.timeRemaining()),t.requestIdleCallback(n,{timeout:u}))}else re().fine(Wo,"Running idle callback with ",15),i(o)}),{timeout:e})}(this.win_,0,2e3,this.boundExecute_):this.requestMacroTask_())}}},{key:"requestMacroTask_",value:function(){this.win_.postMessage("spz-macro-task","*")}}]),t}();var tu=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.win_=n,this.callback_=e,this.exprMap_={}}var n,e;return n=t,(e=[{key:"resolveMatchQuery",value:function(t){return/\((.+?)\)/g.test(t)?this.resolve_(t,this.parseMediaQueryListExpr_,""):t}},{key:"resolve_",value:function(t,n){var e=this.exprMap_[t];return e||(e=n(this.win_,t),this.toggleOnChange_(e,this.callback_)),this.exprMap_[t]=e,this.resolveMediaQueryListExpr_(e)}},{key:"parseMediaQueryListExpr_",value:function(t,n){return n.split(",").map((function(n){if(0!=(n=n.replace(/\s+/g," ").trim()).length){var e=n.split(" "),i=e.pop();if(!i)return null;var r=e.join(" ");return{query:r?t.matchMedia(r):null,value:i}}})).filter(Boolean)}},{key:"resolveMediaQueryListExpr_",value:function(t){var n;return null===(n=t.find((function(t){var n=t.query;return!n||n.matches})))||void 0===n?void 0:n.value}},{key:"toggleOnChange_",value:function(t,n){var e=this;t.forEach((function(t){var i=t.query;i&&(i.onchange=function(t){e.clear_(),n(t)})}))}},{key:"clear_",value:function(){this.exprMap_={}}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function nu(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.rootMargin,r=e.threshold;return new n.IntersectionObserver(t,{threshold:r,undefined:void 0,rootMargin:i})}var eu=new WeakMap,iu=new WeakMap;function ru(t){for(var n=new Set,e=t.length-1;e>=0;e--){var i=t[e],r=i.target;if(!n.has(r)){n.add(r);var o=iu.get(r);if(o)for(var u=0;u<o.length;u++)(0,o[u])(i)}}}var ou={};ou.Layout=dn,ou.SpzEvents=Ce,ou.LayoutPriority=mn,ou.isLayoutSizeDefined=Sn,ou.isLayoutSizeFixed=function(t){return t==dn.FIXED||t==dn.FIXED_HEIGHT},ou.isLayoutSizeLogic=function(t){return t==dn.LOGIC},ou.observeIntersections=function(t,n,e){var i=t.ownerDocument.defaultView;if(e){var r=nu((function(t){n(t[t.length-1])}),i,e);return r.observe(t),function(){r.unobserve(t)}}var o=eu.get(i);o||eu.set(i,o=nu(ru,i));var u=iu.get(t);return u||(u=[],iu.set(t,u)),u.push(n),o.observe(t),function(){!function(t,n){var e=iu.get(t);if(e&&Z(e,n)&&!e.length){var i=t.ownerDocument.defaultView,r=eu.get(i);null==r||r.unobserve(t),iu.delete(t)}}(t,n)}},ou.Dom={tryFocus:Vt,closest:xt,closestAncestorElementBySelector:_t,removeElement:Lt,realChildElements:function(t){return Ct(t,(function(t){return"string"==typeof(e=n=t)?i=e:e.nodeType===Node.ELEMENT_NODE&&(i=Q(e).tagName),!(i&&i.toLowerCase().startsWith("i-")||n.nodeType===Node.ELEMENT_NODE&&(Q(n),n.hasAttribute("placeholder")||n.hasAttribute("fallback")||n.hasAttribute("overflow")));var n,e,i}))},scopedQuerySelector:jt,scopedQuerySelectorAll:Et,removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toggleAttribute:function(t,n,e){var i=t.hasAttribute(n),r=void 0!==e?e:!i;return r!==i&&(r?t.setAttribute(n,""):t.removeAttribute(n)),r},isConnectedNode:Ut,dispatchCustomEvent:Ht,getStyle:function(t,n,e){var i=an(t.style,n,e);if(i)return hn(i)?t.style.getPropertyValue(i):t.style[i]},setImportantStyles:function(t,n){var e=t.style;for(var i in n)e.setProperty(an(e,i),String(n[i]),"important")},setStyle:sn,setStyles:ln,computedStyle:fn,toggle:cn,htmlFor:en,isIframeVideoPlayerComponent:function(t){return"SPZ-VIDEO"!=t&&kn.test(t)},waitForChild:Dt,MediaQueryProps:tu},ou.Types={isArray:N,toArray:L,isEmptyObject:d,dict:b,getValueForExpr:w,hasOwn:k,throttle:V,debounce:H},ou.DS={bezierCurve:so},ou.Curves=co,ou.Math={clamp:Oo};var uu=ou,au=gi;function su(t){return t.tagName.startsWith("SPZ-")}var lu={isSpzElement:su};lu.Event={create:Ei,listen:Ai,listenOnce:_i,delegateListen:function(t,n,e,i,r){return function(t,n,e,i,r){return ji(t,e,(function(t){for(var e=t.currentTarget,r=t.target,o=r;o&&o!=e;){if(At(o,n)){var u=Si({},r);u.target=o,u.currentTarget=o,null==i||i(u)}o=o.parentNode}}),r)}(t,n,e,i,r)}},lu.Animation=ko,lu.Transtion={numeric:jo,px:function(t){return function(n){return t(n)+"px"}},setStyles:function(t,n){return function(e,i){for(var r in n)sn(t,("display"===(o=r)&&re().error("STYLE","`display` style detected. You must use toggle instead."),o),n[r](e,i));var o}}},lu.Styles={install:Yn},lu.Urls={addParamsToUrl:vr,parseQueryString:tr,addOrReplaceParams:yr,removeFragment:br,removeSearch:function(t){var n=t.indexOf("?");if(-1==n)return t;var e=function(t){var n=t.indexOf("#");return-1==n?"":t.substring(n)}(t);return t.substring(0,n)+e},isSpzElement:su};var cu,fu=lu;cu=function(t,n,e){Re(n)}.bind(null,self),self.__SPZ_REPORT_ERROR=cu;var hu="runtime";function vu(t,n){return!("function"==typeof n||!n.m&&("1.0"==n.v||console.log("We skip the reload.",n),1))}function yu(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var pu=["SPZ-IMG"],du=[];function mu(){var t;t=function(t){var n,e=function(t){var n=[],e=[],i=[],r=function(t){var r=t.tagName;if(!(null!=r&&r.startsWith("SPZ-CUSTOM")||null==r||!r.startsWith("SPZ-")||pu.includes(r))){var o=t.getAttribute("layout"),u=o!==dn.NODISPLAY,a=o===dn.LOGIC;a&&!i.includes(r)?i.push(r):!u||a||n.includes(r)?u||e.includes(r)||e.push(r):n.push(r)}};return t.forEach((function(t){r(t);var n=t.querySelectorAll&&t.querySelectorAll("[layout]");null==n||n.forEach((function(t){r(t)}))})),{spzList:n.map((function(t){return{extensionId:t.toLowerCase()}})),spzLogicList:i,noDisplayList:e}}(t),i=e.noDisplayList,r=e.spzList,o=e.spzLogicList;r.length&&oi(r),(n=o).length&&n.forEach((function(t){var n=Wn(self,t.toLocaleLowerCase(),"0.1");self.document.head.appendChild(n)})),function(t){var n=Array.prototype.filter.call(t,(function(t){return"FORM"===t.tagName&&("spz-form"===t.getAttribute("is")||t.hasAttribute("action-xhr"))}));if(n.length){var e=new IntersectionObserver((function(t){var n=se("spz-form"),e=t.filter((function(t){return t.isIntersecting})).map((function(t){return t.target}));if(e.length)if(n)n.installSubmissionHandlers(e);else{var i=Wn(self,"spz-form","0.1");self.document.head.appendChild(i)}}));n.forEach((function(t){return e.observe(t)}))}}(t),function(t){t.length&&t.forEach((function(t){if(!du.includes(t)){var n=Hn(t.toLowerCase()),e=self.document.createElement("link");e.setAttribute("rel","prefetch"),e.setAttribute("as","script"),e.href=n,self.document.head.appendChild(e),du.push(t)}}))}(i)},new(self.MutationObserver||self.WebKitMutationObserver)((function(n){var e=n.reduce((function(t,n){return t.concat.apply(t,function(t){return function(t){if(Array.isArray(t))return yu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return yu(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?yu(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.addedNodes))}),[]);e.length&&t(e)})).observe(self.document.documentElement,{childList:!0,subtree:!0}),t(Array.from(self.document.querySelectorAll("[layout]")).concat(Array.from(self.document.querySelectorAll("form")))),Qo((function(){Ro(self),ue("url",uo,!0),ue("templates",io),ue("viewport",_o,!0),ue("mutator",Yr),ue("action",$i,!0),ue("standard-actions",no,!0),ue("spz-locale",Qr)})),Qo((function(){!function(t,n){if(t.__SPZ_TAG)return a();t.__SPZ_TAG=!0;var e=t.SPZ||[];oe(t,"extensions",di);var i=gi.extensionsFor(t);Ro(t),t.SPZ={win:t,lang:self.document.documentElement.getAttribute("lang")||"en-US"},Un().minified||(t.SPZ.extension=function(n,e,i){i(t.SPZ)}),function(t){t.SPZCore=uu,t.SPZUtils=fu,t.SPZServices=au}(t),t.SPZ.config=Ln,t.SPZ.BaseElement=Pi,t.SPZ.registerElement=i.addElement.bind(i),t.SPZ.registerServiceForDoc=i.addService.bind(i),t.SPZ.whenDefined=function(n){var e=n.tagName.toLowerCase();return au.extensionsFor(t).installExtensionForDoc(e).then((function(){return t.customElements.whenDefined(e)}))},t.SPZ.whenApiDefined=function(n){return t.SPZ.whenDefined(n).then((function(){return n.getApi()}))},t.SPZ.defineElement=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.1";t.startsWith("spz-custom")&&o({n:t,ev:e,l:!0,f:function(){self.SPZ.registerElement(t,n)}})};var r=Ft(t.document).then((function(){oi()}));function o(n){!function(t,n,e){"function"==typeof n||"high"==n.p?a().then(e):(e.displayName=n.n,Qo(e))}(0,n,(function(){r.then((function(){"function"==typeof n?n(t.SPZ,t.SPZ._):i.registerExtension(n.n,n.ev,n.l,n.f,t.SPZ)}))}))}for(var u=0;u<e.length;u++){var s=e[u];if(vu(0,s))e.splice(u--,1);else if("function"==typeof s||"high"==s.p){try{o(s)}catch(t){re().error(hu,"Extension failed: ",t,s.n)}e.splice(u--,1)}}!function(t,n){t.document.body?gi.timerFor(t).delay(n,1):n()}(t,(function(){t.SPZ.push=function(t){vu(0,t)||o(t)};for(var n=0;n<e.length;n++){var i=e[n];if(!vu(0,i))try{o(i)}catch(t){re().error(hu,"Extension failed: ",t,i.n)}}e.length=0})),t.SPZ.push||(t.SPZ.push=e.push.bind(e)),gi.platformFor(t).isIos()&&sn(t.document.documentElement,"cursor","pointer");var l=gi.extensionsFor(t);(function(t){return!t.IntersectionObserver||!t.IntersectionObserverEntry||!!t.IntersectionObserver._stub||!function(t){try{return new t.IntersectionObserver((function(){}),{root:t.document}),!0}catch(t){return!1}}(t)||function(t){return/apple/i.test(t.navigator.vendor)}(t)})(t)&&l.preloadExtension("spz-intersection-observer-polyfill")}(self)})),Qo((function(){!function(t){!function(t){ai(t,Lr,Zr)}(t),function(t){ai(t,"spz-layout",qr)}(t)}(self)})),Qo((function(){var t;q((t=self.document).defaultView,"Passed in document must have a defaultView"),Ft(t).catch((function(t){j(t)})).then((function(){Jn=!0,te(t)}))}),!0)}self.location&&(self.location.originalHash=self.location.hash);try{!function(t){t.onerror=Me,t.addEventListener("unhandledrejection",(function(t){Re(t.reason||new Error("rejected promise "+t))}))}(self)}catch(t){throw Kn(self.document),t}Qo((function(){Jr(self),Yn("html{overflow-x:hidden!important}html,html body{height:auto!important}html body{margin:0!important}body{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}html.i-spzhtml-doc{-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom}html.i-spzhtml-doc>body{overflow:visible!important;position:relative!important}.i-spzhtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}.i-spzhtml-carousel-scroll-disabled{-ms-touch-action:none;touch-action:none;-ms-touch-action:pan-y;touch-action:pan-y}spz-list [role=loading]:not([pagination]),spz-list [role=loading]:not([scroll]),spz-pagination>[role=arrow]{display:none}spz-carousel{display:-ms-flexbox!important;display:flex!important}spz-img[layout=responsive][auto-fit]{width:100%}spz-accordion>section>:last-child{display:none!important}spz-accordion>section[expanded]>:last-child{display:block!important}[layout=container]:not(.i-spzhtml-built){color:inherit!important}spz-menu [spz-menu-content]{display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}spz-menu[hover-interact] [dropdown]{opacity:0;pointer-events:none}spz-menu[hover-interact][finish] [dropdown]{opacity:1!important;pointer-events:auto!important}spz-list[display-in-order] [role=listitem] spz-img img{opacity:0;transition:opacity .5s linear}spz-carousel:not(.i-spzhtml-built)>[lcp]{position:relative!important}spz-carousel>[lcp]{-ms-flex-negative:0;flex-shrink:0;width:100%}spz-carousel>[lcp].i-spzhtml-slide-item-lcp{display:none}spz-script{font-size:0}spz-carousel:not(.i-spzhtml-built)>:not([lcp]){display:none}\n/*# sourceURL=/css/spzdoc.css*/[hidden]{display:none!important}.i-spzhtml-element{display:inline-block}[layout=nodisplay]:not(.i-spzhtml-element){display:none!important}.i-spzhtml-layout-fixed,[layout=fixed][width][height]:not(.i-spzhtml-layout-fixed){display:inline-block;position:relative}.i-spzhtml-layout-responsive,[layout=responsive][width][height]:not(.i-spzhtml-layout-responsive),[width][height][heights]:not([layout]):not(.i-spzhtml-layout-responsive),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-layout-responsive){display:block;position:relative}.i-spzhtml-layout-intrinsic,[layout=intrinsic][width][height]:not(.i-spzhtml-layout-intrinsic){display:inline-block!important;position:relative;max-width:100%}.i-spzhtml-layout-intrinsic .i-spzhtml-sizer{max-width:100%}.i-spzhtml-intrinsic-sizer{max-width:100%;display:block!important}.i-spzhtml-layout-container,.i-spzhtml-layout-fixed-height,.i-spzhtml-layout-logic,[layout=container],[layout=fixed-height][height]:not(.i-spzhtml-layout-fixed-height){display:block;position:relative}.i-spzhtml-layout-fill,.i-spzhtml-layout-fill.i-spzhtml-notbuilt,[layout=fill]:not(.i-spzhtml-layout-fill){display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}.i-spzhtml-layout-flex-item,[layout=flex-item]:not(.i-spzhtml-layout-flex-item){display:block;position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.i-spzhtml-layout-fluid{position:relative}.i-spzhtml-layout-size-defined{overflow:hidden!important}.i-spzhtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-spzhtml-sizer{display:block!important}@supports (aspect-ratio:1/1){i-spzhtml-sizer.i-spzhtml-disable-ar{display:none!important}}.i-spzhtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-spzhtml-layout-size-defined .i-spzhtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-spzhtml-replaced-content{padding:0!important;border:none!important}.i-spzhtml-unresolved{position:relative;overflow:hidden!important}.i-spzhtml-select-disabled{-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-spzhtml-notbuilt,[layout]:not(.i-spzhtml-element),[width][height][heights]:not([layout]):not(.i-spzhtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-spzhtml-notbuilt:not(.i-spzhtml-layout-container)>*,[layout]:not([layout=container]):not(.i-spzhtml-element)>*,[width][height][heights]:not([layout]):not(.i-spzhtml-element)>*,[width][height][sizes]:not([layout]):not(.i-spzhtml-element)>*{display:none}spz-img:not(.i-spzhtml-element)[i-spzhtml-ssr]>img.i-spzhtml-fill-content{display:block}.i-spzhtml-notbuilt:not(.i-spzhtml-layout-container),[layout]:not([layout=container]):not(.i-spzhtml-element),[width][height][heights]:not([layout]):not(.i-spzhtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-spzhtml-element){color:transparent!important;line-height:0!important}.i-spzhtml-ghost{visibility:hidden!important}.i-spzhtml-element>[placeholder],[layout]:not(.i-spzhtml-element)>[placeholder],[width][height][heights]:not([layout]):not(.i-spzhtml-element)>[placeholder],[width][height][sizes]:not([layout]):not(.i-spzhtml-element)>[placeholder]{display:block;line-height:normal}.i-spzhtml-element>[placeholder].hidden,.i-spzhtml-element>[placeholder].spz-hidden{visibility:hidden}.i-spzhtml-element:not(.spz-notsupported)>[fallback],.i-spzhtml-layout-container>[placeholder].hidden,.i-spzhtml-layout-container>[placeholder].spz-hidden{display:none}.i-spzhtml-layout-size-defined>[fallback],.i-spzhtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}spz-img.i-spzhtml-ssr:not(.i-spzhtml-element)>[placeholder]{z-index:auto}.i-spzhtml-notbuilt>[placeholder]{display:block!important}.i-spzhtml-hidden-by-media-query{display:none!important}.i-spzhtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-spzhtml-element-error:before{content:attr(error-message)}i-spz-scroll-container,i-spzhtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-spz-scroll-container.spz-active,i-spzhtml-scroll-container.spz-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-spzhtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-spzhtml-notbuilt>.i-spzhtml-loading-container{display:block!important}.i-spzhtml-loading-container.spz-hidden{visibility:hidden}.i-spzhtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden;display:initial;line-height:normal}.i-spzhtml-layout-size-defined>[overflow]{position:absolute}.i-spzhtml-element>[overflow].spz-visible{visibility:visible}template{display:none!important}.spz-border-box,.spz-border-box *,.spz-border-box :after,.spz-border-box :before{box-sizing:border-box}spz-pixel{display:none!important}[visible-when-invalid]:not(.visible),form [submit-error],form [submit-success],form [submitting]{display:none}[layout=intrinsic][i-spzhtml-unheight-layout] img{width:100%!important;height:auto!important;position:relative!important}\n/*# sourceURL=/css/spzshared.css*/",(function(){return mu()}),!0,"spz-runtime")})),self.console&&(console.info||console.log).call(console,"Powered by Shoplazza  Theme 2.0",self.location.href),Un().localDev&&self.document.documentElement.setAttribute("esm",0),self.document.documentElement.setAttribute("spz-version","1.0")}()}catch(t){throw setTimeout((function(){var t=document.body.style;t.opacity=1,t.visibility="visible",t.animation="none",t.WebkitAnimation="none;"}),1e3),t}
